{"version":3,"sources":["modules/Admin/components/Title.js","core/components/Home.js","core/components/App.js","core/containers/Root.js","core/history.js","modules/Admin/withTitle.js","modules/Admin/Request/List.js","modules/Admin/Request/Form.js","modules/Admin/Request/Router.js","modules/functions.js","modules/Admin/Request/index.js","modules/Admin/Dashboard/Dashboard.js","modules/Admin/Dashboard/index.js","modules/Admin/Product/List.js","modules/Admin/Category/List.js","modules/Admin/Category/Form.js","modules/Admin/Category/index.js","modules/Admin/Category/Router.js","modules/Admin/Product/Form.js","modules/Admin/Product/index.js","modules/Admin/Product/Router.js","modules/Admin/components/Alert.js","modules/Admin/Layout.js","modules/Admin/Login.js","modules/Admin/theme/palette.js","modules/Admin/theme/typography.js","modules/Admin/theme/overrides/MuiTableCell.js","modules/Admin/theme/overrides/index.js","modules/Admin/theme/overrides/MuiButton.js","modules/Admin/theme/overrides/MuiIconButton.js","modules/Admin/theme/overrides/MuiPaper.js","modules/Admin/theme/overrides/MuiTableHead.js","modules/Admin/theme/overrides/MuiTypography.js","modules/Admin/theme/index.js","modules/Admin/withAuth.js","modules/Admin/Admin.js","modules/Admin/index.js","modules/index.js","store.js","routes.js","serviceWorker.js","index.js"],"names":["Home","props","to","App","routes","map","route","index","length","path","key","render","component","title","exact","Root","store","history","createBrowserHistory","listen","location","console","log","withTitle","Component","connect","dispatch","setTitle","type","SET_TITLE","payload","TableList","lazy","List","this","requests","loadRequests","match","loadingRequests","onDelete","header","fallback","loading","columnNames","rows","item","i","_id","columns","text","name","email","address","message","addItemText","searchBoxPlaceholder","React","ListContainer","state","Admin","Request","LOAD_REQUESTS_REQ","fetch","then","res","ok","json","LOAD_REQUESTS_RES","deleteId","b","id","method","body","JSON","stringify","headers","result","DELETE_RES","request","data","useStyles","makeStyles","theme","container","paddingTop","spacing","paddingBottom","paper","padding","display","overflow","flexDirection","textField","width","themesSelect","button","float","FormCard","update","themes","action","saving","classes","useState","redirect","setRedirect","Container","maxWidth","className","Grid","xs","Button","variant","color","Paper","onSubmit","e","inputs","target","elements","value","params","requestId","preventDefault","sm","TextField","label","margin","defaultValue","required","multiline","disabled","CircularProgress","size","Form","loadRequest","setState","loadingRequest","LinearProgress","s","LOAD_REQUEST_REQ","LOAD_REQUEST_RES","SAVE_REQ","SAVE_RES","Router","defineModule","reducer","children","onEnter","flatModules","modules","Object","keys","x","Array","isArray","forEach","y","MODULE","reduce","c","n","concat","actionPrefix","defaultState","deleteDialogOpen","r","push","filter","clsx","fixedHeight","Fragment","loadItems","items","shouldLoadItems","loadingItems","showDeleteDialog","category","price","Product","LOAD_ITEMS_REQ","LOAD_ITEMS_RES","Category","itemId","loadItem","loadingItem","LOAD_ITEM_REQ","LOAD_ITEM_RES","categories","options","SelectMenu","option","setOption","inputLabel","useRef","labelWidth","setLabelWidth","useEffect","current","offsetWidth","menuItems","th","MenuItem","FormControl","InputLabel","ref","Select","labelId","onChange","event","loadCategories","LOAD_CATEGORIES_REQ","LOAD_CATEGORIES_RES","collapse","position","top","right","zIndex","CustomAlertContainer","alert","open","setOpen","Collapse","in","Alert","severity","onClose","toString","Copyright","Typography","align","Date","getFullYear","root","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","mixins","appBar","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","height","MainListItems","accessRights","menuItem","indexOf","accessRightTitle","Icon","icon","ListItem","ListItemIcon","link","ListItemText","primary","LayoutContainer","rights","user","logOut","LOG_OUT","CssBaseline","AppBar","Toolbar","IconButton","edge","aria-label","onClick","noWrap","Badge","badgeContent","goBack","Drawer","Divider","Link","href","backgroundColor","palette","common","white","marginTop","avatar","secondary","main","form","submit","Login","changeHandler","submitHandler","signIn","password","loggedIn","redirectUrl","window","localStorage","getItem","failed","loginFailed","authenticating","Box","mt","LoginForm","Avatar","error","fullWidth","autoComplete","autoFocus","FormControlLabel","control","Checkbox","LoginContainer","username","SIGN_IN_REQ","SIGN_IN_RES","catch","err","ALERT","black","contrastText","dark","colors","indigo","light","blue","success","green","info","warning","orange","red","blueGrey","background","default","divider","grey","h1","fontWeight","fontSize","letterSpacing","lineHeight","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","overline","textTransform","MuiButton","contained","boxShadow","MuiIconButton","MuiPaper","elevation1","MuiTableCell","typography","borderBottom","MuiTableHead","MuiTypography","gutterBottom","marginBottom","createMuiTheme","overrides","withAuth","ComponentToProtect","protectedModule","ProtectedComponent","getUser","Promise","resolve","reject","getActiveUser","hasAccessRight","pathname","ThemeProvider","setItem","Layout","Routes","DashboardIcon","EmployeeIcon","ProductIcon","ExtensionIcon","defaultUserState","loginAttempted","userReducer","p","defaultAlertState","alertReducer","a","Dashboard","dashboardReducer","requestReducer","productReducer","categoryReducer","createAppStore","middleware","createStore","applyMiddleware","combineReducers","reducers","flat","Error","combineModuleReducers","getRoutes","routeParams","cm","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","document","getElementById","process","URL","origin","addEventListener","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.75048f68.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Title(props) {\r\n  return (\r\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTitle.propTypes = {\r\n  children: PropTypes.node,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst Home=(props)=>(\r\n\t<Redirect to={'/admin'} />\r\n);\r\n\r\nHome.propTypes={\r\n\ttitle:PropTypes.string.isRequired\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\nimport Home from './Home';\r\n\r\nconst App=(props)=>{\r\n\tconst routes=props.routes.map((route,index) => {\r\n\t\tif(route.routes && route.routes.length){\r\n\t\t\treturn(\r\n\t\t\t\t<Route path={route.path} key={route.path} render={(props)=>{\r\n\t\t\t\t\treturn(\t\r\n\t\t\t\t\t\t<route.component {...props} title={route.title} routes={route.routes} />\r\n\t\t\t\t\t);\r\n\t\t\t\t}} />\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t        \t<Route path={route.path} key={route.path} component={route.component} />\r\n\t        );\r\n\t\t}\r\n    });\r\n\r\n\treturn(\r\n\t\t<Switch>\r\n\t\t\t<Route exact path={'/'} component={Home} />\r\n\t\t\t{routes}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n\r\nApp.propTypes={\r\n\troutes:PropTypes.array\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Provider} from 'react-redux';\r\nimport {Router, Route} from 'react-router-dom';\r\n\r\nimport App from '../components/App';\r\n\r\nconst Root=(props)=>{\r\n\treturn(\r\n\t\t<Provider store={props.store}>\r\n\t\t\t<Router history={props.history}>\r\n\t\t\t\t<App {...props} />\r\n\t\t\t</Router>\r\n\t\t</Provider>\r\n\t);\r\n}\r\n\r\nRoot.propTypes={\r\n\thistory:PropTypes.object.isRequired,\r\n\troutes:PropTypes.array.isRequired,\r\n\tstore:PropTypes.object.isRequired\r\n}\r\n\r\nexport default Root;","import {createBrowserHistory} from 'history';\r\n\r\nconst history=createBrowserHistory();\r\n\r\nhistory.listen((location)=>{\r\n\tconsole.log('history is listening: '+location);\r\n\t// do some stuff\r\n});\r\n\r\nexport default history;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {SET_TITLE} from './index';\r\n\r\nconst withTitle=(Component)=>(title)=>{\r\n\t//console.log('with title', Component);\r\n\tconst ComponentWithTitle=(props)=>{\r\n\t\tprops.setTitle(title);\r\n\r\n\t\treturn(\r\n\t\t\t<Component />\r\n\t\t);\r\n\t}\r\n\r\n\tconst mapDispatchToProps=dispatch=>({\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\treturn connect(null, mapDispatchToProps)(ComponentWithTitle);\r\n}\r\n\r\nexport default withTitle;","import React, {lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {LOAD_REQUESTS_REQ, LOAD_REQUESTS_RES, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tcomponentDidMount(){\r\n\t\tconst {requests, loadRequests}=this.props;\r\n\t\tif(!(requests && requests.length)){\r\n\t\t\tloadRequests();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Request List',this.props);\r\n\t\tconst {match, requests, loadingRequests, onDelete, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList \r\n\t\t\t\t\tloading={loadingRequests}\r\n\t\t\t\t\tcolumnNames={['Name', 'Email', 'Address', 'Description']}\r\n\t\t\t\t\trows={requests.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id: item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttext: item.name\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.email\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.address\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.message\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/employees'}\r\n\t\t\t\t\theader={header}\r\n\t\t\t\t\taddItemText={'Add Employee'}\r\n\t\t\t\t\tsearchBoxPlaceholder={'search employee'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Request\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadRequests:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_REQUESTS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/request/get').then((res)=>res.ok?res.json():[]).then((requests)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_REQUESTS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\trequests\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/request/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{request:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Employees');","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link, Redirect} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\tButton,\r\n\tLinearProgress,\r\n\tCircularProgress\r\n} from '@material-ui/core';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport Title from '../components/Title';\r\nimport {LOAD_REQUEST_REQ, LOAD_REQUEST_RES, SAVE_REQ, SAVE_RES} from './index';\r\nimport {SET_TITLE} from '../index';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \tcontainer: {\r\n    \tpaddingTop: theme.spacing(4),\r\n    \tpaddingBottom: theme.spacing(4),\r\n  \t},\r\n  \tpaper: {\r\n\t    padding: theme.spacing(2),\r\n\t    display: 'flex',\r\n\t    overflow: 'auto',\r\n\t    flexDirection: 'column',\r\n  \t},\r\n  \ttextField: {\r\n      \twidth: '100%'\r\n    },\r\n    themesSelect:{\r\n    \twidth:'100%'\r\n    },\r\n    button:{\r\n    \tfloat:'right'\r\n    }\r\n}));\r\n\r\nexport function FormCard({request, match, themes, update, action, saving}) {\r\n  \tconst classes = useStyles();\r\n  \tconst [redirect, setRedirect]=React.useState('');\r\n\r\n  \tconst submitHandler=e=>{\r\n  \t\tvar inputs=e.target.elements;\r\n  \t\tvar data={\r\n  \t\t\tname:inputs.name.value,\r\n  \t\t\temail:inputs.email.value,\r\n  \t\t\taddress:inputs.address.value,\r\n  \t\t\tmessage:inputs.message.value\r\n  \t\t}\r\n  \t\tif(action==='edit'){\r\n  \t\t\tdata.id=match.params.requestId;\t\r\n  \t\t}\r\n\r\n  \t\tupdate(data).then((json)=>{\r\n  \t\t\tif(json.result==='success'){\r\n  \t\t\t\tsetRedirect('/admin/employees');\r\n  \t\t\t}\r\n  \t\t});\r\n  \t\t\r\n  \t\te.preventDefault();\r\n  \t}\r\n\r\n  \tif(redirect){\r\n  \t\tconsole.log('redirecting',redirect);\r\n  \t\treturn(\r\n  \t\t\t<Redirect to={redirect} />\r\n  \t\t);\r\n  \t}\r\n\r\n  \treturn (\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={'/admin/employees'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t    <form onSubmit={submitHandler}>\r\n\t\t\t\t\t    \t<Grid container spacing={3} >\r\n\t\t\t\t\t\t    \t<Grid item sm={6}>\r\n\t\t\t\t\t\t\t    \t<TextField\r\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\r\n\t\t\t\t\t    \t          \tclassName={classes.textField}\r\n\t\t\t\t\t    \t          \tlabel={\"Name\"}\r\n\t\t\t\t\t    \t         \tmargin=\"normal\"\r\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\r\n\t\t\t\t\t    \t          \tname='name'\r\n\t\t\t\t\t    \t          \tdefaultValue={request.name}\r\n\t\t\t\t\t    \t          \trequired\r\n\t\t\t\t\t    \t        />\r\n\t\t\t\t\t    \t    </Grid>\r\n\t\t\t\t\t    \t    <Grid item sm={6}>\r\n\t    \t        \t\t    \t<TextField\r\n\t    \t            \t          \tid=\"outlined-basic\"\r\n\t    \t            \t          \tclassName={classes.textField}\r\n\t    \t            \t          \tlabel={\"Email\"}\r\n\t    \t            \t         \tmargin={\"normal\"}\r\n\t    \t            \t          \tvariant={\"outlined\"}\r\n\t    \t            \t          \tname={'email'}\r\n\t    \t            \t          \tdefaultValue={request.email}\r\n\t    \t            \t        />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<TextField\r\n\t    \t            \t          \tid=\"outlined-basic\"\r\n\t    \t            \t          \tclassName={classes.textField}\r\n\t    \t            \t          \tlabel={\"Address\"}\r\n\t    \t            \t         \tmargin={\"normal\"}\r\n\t    \t            \t          \tvariant={\"outlined\"}\r\n\t    \t            \t          \tname={'address'}\r\n\t    \t            \t          \tdefaultValue={request.address}\r\n\t    \t            \t        />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<TextField\r\n\t    \t            \t    \t    id=\"outlined-multiline-static\"\r\n\t    \t            \t    \t    label=\"Description\"\r\n\t    \t            \t    \t    multiline\r\n\t    \t            \t    \t    rows=\"4\"\r\n\t    \t            \t    \t    defaultValue={request.message}\r\n\t    \t            \t    \t    className={classes.textField}\r\n\t    \t            \t    \t    margin={\"normal\"}\r\n\t    \t            \t    \t    variant={\"outlined\"}\r\n\t    \t            \t    \t    name='message'\r\n\t    \t            \t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\r\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\r\n\t\t    \t            \t    </Button>\r\n\t\t    \t            \t</Grid>\r\n\t    \t            \t</Grid>\r\n\t\t\t\t    \t</form>\r\n\t           \t\t</Paper>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\n\r\nconst ThemesSelectMenu=props=>{\r\n\tconst [theme, setTheme] = React.useState(props.theme);\r\n\tconst classes = useStyles();\r\n\tconst inputLabel = React.useRef(null);\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t    setLabelWidth(inputLabel.current.offsetWidth);\r\n\t}, []);\r\n\r\n\tconst handleChange = event => {\r\n\t   \tsetTheme(event.target.value);\r\n\t};\r\n\r\n\tconst menuItems=props.themes.map((th,i)=>{\r\n\t\treturn(\r\n\t\t\t<MenuItem value={th.name}>{th.name}</MenuItem>\r\n\t\t)\r\n\t});\r\n\r\n\treturn(\r\n    \t<FormControl variant=\"outlined\" className={classes.themesSelect}>\r\n    \t    <InputLabel ref={inputLabel} id={\"demo-simple-select-outlined-label\"}>\r\n    \t        Theme\r\n    \t    </InputLabel>\r\n    \t    <Select\r\n\t          \tlabelId=\"demo-simple-select-outlined-label\"\r\n\t          \tid=\"demo-simple-select-outlined\"\r\n\t          \tname={'theme'} \r\n\t          \tvalue={theme}\r\n\t          \tonChange={handleChange}\r\n\t          \tlabelWidth={labelWidth}\r\n    \t    >\r\n    \t        {menuItems}\r\n    \t    </Select>\r\n    \t</FormControl>\r\n\t)\r\n}\r\n\r\nclass Form extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taction:''\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {loadRequest, match, setTitle}=this.props;\r\n\t\tif(match.params.requestId){\r\n\t\t\tthis.setState({action:'edit'});\r\n\t\t\tsetTitle('Edit employee');\r\n\t\t\tloadRequest(match.params.requestId);\r\n\t\t}else{\r\n\t\t\tthis.setState({action:'add'});\r\n\t\t\tsetTitle('Add employee');\r\n\t\t}\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Edit Request',this.props);\r\n\t\tconst {match, request, themes, update, loadingRequest, saving}=this.props;\r\n\t\tconst {action}=this.state;\r\n\t\tif(!loadingRequest){\r\n\t\t\treturn(\r\n\t\t\t\t<FormCard action={action} request={action=='edit'?request:{}} match={match} themes={themes} update={update} saving={saving}/>\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<LinearProgress />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Request\r\n\treturn {\r\n\t\trequests:s.requests,\r\n\t\trequest:s.request,\r\n\t\tloadingRequest:s.loadingRequest,\r\n\t\tsaving:s.saving\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadRequest:(requestId)=>{\r\n\t\t\tdispatch({type:LOAD_REQUEST_REQ});\r\n\t\t\treturn fetch('/api/request/get?id='+requestId).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_REQUEST_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\trequest:json\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:(data)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SAVE_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/request/store',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SAVE_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\trequest:json.data,\r\n\t\t\t\t\t\tresult:json.result\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn json;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Form);\r\n\r\nexport default ListContainer;","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\n\r\nimport List from './List';\r\nimport Form from './Form';\r\n\r\nconst Router=(props)=>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<Route exact path={props.match.path} component={List} />\r\n\t\t\t<Route exact path={props.match.path+'/edit/:requestId'} component={Form} />\r\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Router;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nexport const defineModule=(\r\n\ttitle,\r\n\tpath,\r\n\tcomponent,\r\n\treducer=(state={})=>state,\r\n\tchildren=null,\r\n\tonEnter=null,\r\n)=>{\r\n\treturn {title,path,component,reducer,onEnter,children}\r\n}\r\n\r\nexport const flatModules = modules => Object.keys(modules).map(x => {\r\n    const res = Array.isArray(modules[x]) ? modules[x] : [modules[x]];\r\n    res.forEach(y => y.MODULE = x)\r\n    return res\r\n}).reduce((c,n) => c.concat(n));\r\n\r\nexport const alertError = (options)=>{\r\n\tReactDOM.createPortal(\r\n\t\t<Alert severity=\"error\">This is an error alert — check it out!</Alert>,\r\n\t\tdocument.getElementById('alert-error'));\r\n}","// ******        This module is being used as Employee  ******\r\n\r\nimport Router from './Router';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst actionPrefix='Admin/Request/';\r\nexport const LOAD_REQUESTS_REQ=actionPrefix+'LoadRequestsReq';\r\nexport const LOAD_REQUESTS_RES=actionPrefix+'LoadRequestsRes';\r\nexport const LOAD_REQUEST_REQ=actionPrefix+'LoadRequestReq';\r\nexport const LOAD_REQUEST_RES=actionPrefix+'LoadRequestRes';\r\nexport const SAVE_REQ=actionPrefix+'SaveReq';\r\nexport const SAVE_RES=actionPrefix+'SaveRes';\r\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\r\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\r\nexport const DELETE_RES=actionPrefix+'DeleteRes';\r\n\r\nconst defaultState={\r\n\trequests:[],\r\n\tloadingRequests:false,\r\n\trequest:{},\r\n\tloadingRequest:false,\r\n\tdeleteDialogOpen:false,\r\n\tdeleteId:'',\r\n\tsaving:false\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase LOAD_REQUEST_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingRequest:true\r\n\t\t\t}\r\n\t\tcase LOAD_REQUEST_RES:\r\n\t\t\tvar request=action.payload.request;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trequest,\r\n\t\t\t\tloadingRequest:false\r\n\t\t\t}\r\n\t\tcase LOAD_REQUESTS_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingRequests:true\r\n\t\t\t}\r\n\t\tcase LOAD_REQUESTS_RES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingRequests:false,\r\n\t\t\t\trequests:action.payload.requests\r\n\t\t\t}\r\n\t\tcase SAVE_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsaving:true\r\n\t\t\t}\r\n\t\tcase SAVE_RES:\r\n\t\t\tvar request=action.payload.request;\r\n\t\t\tvar match=false;\r\n\t\t\tvar requests=state.requests.map((r,i)=>{\r\n\t\t\t\tif(r && r._id === request._id){\r\n\t\t\t\t\tmatch=true;\r\n\t\t\t\t\treturn request;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(!match){\r\n\t\t\t\trequests.push(request);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trequests,\r\n\t\t\t\tsaving:false\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:true,\r\n\t\t\t\tdeleteId:action.payload.deleteId\r\n\t\t\t}\r\n\t\tcase CLOSE_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:false\r\n\t\t\t}\r\n\t\tcase DELETE_RES:\r\n\t\t\tvar request=action.payload.request;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trequests:state.requests.filter((r)=>r._id !== request._id)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Employees','/employees', Router, reducer);","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\nimport {ListContainer as EmployeesList} from '../Request/List';\r\nimport {SET_TITLE} from '../index';\r\nimport withTitle from '../withTitle';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  }\r\n}));\r\n\r\nconst Dashboard = (props)=>{\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  console.log('Dashboard',props);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <EmployeesList header={\"Employees\"} />\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Paper className={classes.paper}>\r\n              Some Dashboard Content\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nDashboard.propTypes = {\r\n\r\n}\r\n\r\nexport default Dashboard;","import Dashboard from './Dashboard';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst FIRST_ACTION='Dashboard/FirstAction';\r\n\r\nexport const reducer=(state={name:'DEFAULT'}, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase FIRST_ACTION:\r\n\t\t\treturn {name:'Javlonbek'}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Dashboard', '/', Dashboard, reducer);","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Request List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tloading={loadingItems}\r\n\t\t\t\t\tcolumnNames={['Name', 'Category', 'Price']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id: item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttext: item.name\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.category.name\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.price\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/products'}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Product'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Product;\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/product/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/product/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Products');","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems}=this.props;\r\n\t\tif(!(items && items.length)){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Category List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tcolumnNames={['Name']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id:item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttext: item.name\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/categories'}\r\n\t\t\t\t\theader={header}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Category'}\r\n\t\t\t\t\tsearchBoxPlaceholder={'search category'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Category\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/category/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Categories');","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link, Redirect} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\tButton,\r\n\tLinearProgress,\r\n\tCircularProgress\r\n} from '@material-ui/core';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport Title from '../components/Title';\r\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES, SAVE_REQ, SAVE_RES} from './index';\r\nimport {SET_TITLE} from '../index';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \tcontainer: {\r\n    \tpaddingTop: theme.spacing(4),\r\n    \tpaddingBottom: theme.spacing(4),\r\n  \t},\r\n  \tpaper: {\r\n\t    padding: theme.spacing(2),\r\n\t    display: 'flex',\r\n\t    overflow: 'auto',\r\n\t    flexDirection: 'column',\r\n  \t},\r\n  \ttextField: {\r\n      \twidth: '100%'\r\n    },\r\n    themesSelect:{\r\n    \twidth:'100%'\r\n    },\r\n    button:{\r\n    \tfloat:'right'\r\n    }\r\n}));\r\n\r\nexport function FormCard({item, match, themes, update, action, saving}) {\r\n  \tconst classes = useStyles();\r\n  \tconst [redirect, setRedirect]=React.useState('');\r\n\r\n  \tconst submitHandler=e=>{\r\n  \t\tvar inputs=e.target.elements;\r\n  \t\tvar data={\r\n  \t\t\tname:inputs.name.value\r\n  \t\t}\r\n  \t\tif(action==='edit'){\r\n  \t\t\tdata.id=match.params.itemId;\t\r\n  \t\t}\r\n\r\n  \t\tupdate(data).then((json)=>{\r\n  \t\t\tif(json.result==='success'){\r\n  \t\t\t\tsetRedirect('/admin/categories');\r\n  \t\t\t}\r\n  \t\t});\r\n  \t\t\r\n  \t\te.preventDefault();\r\n  \t}\r\n\r\n  \tif(redirect){\r\n  \t\tconsole.log('redirecting',redirect);\r\n  \t\treturn(\r\n  \t\t\t<Redirect to={redirect} />\r\n  \t\t);\r\n  \t}\r\n\r\n  \treturn (\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={'/admin/categories'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t    <form onSubmit={submitHandler}>\r\n\t\t\t\t\t    \t<Grid container spacing={3} >\r\n\t\t\t\t\t\t    \t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t    \t<TextField\r\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\r\n\t\t\t\t\t    \t          \tclassName={classes.textField}\r\n\t\t\t\t\t    \t          \tlabel={\"Category name\"}\r\n\t\t\t\t\t    \t         \tmargin=\"normal\"\r\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\r\n\t\t\t\t\t    \t          \tname='name'\r\n\t\t\t\t\t    \t          \tdefaultValue={item.name}\r\n\t\t\t\t\t    \t          \trequired\r\n\t\t\t\t\t    \t        />\r\n\t\t\t\t\t    \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\r\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\r\n\t\t    \t            \t    </Button>\r\n\t\t    \t            \t</Grid>\r\n\t    \t            \t</Grid>\r\n\t\t\t\t    \t</form>\r\n\t           \t\t</Paper>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\n\r\nclass Form extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taction:''\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {loadItem, match, setTitle}=this.props;\r\n\t\tif(match.params.itemId){\r\n\t\t\tthis.setState({action:'edit'});\r\n\t\t\tsetTitle('Edit category');\r\n\t\t\tloadItem(match.params.itemId);\r\n\t\t}else{\r\n\t\t\tthis.setState({action:'add'});\r\n\t\t\tsetTitle('Add category');\r\n\t\t}\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Edit Request',this.props);\r\n\t\tconst {match, item, themes, update, loadingItem, saving}=this.props;\r\n\t\tconst {action}=this.state;\r\n\t\tif(!loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<FormCard action={action} item={action=='edit'?item:{}} match={match} themes={themes} update={update} saving={saving}/>\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<LinearProgress />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Category\r\n\treturn {\r\n\t\titems:s.items,\r\n\t\titem:s.item,\r\n\t\tloadingItem:s.loadingItem,\r\n\t\tsaving:s.saving\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(itemId)=>{\r\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\r\n\t\t\treturn fetch('/api/category/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:(data)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SAVE_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/store',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SAVE_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json.data,\r\n\t\t\t\t\t\tresult:json.result\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn json;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Form);\r\n\r\nexport default ListContainer;","import Router from './Router';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst actionPrefix='Admin/Category/';\r\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\r\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\r\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\r\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\r\nexport const SAVE_REQ=actionPrefix+'SaveReq';\r\nexport const SAVE_RES=actionPrefix+'SaveRes';\r\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\r\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\r\nexport const DELETE_RES=actionPrefix+'DeleteRes';\r\n\r\nconst defaultState={\r\n\titems:[],\r\n\tloadingItems:false,\r\n\titem:{},\r\n\tloadingItem:false,\r\n\tdeleteDialogOpen:false,\r\n\tdeleteId:'',\r\n\tsaving:false\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase LOAD_ITEM_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItem:true\r\n\t\t\t}\r\n\t\tcase LOAD_ITEM_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titem,\r\n\t\t\t\tloadingItem:false\r\n\t\t\t}\r\n\t\tcase LOAD_ITEMS_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItems:true\r\n\t\t\t}\r\n\t\tcase LOAD_ITEMS_RES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItems:false,\r\n\t\t\t\titems:action.payload.items\r\n\t\t\t}\r\n\t\tcase SAVE_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsaving:true\r\n\t\t\t}\r\n\t\tcase SAVE_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\tvar match=false;\r\n\t\t\tvar items=state.items.map((r,i)=>{\r\n\t\t\t\tif(r && r._id === item._id){\r\n\t\t\t\t\tmatch=true;\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(!match){\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems,\r\n\t\t\t\tsaving:false\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:true,\r\n\t\t\t\tdeleteId:action.payload.deleteId\r\n\t\t\t}\r\n\t\tcase CLOSE_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:false\r\n\t\t\t}\r\n\t\tcase DELETE_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Categories','/categories', Router, reducer);","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\n\r\nimport List from './List';\r\nimport Form from './Form';\r\n\r\nconst Router=(props)=>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<Route exact path={props.match.path} component={List} />\r\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\r\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Router;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link, Redirect} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\tButton,\r\n\tLinearProgress,\r\n\tCircularProgress\r\n} from '@material-ui/core';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport Title from '../components/Title';\r\nimport {\r\n\tLOAD_ITEM_REQ, \r\n\tLOAD_ITEM_RES, \r\n\tSAVE_REQ, \r\n\tSAVE_RES\r\n} from './index';\r\nimport {\r\n\tLOAD_ITEMS_REQ as LOAD_CATEGORIES_REQ, \r\n\tLOAD_ITEMS_RES as LOAD_CATEGORIES_RES\r\n} from '../Category';\r\nimport {SET_TITLE} from '../index';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \tcontainer: {\r\n    \tpaddingTop: theme.spacing(4),\r\n    \tpaddingBottom: theme.spacing(4),\r\n  \t},\r\n  \tpaper: {\r\n\t    padding: theme.spacing(2),\r\n\t    display: 'flex',\r\n\t    overflow: 'auto',\r\n\t    flexDirection: 'column',\r\n  \t},\r\n  \ttextField: {\r\n      \twidth: '100%'\r\n    },\r\n    themesSelect:{\r\n    \twidth:'100%'\r\n    },\r\n    button:{\r\n    \tfloat:'right'\r\n    }\r\n}));\r\n\r\nexport function FormCard({item, match, categories, update, action, saving}) {\r\n  \tconst classes = useStyles();\r\n  \tconst [redirect, setRedirect]=React.useState('');\r\n\r\n  \tconst submitHandler=e=>{\r\n  \t\tvar inputs=e.target.elements;\r\n  \t\tvar data={\r\n  \t\t\tname:inputs.name.value,\r\n  \t\t\tprice:inputs.price.value,\r\n  \t\t\tcategory:inputs.category.value\r\n  \t\t}\r\n  \t\tif(action==='edit'){\r\n  \t\t\tdata.id=match.params.itemId;\t\r\n  \t\t}\r\n\r\n  \t\tupdate(data).then((json)=>{\r\n  \t\t\tif(json.result==='success'){\r\n  \t\t\t\tsetRedirect('/admin/products');\r\n  \t\t\t}\r\n  \t\t});\r\n  \t\t\r\n  \t\te.preventDefault();\r\n  \t}\r\n\r\n  \tif(redirect){\r\n  \t\tconsole.log('redirecting',redirect);\r\n  \t\treturn(\r\n  \t\t\t<Redirect to={redirect} />\r\n  \t\t);\r\n  \t}\r\n\r\n  \treturn (\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={'/admin/products'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t    <form onSubmit={submitHandler}>\r\n\t\t\t\t\t    \t<Grid container spacing={3} >\r\n\t\t\t\t\t\t    \t<Grid item sm={6}>\r\n\t\t\t\t\t\t\t    \t<TextField\r\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\r\n\t\t\t\t\t    \t          \tclassName={classes.textField}\r\n\t\t\t\t\t    \t          \tlabel={\"Name\"}\r\n\t\t\t\t\t    \t         \tmargin=\"normal\"\r\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\r\n\t\t\t\t\t    \t          \tname='name'\r\n\t\t\t\t\t    \t          \tdefaultValue={item.name}\r\n\t\t\t\t\t    \t          \trequired\r\n\t\t\t\t\t    \t        />\r\n\t\t\t\t\t    \t    </Grid>\r\n\t\t\t\t\t    \t    <Grid item sm={6}>\r\n\t    \t        \t\t    \t<SelectMenu options={categories} value={item.category ? item.category._id : ''} />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<TextField\r\n\t    \t            \t          \tid=\"outlined-basic\"\r\n\t    \t            \t          \tclassName={classes.textField}\r\n\t    \t            \t          \tlabel={\"Price\"}\r\n\t    \t            \t         \tmargin={\"normal\"}\r\n\t    \t            \t          \tvariant={\"outlined\"}\r\n\t    \t            \t          \tname={'price'}\r\n\t    \t            \t          \tdefaultValue={item.price}\r\n\t    \t            \t        />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\r\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\r\n\t\t    \t            \t    </Button>\r\n\t\t    \t            \t</Grid>\r\n\t    \t            \t</Grid>\r\n\t\t\t\t    \t</form>\r\n\t           \t\t</Paper>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\n\r\nconst SelectMenu=props=>{\r\n\tconst [option, setOption] = React.useState(props.value);\r\n\tconst classes = useStyles();\r\n\tconst inputLabel = React.useRef(null);\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t    setLabelWidth(inputLabel.current.offsetWidth);\r\n\t}, []);\r\n\r\n\tconst handleChange = event => {\r\n\t   \tsetOption(event.target.value);\r\n\t};\r\n\r\n\tconst menuItems=props.options.map((th,i)=>{\r\n\t\treturn(\r\n\t\t\t<MenuItem key={i} value={th._id}>{th.name}</MenuItem>\r\n\t\t)\r\n\t});\r\n\r\n\treturn(\r\n    \t<FormControl variant=\"outlined\" margin=\"normal\" className={classes.themesSelect}>\r\n    \t    <InputLabel ref={inputLabel} id={\"demo-simple-select-outlined-label\"}>\r\n    \t        Category\r\n    \t    </InputLabel>\r\n    \t    <Select\r\n\t          \tlabelId=\"demo-simple-select-outlined-label\"\r\n\t          \tid=\"demo-simple-select-outlined\"\r\n\t          \tname={'category'}\r\n\t          \tvalue={option}\r\n\t          \tonChange={handleChange}\r\n\t          \tlabelWidth={labelWidth}\r\n    \t    >\r\n    \t        {menuItems}\r\n    \t    </Select>\r\n    \t</FormControl>\r\n\t)\r\n}\r\n\r\nclass Form extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taction:this.props.match.params.itemId ? 'edit' : 'add'\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {loadItem, match, setTitle, loadCategories, categories}=this.props;\r\n\t\tif(match.params.itemId){\r\n\t\t\tsetTitle('Edit product');\r\n\t\t\tloadItem(match.params.itemId);\r\n\t\t}else{\r\n\t\t\tsetTitle('Add product');\r\n\t\t}\r\n\t\t\r\n\t\tif(!categories.length){\r\n\t\t\tloadCategories();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Edit item',this.props);\r\n\t\tconst {match, item, update, loadingItem, saving, categories}=this.props;\r\n\t\tconst {action}=this.state;\r\n\t\tif(!loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<FormCard action={action} item={action==='edit'?item:{}} match={match} categories={categories} update={update} saving={saving}/>\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<LinearProgress />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Product;\r\n\tconst c=state.Admin.Category;\r\n\treturn {\r\n\t\titems:s.items,\r\n\t\titem:s.item,\r\n\t\tloadingItem:s.loadingItem,\r\n\t\tsaving:s.saving,\r\n\t\tcategories:c.items\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(itemId)=>{\r\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\r\n\t\t\treturn fetch('/api/product/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:(data)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SAVE_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/product/store',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SAVE_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json.data,\r\n\t\t\t\t\t\tresult:json.result\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn json;\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadCategories:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_CATEGORIES_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_CATEGORIES_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Form);\r\n\r\nexport default ListContainer;","import Router from './Router';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst actionPrefix='Admin/Product/';\r\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\r\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\r\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\r\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\r\nexport const SAVE_REQ=actionPrefix+'SaveReq';\r\nexport const SAVE_RES=actionPrefix+'SaveRes';\r\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\r\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\r\nexport const DELETE_RES=actionPrefix+'DeleteRes';\r\n\r\nconst defaultState={\r\n\titems:[],\r\n\tloadingItems:false,\r\n\tshouldLoadItems:true,\r\n\titem:{},\r\n\tloadingItem:false,\r\n\tdeleteDialogOpen:false,\r\n\tdeleteId:'',\r\n\tsaving:false\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase LOAD_ITEM_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItem:true\r\n\t\t\t}\r\n\t\tcase LOAD_ITEM_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titem,\r\n\t\t\t\tloadingItem:false\r\n\t\t\t}\r\n\t\tcase LOAD_ITEMS_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItems:true\r\n\t\t\t}\r\n\t\tcase LOAD_ITEMS_RES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingItems:false,\r\n\t\t\t\tshouldLoadItems:false,\r\n\t\t\t\titems:action.payload.items\r\n\t\t\t}\r\n\t\tcase SAVE_REQ:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsaving:true\r\n\t\t\t}\r\n\t\tcase SAVE_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\tvar match=false;\r\n\t\t\tvar items=state.items.map((r,i)=>{\r\n\t\t\t\tif(r && r._id === item._id){\r\n\t\t\t\t\tmatch=true;\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(!match){\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems,\r\n\t\t\t\tsaving:false\r\n\t\t\t}\r\n\t\tcase SHOW_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:true,\r\n\t\t\t\tdeleteId:action.payload.deleteId\r\n\t\t\t}\r\n\t\tcase CLOSE_DELETE_DIALOG:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tdeleteDialogOpen:false\r\n\t\t\t}\r\n\t\tcase DELETE_RES:\r\n\t\t\tvar item=action.payload.item;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Products','/products', Router, reducer);","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\n\r\nimport List from './List';\r\nimport Form from './Form';\r\n\r\nconst Router=(props)=>{\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<Route exact path={props.match.path} component={List} />\r\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\r\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Router;","import React from 'react';\r\nimport RactDOM from 'react-dom';\r\nimport {connect} from 'react-redux'\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport {Collapse} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n\tcollapse:{\r\n\t\tposition:'absolute',\r\n\t\ttop: '0.8rem',\r\n\t\tright:'0.8rem',\r\n\t\tzIndex:9999\r\n\t}\r\n}))\r\n\r\nconst CustomAlert =({type, text})=>{\r\n\tconst classes=useStyles();\r\n\tconst [open, setOpen] = React.useState(true)\r\n\tconsole.log('alert rendering', text);\r\n\tif(!type){\r\n\t\treturn null;\r\n\t}\r\n\treturn(\r\n\t\t<Collapse in={open} className={classes.collapse} >\r\n\t\t\t<Alert severity={type} onClose={()=>setOpen(false)}>{text.toString()}</Alert>\r\n\t\t</Collapse>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state=>{\r\n\treturn {\r\n\t\t...state.Admin.alert\r\n\t}\r\n}\r\n\r\nconst CustomAlertContainer = connect(mapStateToProps)(CustomAlert);\r\n\r\nexport default CustomAlertContainer;\r\n\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport {\r\n  Layers as LayersIcon,\r\n  ExitToApp as LogOutIcon\r\n} from '@material-ui/icons';\r\n\r\nimport {LOG_OUT} from './index';\r\n\r\nfunction Copyright() {\r\n  return(\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" to=\"/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport const MainListItems = ({items, accessRights})=>{\r\n  items=items.map((menuItem, i)=>{\r\n    if((accessRights && accessRights.length && accessRights.indexOf(menuItem.accessRightTitle)>=0) || !menuItem.accessRightTitle){\r\n      let Icon=menuItem.icon;\r\n      return(\r\n        <ListItem button key={i} >\r\n          <ListItemIcon>\r\n            <Icon />\r\n          </ListItemIcon>\r\n          <Link to={menuItem.link}>\r\n            <ListItemText primary={menuItem.text} />\r\n          </Link>\r\n        </ListItem>\r\n      );\r\n    }else{\r\n      return\r\n    }\r\n  });\r\n  return(\r\n    <div>\r\n      {items}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AdminLayout(props) {\r\n  console.log('Layout',props);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h4\" color=\"inherit\" noWrap className={classes.title}>\r\n            {props.title}\r\n          </Typography>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={0} color={\"secondary\"}>\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          <IconButton color=\"inherit\" title=\"Log out\" onClick={(e)=>{props.logOut().then(()=>{props.history.goBack()})}}>\r\n              <LogOutIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <MainListItems items={props.menuItems} accessRights={props.rights}/>\r\n        </List>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        {props.children}\r\n        <Copyright />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Dashboard.propTypes={\r\n// \tname:PropTypes.string\r\n// }\r\n\r\nconst mapStateToProps=(state)=>{\r\n\treturn {\r\n    title:state.Admin.title,\r\n    menuItems:state.Admin.menuItems,\r\n    rights:state.Admin.user.rights,\r\n    user:state.Admin.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n    logOut:()=>{\r\n      dispatch({\r\n        type:LOG_OUT\r\n      });\r\n      return fetch('/api/user/logout').then((res)=>{\r\n        console.log('logged out');\r\n        return '';\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nconst LayoutContainer=connect(mapStateToProps, mapDispatchToProps)(AdminLayout);\r\n\r\nexport default LayoutContainer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {CircularProgress} from '@material-ui/core';\r\n\r\nimport Alert from './components/Alert';\r\n\r\nimport {SIGN_IN_REQ, SIGN_IN_RES, ALERT} from './index';\r\nimport {alertError} from '../functions';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nclass Login extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\temail:'',\r\n\t\t\tpassword:''\r\n\t\t}\r\n\t}\r\n\tchangeHandler=(name,value)=>{\r\n\t\tthis.setState({[name]:value});\r\n\t}\r\n\tsubmitHandler=()=>{\r\n\t\tconst {signIn} = this.props;\r\n\t\tsignIn(this.state.email,this.state.password);\r\n\t}\r\n\trender(){\r\n\t\tconst {signIn,user,match}=this.props;\r\n\t\tconst {email,password}=this.state;\r\n\r\n\t\tconsole.log('Login', this.props);\r\n\r\n\t\tif(user && user.loggedIn){\r\n\t\t\tlet redirectUrl=window.localStorage.getItem('lastVisitedPath');\r\n\t\t\treturn(\r\n\t\t\t\t<Redirect to={redirectUrl ? redirectUrl : '/admin'} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t  \t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t    <CssBaseline />\r\n\t\t\t    <LoginForm changeHandler={this.changeHandler} submitHandler={this.submitHandler} failed={user.loginFailed} authenticating={user.authenticating} />\r\n\t\t\t    <Alert />\r\n\t\t\t    <Box mt={8}>\r\n\t\t\t      \t<Copyright />\r\n\t\t\t    </Box>\r\n\t\t  \t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst LoginForm=({changeHandler,submitHandler, failed, authenticating})=>{\r\n\tconst classes = useStyles();\r\n\treturn(\r\n\t\t<div className={classes.paper}>\r\n\t\t  \t<Avatar className={classes.avatar}>\r\n\t\t    \t<LockOutlinedIcon />\r\n\t\t  \t</Avatar>\r\n\t\t  \t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t    \tSign in\r\n\t\t  \t</Typography>\r\n\t\t  \t<form className={classes.form} onSubmit={(e)=>{e.preventDefault(); submitHandler(); }}>\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tid=\"email\"\r\n\t\t\t      \tlabel=\"Email Address\"\r\n\t\t\t      \tname=\"username\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tautoFocus\r\n\t\t\t      \tonChange={(e)=>changeHandler('email',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tname=\"password\"\r\n\t\t\t      \tlabel=\"Password\"\r\n\t\t\t      \ttype=\"password\"\r\n\t\t\t      \tid=\"password\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tonChange={(e)=>changeHandler('password',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <FormControlLabel\r\n\t\t\t      control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n\t\t\t      label={\"Remember me\"}\r\n\t\t\t    />\r\n\t\t\t    <Button\r\n\t\t\t      type=\"submit\"\r\n\t\t\t      fullWidth\r\n\t\t\t      variant=\"contained\"\r\n\t\t\t      color=\"primary\"\r\n\t\t\t      className={classes.submit}\r\n\t\t\t      disabled={authenticating}\r\n\t\t\t    >\r\n\t\t\t      {authenticating ? <CircularProgress /> : 'Sign In' }\r\n\t\t\t    </Button>\r\n\t\t\t    <Grid container>\r\n\t\t\t      <Grid item xs>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          Forgot password?\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t      <Grid item>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          {\"Don't have an account? Sign Up\"}\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t    </Grid>\r\n\t\t  \t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps=state=>{\r\n\treturn {\r\n\t\tuser:state.Admin.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=dispatch=>{\r\n\treturn {\r\n\t\tsignIn:(username,password)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SIGN_IN_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/admin/login',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify({username,password}),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.json()).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SIGN_IN_RES,\r\n\t\t\t\t\tpayload:json.user\r\n\t\t\t\t});\r\n\t\t\t\tif(json.result==='success'){\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}).catch((err)=>{\r\n\t\t\t\t// end sign in request\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SIGN_IN_RES,\r\n\t\t\t\t\tpayload:{}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// alert error\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:ALERT,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\ttype:'error',\r\n\t\t\t\t\t\ttext: 'Connection with server failed...'\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\talert:(options)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ALERT,\r\n\t\t\t\tpayload: options\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst LoginContainer=connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\nexport default LoginContainer;","import { colors } from '@material-ui/core';\n\nconst white = '#FFFFFF';\nconst black = '#000000';\n\nexport default {\n  black,\n  white,\n  primary: {\n    contrastText: white,\n    dark: colors.indigo[900],\n    main: colors.indigo[500],\n    light: colors.indigo[100]\n  },\n  secondary: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue['A400'],\n    light: colors.blue['A400']\n  },\n  success: {\n    contrastText: white,\n    dark: colors.green[900],\n    main: colors.green[600],\n    light: colors.green[400]\n  },\n  info: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue[600],\n    light: colors.blue[400]\n  },\n  warning: {\n    contrastText: white,\n    dark: colors.orange[900],\n    main: colors.orange[600],\n    light: colors.orange[400]\n  },\n  error: {\n    contrastText: white,\n    dark: colors.red[900],\n    main: colors.red[600],\n    light: colors.red[400]\n  },\n  text: {\n    primary: colors.blueGrey[900],\n    secondary: colors.blueGrey[600],\n    link: colors.blue[600]\n  },\n  background: {\n    default: '#F4F6F8',\n    paper: white\n  },\n  icon: colors.blueGrey[600],\n  divider: colors.grey[200]\n};\n","import palette from './palette';\n\nexport default {\n  h1: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '35px',\n    letterSpacing: '-0.24px',\n    lineHeight: '40px'\n  },\n  h2: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '29px',\n    letterSpacing: '-0.24px',\n    lineHeight: '32px'\n  },\n  h3: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '24px',\n    letterSpacing: '-0.06px',\n    lineHeight: '28px'\n  },\n  h4: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '20px',\n    letterSpacing: '-0.06px',\n    lineHeight: '24px'\n  },\n  h5: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  h6: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  subtitle1: {\n    color: palette.text.primary,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '25px'\n  },\n  subtitle2: {\n    color: palette.text.secondary,\n    fontWeight: 400,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body1: {\n    color: palette.text.primary,\n    fontSize: '15px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body2: {\n    color: palette.text.secondary,\n    fontSize: '13px',\n    letterSpacing: '-0.04px',\n    lineHeight: '18px'\n  },\n  button: {\n    color: palette.text.primary,\n    fontSize: '14px'\n  },\n  caption: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    letterSpacing: '0.33px',\n    lineHeight: '13px'\n  },\n  overline: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    fontWeight: 500,\n    letterSpacing: '0.33px',\n    lineHeight: '13px',\n    textTransform: 'uppercase'\n  }\n};\n","import palette from '../palette';\nimport typography from '../typography';\n\nexport default {\n  root: {\n    ...typography.body1,\n    borderBottom: `1px solid ${palette.divider}`\n  }\n};\n","import MuiButton from './MuiButton';\nimport MuiIconButton from './MuiIconButton';\nimport MuiPaper from './MuiPaper';\nimport MuiTableCell from './MuiTableCell';\nimport MuiTableHead from './MuiTableHead';\nimport MuiTypography from './MuiTypography';\n\nexport default {\n  MuiButton,\n  MuiIconButton,\n  MuiPaper,\n  MuiTableCell,\n  MuiTableHead,\n  MuiTypography\n};\n","export default {\n  contained: {\n    boxShadow:\n      '0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)',\n    backgroundColor: '#FFFFFF'\n  }\n};\n","import palette from '../palette';\n\nexport default {\n  root: {\n    color: palette.icon,\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.03)'\n    }\n  }\n};\n","export default {\n  elevation1: {\n    boxShadow: '0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)'\n  }\n};\n","import { colors } from '@material-ui/core';\n\nexport default {\n  root: {\n    backgroundColor: colors.grey[50]\n  }\n};\n","export default {\n  gutterBottom: {\n    marginBottom: 8\n  }\n};\n","import { createMuiTheme } from '@material-ui/core';\n\nimport palette from './palette';\nimport typography from './typography';\nimport overrides from './overrides';\n\nconst theme = createMuiTheme({\n  palette,\n  typography,\n  overrides,\n  zIndex: {\n    appBar: 1200,\n    drawer: 1100\n  }\n});\n\nexport default theme;\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nimport Login from './Login';\r\n\r\nimport theme from './theme';\r\nimport { SIGN_IN_REQ, SIGN_IN_RES, ALERT } from './index.js';\r\n\r\nexport default function withAuth(ComponentToProtect, protectedModule = '', path = '') {\r\n    class ProtectedComponent extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                redirect: false,\r\n                loading: true,\r\n                hasAccessRight: true\r\n            };\r\n        }\r\n        componentDidMount() {\r\n            this.getUser().then((user) => {\r\n                var hasAccessRight = true;\r\n                var redirect = false;\r\n\r\n                if (user && user._id) {\r\n                    if (protectedModule && !(user.rights.indexOf(protectedModule) >= 0)) {\r\n                        hasAccessRight = false;\r\n                    }\r\n                } else {\r\n                    redirect = true;\r\n                }\r\n\r\n                this.setState({\r\n                    redirect,\r\n                    loading: false,\r\n                    hasAccessRight\r\n                });\r\n            });\r\n        }\r\n        getUser = () => {\r\n            // checks the state whether there exists an active user, if no, active user should be fetched from backend\r\n            return new Promise((resolve, reject) => {\r\n                if (this.props.user && this.props.user.loggedIn) {\r\n                    resolve(this.props.user);\r\n                } else {\r\n                    this.props.getActiveUser().then((user) => {\r\n                        resolve(user);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        render() {\r\n            console.log('withAuth', protectedModule);\r\n            const { redirect, loading, hasAccessRight } = this.state;\r\n            const props = this.props;\r\n\r\n            if (props.location.pathname === (props.match.path + '/login')) {\r\n                return (\r\n                    <ThemeProvider theme={theme}>\r\n            <Login />\r\n          </ThemeProvider>\r\n                );\r\n            }\r\n\r\n            if (loading) {\r\n                return <LinearProgress />;\r\n            }\r\n\r\n            if (!hasAccessRight) {\r\n                console.log('has no access right', props.user.rights);\r\n                props.history.goBack();\r\n            }\r\n\r\n            if (!props.user.loggedIn && redirect) {\r\n                window.localStorage.setItem('lastVisitedPath', this.props.location.pathname);\r\n                console.log('redirecting', props.match.path + \"/login\");\r\n                return <Redirect to={'/admin/login'} />;\r\n            }\r\n\r\n            return (\r\n                <React.Fragment>\r\n          <ComponentToProtect {...this.props} />\r\n        </React.Fragment>\r\n            );\r\n        }\r\n    }\r\n\r\n    const mapStateToProps = state => {\r\n        return {\r\n            user: state.Admin.user\r\n        }\r\n    }\r\n\r\n    const mapDispatchToProps = dispatch => {\r\n        return {\r\n            getActiveUser: () => {\r\n                dispatch({ type: SIGN_IN_REQ });\r\n                return fetch('/api/user/active').then((res) => res.json()).then((json) => {\r\n                    dispatch({\r\n                        type: SIGN_IN_RES,\r\n                        payload: json.user\r\n                    });\r\n                    return json.user;\r\n                }).catch((err) => {\r\n                    // end request\r\n                    dispatch({\r\n                        type: SIGN_IN_RES,\r\n                        payload: {}\r\n                    });\r\n\r\n                    // error\r\n                    console.error(err);\r\n                    dispatch({\r\n                        type: ALERT,\r\n                        payload: {\r\n                            type: 'error',\r\n                            text: 'Connection with server failed...'\r\n                        }\r\n                    });\r\n                    return {}\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(ProtectedComponent)\r\n}","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nimport Alert from './components/Alert';\r\nimport Layout from './Layout';\r\nimport withAuth from './withAuth';\r\nimport theme from './theme';\r\n\r\nclass Admin extends React.Component{\r\n\trender(){\r\n\t\tconst props=this.props;\r\n\r\n    \treturn(\r\n    \t\t<ThemeProvider theme={theme}>\r\n    \t\t\t<Alert />\r\n\t    \t\t<Layout {...props} >\r\n\t\t\t\t\t<Routes routes={props.routes} match={props.match} />\r\n\t\t\t\t</Layout>\r\n\t\t\t</ThemeProvider>\r\n    \t);\r\n\t}\r\n}\r\n\r\nconst Routes=({routes, match})=>{\r\n\treturn  routes.map((route,index) => {\r\n\t\treturn(\r\n        \t<Route exact={route.path === match.path + '/'} path={route.path} key={route.path} component={withAuth(route.component, route.title)} title={route.title} />\r\n        );\r\n    });\r\n}\r\n \r\nexport default withAuth(Admin);","import {\r\n\tDashboardOutlined as DashboardIcon,\r\n\tVerifiedUserOutlined as EmployeeIcon,\r\n\tExtensionOutlined as ExtensionIcon,\r\n\tLocalOfferOutlined as ProductIcon\r\n} from '@material-ui/icons';\r\n\r\nimport Request, {reducer as requestReducer} from './Request';\r\nimport Dashboard, {reducer as dashboardReducer} from './Dashboard';\r\nimport Product, {reducer as productReducer} from './Product';\r\nimport Category, {reducer as categoryReducer} from './Category';\r\n\r\nimport Admin from './Admin';\r\nimport {defineModule} from '../functions';\r\n\r\nexport const SIGN_IN_REQ='Admin/SignInReq';\r\nexport const SIGN_IN_RES='Admin/SignInRes';\r\nexport const SET_TITLE='Admin/SetTitle';\r\nexport const LOG_OUT='Admin/LogOut';\r\nexport const ALERT='Admin/Alert';\r\n\r\nconst route='/admin';\r\n\r\nconst defaultState={\r\n\ttitle:'Dashboard',\r\n\tmenuItems:[{\r\n\t\ttext:'Dashboard',\r\n\t\taccessRightTitle:'Dashboard',\r\n\t\tlink:route,\r\n\t\ticon:DashboardIcon\r\n\t},{\r\n\t\ttext:'Employees',\r\n\t\taccessRightTitle:'Employees',\r\n\t\tlink:route+'/employees',\r\n\t\ticon:EmployeeIcon\r\n\t},{\r\n\t\ttext:'Products',\r\n\t\taccessRightTitle:'Products',\r\n\t\tlink:route+'/products',\r\n\t\ticon:ProductIcon\r\n\t},{\r\n\t\ttext:'Categories',\r\n\t\taccessRightTitle:'Categories',\r\n\t\tlink:route+'/categories',\r\n\t\ticon:ExtensionIcon\r\n\t}]\r\n};\r\n\r\nconst defaultUserState={\r\n\tloggedIn:false, \r\n\tauthenticating:false,\r\n\tloginAttempted:false\r\n}\r\nconst userReducer=(state=defaultUserState,action)=>{\r\n\tswitch(action.type){\r\n\t\tcase SIGN_IN_REQ:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tauthenticating:true\r\n\t\t\t}\r\n\t\tcase SIGN_IN_RES:\r\n\t\t\tvar p=action.payload;\r\n\t\t\tif(p && p.username){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t\tloggedIn:true,\r\n\t\t\t\t\tauthenticating:false\r\n\t\t\t\t};\r\n\t\t\t}else{\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tloginFailed:true,\r\n\t\t\t\t\tauthenticating:false,\r\n\t\t\t\t\tloggedIn:false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase LOG_OUT:\r\n\t\t\treturn defaultUserState\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nconst defaultAlertState={\r\n\ttype:'success',\r\n\ttext: 'asd'\r\n}\r\nconst alertReducer=(state=defaultAlertState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase ALERT:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\treturn {\r\n\t\t...defaultState,\r\n\t\tDashboard:dashboardReducer(state.Dashboard, action),\r\n\t\tRequest:requestReducer(state.Request, action),\r\n\t\tProduct:productReducer(state.Product, action),\r\n\t\tCategory:categoryReducer(state.Category, action),\r\n\t\tuser:userReducer(state.user,action),\r\n\t\talert:alertReducer(state.alert, action),\r\n\t\ttitle:((s,a)=>{\r\n\t\t\tif(a.type===SET_TITLE){\r\n\t\t\t\treturn a.payload;\r\n\t\t\t}else{\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t})(state.title, action)\r\n\t}\r\n}\r\n\r\nexport const children={\r\n\tRequest,\r\n\tDashboard,\r\n\tProduct,\r\n\tCategory\r\n}\r\n\r\nexport default defineModule('Admin',route, Admin, reducer, children);","import Admin from './Admin';\r\n\r\nexport default {\r\n\tAdmin\r\n}","import {createStore,applyMiddleware,combineReducers} from 'redux';\r\nimport {createLogger} from 'redux-logger';\r\nimport modules from './modules';\r\nimport {flatModules} from './modules/functions';\r\n\r\nconst createAppStore = (reducer) => {\r\n  let middleware = [];\r\n  if (process.env.NODE_ENV === 'development') {\r\n    const logger=createLogger();\r\n    middleware = [...middleware, logger];\r\n  } else {\r\n    middleware = [...middleware];\r\n  }\r\n  //middleware.push(thunk)\r\n  const store = createStore(\r\n    reducer,\r\n    applyMiddleware(...middleware)\r\n  );\r\n  return store\r\n}\r\n\r\nexport const combineModuleReducers = modules => {\r\n  const reducers = {}\r\n  const flat = flatModules(modules)\r\n  for (let i = 0; i < flat.length; i++) {\r\n    const red = flat[i].reducer\r\n    if (typeof(red) !== 'function') {\r\n      throw new Error('Module ' + i + ' does not define reducer!')\r\n    }\r\n\r\n    reducers[flat[i].MODULE] = red\r\n\r\n    // if(typeof(flat[i].children) === 'object'){\r\n    //   for(let j in flat[i].children){\r\n    //     if(typeof(flat[i].children[j].reducer) !== 'function'){\r\n    //       throw new Error('Module ' + j + ' does not define reducer!')\r\n    //     }\r\n\r\n    //     reducers[j] = flat[i].children[j].reducer\r\n    //   }\r\n    // }\r\n  }\r\n  return reducers\r\n}\r\n\r\nexport default createAppStore(combineReducers(combineModuleReducers(modules)));","import modules from './modules';\r\nimport {flatModules} from './modules/functions'; \r\nimport store from './store';\r\nimport App from './core/components/App';\r\nimport Home from './core/components/Home';\r\n\r\nconst getRoutes = (modules, store, App, Home, title = 'Главная') => flatModules(modules).map(x => {\r\n  console.log('x',x);\r\n  if (!x.component) {\r\n    throw new Error('Component for module ' + x + ' is not defined')\r\n  }\r\n\r\n  const route = {\r\n    path: x.path,\r\n    title: x.title,\r\n    component: x.component,\r\n    onEnter: x.onEnter\r\n      ? routeParams => {\r\n        x.onEnter(routeParams, store.dispatch)\r\n      }\r\n      : null\r\n  }\r\n\r\n  if(x.children){\r\n    // if(!x.children.Index || !typeof(x.children.Index.component)){\r\n    //   throw new Error('Component for index route of \"' + x.title + '\" is not defined')\r\n    // }\r\n\r\n    // route.indexRoute = {\r\n    //   component: x.children.Index.component\r\n    // }\r\n\r\n    route.routes = Object.keys(x.children).map(y => {\r\n      const cm = x.children[y]\r\n      if (!cm.component) {\r\n        throw new Error('Component for module ' + x + '/' + y + ' is not defined')\r\n      }\r\n\r\n      return {\r\n        path: x.path + cm.path,\r\n        title: cm.title,\r\n        component: cm.component,\r\n        onEnter: cm.onEnter\r\n          ? routeParams => {\r\n            cm.onEnter(routeParams, store.dispatch)\r\n          }\r\n          : null\r\n      }\r\n    });\r\n\r\n    return route\r\n  }\r\n});\r\n\r\nexport default getRoutes(modules, store, App, Home);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  console.log('env',process.env.NODE_ENV);\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {AppContainer} from 'react-hot-loader';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nimport Root from './core/containers/Root';\nimport history from './core/history';\nimport store from './store';\nimport routes from './routes';\n\nimport * as serviceWorker from './serviceWorker';\n\n//console.log('routes',routes);\n//console.log('store',store);\n\nReactDOM.render(\n\t<AppContainer>\n\t\t<Root\n\t\t\tstore={store}\n\t\t\thistory={history}\n\t\t\troutes={routes} />\n\t</AppContainer>,\n\tdocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}