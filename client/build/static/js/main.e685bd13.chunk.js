(this["webpackJsonpreact-cms"]=this["webpackJsonpreact-cms"]||[]).push([[2],{104:function(e,t,n){"use strict";n(0),n(58)},222:function(e,t,n){e.exports=n(237)},228:function(e,t,n){},237:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),c=n(212),l=(n(227),n(228),n(12)),s=n(49),u=function(e){return r.a.createElement(s.a,{to:"/admin"})},p=function(e){var t=e.routes.map((function(e,t){return e.routes&&e.routes.length?r.a.createElement(s.b,{path:e.path,key:e.path,render:function(t){return r.a.createElement(e.component,Object.assign({},t,{title:e.title,routes:e.routes}))}}):r.a.createElement(s.b,{path:e.path,key:e.path,component:e.component})}));return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:u}),t)},d=function(e){return r.a.createElement(l.a,{store:e.store},r.a.createElement(s.c,{history:e.history},r.a.createElement(p,e)))},m=n(26),g=Object(m.a)();g.listen((function(e){console.log("history is listening: "+e)}));var h=g,f=n(29),y=n(70),b=(n(234),n(7)),v=n(295),O=n(296),j=n(297),E=n(298),w=n(17),x=n(13),P=n(18),S=n(19),D=n(20),I=function(e){return function(t){return Object(l.b)(null,(function(e){return{setTitle:function(t){e({type:mn,payload:t})}}}))((function(n){return n.setTitle(t),r.a.createElement(e,null)}))}};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var A=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,323))})),q=function(e){function t(){return Object(w.a)(this,t),Object(P.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.requests,n=e.loadRequests;t&&t.length||n()}},{key:"render",value:function(){console.log("Request List",this.props);var e=this.props,t=e.match,n=e.requests,o=e.loadingRequests,i=e.onDelete,c=e.header;return r.a.createElement(a.Suspense,{fallback:"Loading..."},r.a.createElement(A,{loading:o,columnNames:["Name","Email","Address","Description"],rows:n.map((function(e,t){return{_id:e._id,columns:[{text:e.name},{text:e.email},{text:e.address},{text:e.message}]}})),onDelete:i,path:t?t.path:"/admin/employees",header:c,addItemText:"Add Employee",searchBoxPlaceholder:"search employee"}))}}]),t}(r.a.Component),C=Object(l.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.Admin.Request)}),(function(e){return{loadRequests:function(){return e({type:ce}),fetch("/api/request/get").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:le,payload:{requests:t}})}))},onDelete:function(t){var n={id:t};return fetch("/api/request/delete",{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){t.result&&"success"===t.result&&e({type:me,payload:{request:t.data}})}))}}}))(q),R=I(C)("Employees"),T=n(21),N=n(16),F=n(271),L=n(272),B=n(273),H=n(131),W=n(276),z=n(279),_=n(241),M=n(240),J=n(254),U=n(274),V=n(278),G=n(280),Y=n(40),X=n.n(Y),$=(n(104),Object(F.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},textField:{width:"100%"},themesSelect:{width:"100%"},button:{float:"right"}}})));function K(e){var t=e.request,n=e.match,a=(e.themes,e.update),o=e.action,i=e.saving,c=$(),l=r.a.useState(""),u=Object(T.a)(l,2),p=u[0],d=u[1];return p?(console.log("redirecting",p),r.a.createElement(s.a,{to:p})):r.a.createElement(L.a,{maxWidth:"lg",className:c.container},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(N.a,{to:"/admin/employees"},r.a.createElement(U.a,{variant:"contained",color:"primary"},r.a.createElement(X.a,null)," Back to list"))),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(H.a,{className:c.paper},r.a.createElement("form",{onSubmit:function(e){var t=e.target.elements,r={name:t.name.value,email:t.email.value,address:t.address.value,message:t.message.value};"edit"===o&&(r.id=n.params.requestId),a(r).then((function(e){"success"===e.result&&d("/admin/employees")})),e.preventDefault()}},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,sm:6},r.a.createElement(W.a,{id:"outlined-basic",className:c.textField,label:"Name",margin:"normal",variant:"outlined",name:"name",defaultValue:t.name,required:!0})),r.a.createElement(B.a,{item:!0,sm:6},r.a.createElement(W.a,{id:"outlined-basic",className:c.textField,label:"Email",margin:"normal",variant:"outlined",name:"email",defaultValue:t.email})),r.a.createElement(B.a,{item:!0,sm:12},r.a.createElement(W.a,{id:"outlined-basic",className:c.textField,label:"Address",margin:"normal",variant:"outlined",name:"address",defaultValue:t.address})),r.a.createElement(B.a,{item:!0,sm:12},r.a.createElement(W.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,rows:"4",defaultValue:t.message,className:c.textField,margin:"normal",variant:"outlined",name:"message"})),r.a.createElement(B.a,{item:!0,sm:12},r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary",className:c.button,disabled:i},i?r.a.createElement(V.a,{size:"1rem"}):"Save"))))))))}var Q=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(P.a)(this,Object(S.a)(t).call(this,e))).state={action:""},n}return Object(D.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadRequest,n=e.match,a=e.setTitle;n.params.requestId?(this.setState({action:"edit"}),a("Edit employee"),t(n.params.requestId)):(this.setState({action:"add"}),a("Add employee"))}},{key:"render",value:function(){console.log("Edit Request",this.props);var e=this.props,t=e.match,n=e.request,a=e.themes,o=e.update,i=e.loadingRequest,c=e.saving,l=this.state.action;return i?r.a.createElement(G.a,null):r.a.createElement(K,{action:l,request:"edit"==l?n:{},match:t,themes:a,update:o,saving:c})}}]),t}(r.a.Component),Z=Object(l.b)((function(e){var t=e.Admin.Request;return{requests:t.requests,request:t.request,loadingRequest:t.loadingRequest,saving:t.saving}}),(function(e){return{loadRequest:function(t){return e({type:se}),fetch("/api/request/get?id="+t).then((function(e){return e.ok?e.json():{}})).then((function(t){e({type:ue,payload:{request:t}})}))},setTitle:function(t){e({type:mn,payload:t})},update:function(t){return e({type:pe}),fetch("/api/request/store",{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){return e({type:de,payload:{request:t.data,result:t.result}}),t}))}}}))(Q),ee=function(e){return r.a.createElement("div",null,r.a.createElement(s.b,{exact:!0,path:e.match.path,component:R}),r.a.createElement(s.b,{exact:!0,path:e.match.path+"/edit/:requestId",component:Z}),r.a.createElement(s.b,{exact:!0,path:e.match.path+"/add",component:Z}))},te=n(300),ne=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{title:e,path:t,component:n,reducer:a,onEnter:o,children:r}},ae=function(e){return Object.keys(e).map((function(t){var n=Array.isArray(e[t])?e[t]:[e[t]];return n.forEach((function(e){return e.MODULE=t})),n})).reduce((function(e,t){return e.concat(t)}))};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie="Admin/Request/",ce=ie+"LoadRequestsReq",le=ie+"LoadRequestsRes",se=ie+"LoadRequestReq",ue=ie+"LoadRequestRes",pe=ie+"SaveReq",de=ie+"SaveRes",me=ie+"DeleteRes",ge={requests:[],loadingRequests:!1,request:{},loadingRequest:!1,deleteDialogOpen:!1,deleteId:"",saving:!1},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return oe({},e,{loadingRequest:!0});case ue:return oe({},e,{request:n=t.payload.request,loadingRequest:!1});case ce:return oe({},e,{loadingRequests:!0});case le:return oe({},e,{loadingRequests:!1,requests:t.payload.requests});case pe:return oe({},e,{saving:!0});case de:var n=t.payload.request,a=!1,r=e.requests.map((function(e,t){return e&&e._id===n._id?(a=!0,n):e}));return a||r.push(n),oe({},e,{requests:r,saving:!1});case"Admin/Request/ShowDeleteDialog":return oe({},e,{deleteDialogOpen:!0,deleteId:t.payload.deleteId});case"Admin/Request/CloseDeleteDialog":return oe({},e,{deleteDialogOpen:!1});case me:n=t.payload.request;return oe({},e,{requests:e.requests.filter((function(e){return e._id!==n._id}))});default:return e}},fe=ne("Employees","/employees",ee,he),ye=n(3),be=n(58),ve=n(282);var Oe=Object(F.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"DEFAULT"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Dashboard/FirstAction":return{name:"Javlonbek"};default:return e}},Ee=ne("Dashboard","/",(function(e){var t=Oe();Object(ye.a)(t.paper,t.fixedHeight);return console.log("Dashboard",e),r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{header:"Employees"}),r.a.createElement(L.a,{maxWidth:"lg",className:t.container},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(H.a,{className:t.paper},"Some Dashboard Content")))))}),je);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var xe=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,323))})),Pe=function(e){function t(e){return Object(w.a)(this,t),Object(P.a)(this,Object(S.a)(t).call(this,e))}return Object(D.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.items,e.loadItems);e.shouldLoadItems&&t()}},{key:"render",value:function(){console.log("Request List",this.props);var e=this.props,t=e.match,n=e.items,o=e.loadingItems,i=(e.showDeleteDialog,e.onDelete);e.deleteDialogOpen,e.deleteId,e.header;return r.a.createElement(a.Suspense,{fallback:"Loading..."},r.a.createElement(xe,{loading:o,columnNames:["Name","Category","Price"],rows:n.map((function(e,t){return{_id:e._id,columns:[{text:e.name},{text:e.category.name},{text:e.price}]}})),path:t?t.path:"/admin/products",onDelete:i,addItemText:"Add Product"}))}}]),t}(r.a.Component),Se=I(Object(l.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.Admin.Product)}),(function(e){return{loadItems:function(){return e({type:et}),fetch("/api/product/get").then((function(t){return t.ok?t.json():(e({type:hn,payload:{type:"error",text:"Connection with server failed..."}}),[])})).then((function(t){e({type:tt,payload:{items:t}})}))},onDelete:function(t){var n={id:t};return fetch("/api/product/delete",{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){t.result&&"success"===t.result&&e({type:it,payload:{item:t.data}})}))}}}))(Pe))("Products");function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ie=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,323))})),ke=function(e){function t(e){return Object(w.a)(this,t),Object(P.a)(this,Object(S.a)(t).call(this,e))}return Object(D.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.items,n=e.loadItems;t&&t.length||n()}},{key:"render",value:function(){console.log("Category List",this.props);var e=this.props,t=e.match,n=e.items,o=(e.loadingItems,e.showDeleteDialog,e.onDelete),i=(e.deleteDialogOpen,e.deleteId,e.header);return r.a.createElement(a.Suspense,{fallback:"Loading..."},r.a.createElement(Ie,{columnNames:["Name"],rows:n.map((function(e,t){return{_id:e._id,columns:[{text:e.name}]}})),path:t?t.path:"/admin/categories",header:i,onDelete:o,addItemText:"Add Category",searchBoxPlaceholder:"search category"}))}}]),t}(r.a.Component),Ae=I(Object(l.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.Admin.Category)}),(function(e){return{loadItems:function(){return e({type:Le}),fetch("/api/category/get").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:Be,payload:{items:t}})}))},onDelete:function(t){var n={id:t};return fetch("/api/category/delete",{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){t.result&&"success"===t.result&&e({type:Me,payload:{item:t.data}})}))}}}))(ke))("Categories"),qe=Object(F.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},textField:{width:"100%"},themesSelect:{width:"100%"},button:{float:"right"}}}));function Ce(e){var t=e.item,n=e.match,a=(e.themes,e.update),o=e.action,i=e.saving,c=qe(),l=r.a.useState(""),u=Object(T.a)(l,2),p=u[0],d=u[1];return p?(console.log("redirecting",p),r.a.createElement(s.a,{to:p})):r.a.createElement(L.a,{maxWidth:"lg",className:c.container},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(N.a,{to:"/admin/categories"},r.a.createElement(U.a,{variant:"contained",color:"primary"},r.a.createElement(X.a,null)," Back to list"))),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(H.a,{className:c.paper},r.a.createElement("form",{onSubmit:function(e){var t={name:e.target.elements.name.value};"edit"===o&&(t.id=n.params.itemId),a(t).then((function(e){"success"===e.result&&d("/admin/categories")})),e.preventDefault()}},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,sm:12},r.a.createElement(W.a,{id:"outlined-basic",className:c.textField,label:"Category name",margin:"normal",variant:"outlined",name:"name",defaultValue:t.name,required:!0})),r.a.createElement(B.a,{item:!0,sm:12},r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary",className:c.button,disabled:i},i?r.a.createElement(V.a,{size:"1rem"}):"Save"))))))))}var Re=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(P.a)(this,Object(S.a)(t).call(this,e))).state={action:""},n}return Object(D.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadItem,n=e.match,a=e.setTitle;n.params.itemId?(this.setState({action:"edit"}),a("Edit category"),t(n.params.itemId)):(this.setState({action:"add"}),a("Add category"))}},{key:"render",value:function(){console.log("Edit Request",this.props);var e=this.props,t=e.match,n=e.item,a=e.themes,o=e.update,i=e.loadingItem,c=e.saving,l=this.state.action;return i?r.a.createElement(G.a,null):r.a.createElement(Ce,{action:l,item:"edit"==l?n:{},match:t,themes:a,update:o,saving:c})}}]),t}(r.a.Component),Te=Object(l.b)((function(e){var t=e.Admin.Category;return{items:t.items,item:t.item,loadingItem:t.loadingItem,saving:t.saving}}),(function(e){return{loadItem:function(t){return e({type:He}),fetch("/api/category/get?id="+t).then((function(e){return e.ok?e.json():{}})).then((function(t){e({type:We,payload:{item:t}})}))},setTitle:function(t){e({type:mn,payload:t})},update:function(t){return e({type:ze}),fetch("/api/category/store",{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){return e({type:_e,payload:{item:t.data,result:t.result}}),t}))}}}))(Re);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le="Admin/Category/LoadItemsReq",Be="Admin/Category/LoadItemsRes",He="Admin/Category/LoadItemReq",We="Admin/Category/LoadItemRes",ze="Admin/Category/SaveReq",_e="Admin/Category/SaveRes",Me="Admin/Category/DeleteRes",Je={items:[],loadingItems:!1,item:{},loadingItem:!1,deleteDialogOpen:!1,deleteId:"",saving:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return Fe({},e,{loadingItem:!0});case We:return Fe({},e,{item:n=t.payload.item,loadingItem:!1});case Le:return Fe({},e,{loadingItems:!0});case Be:return Fe({},e,{loadingItems:!1,items:t.payload.items});case ze:return Fe({},e,{saving:!0});case _e:var n=t.payload.item,a=!1,r=e.items.map((function(e,t){return e&&e._id===n._id?(a=!0,n):e}));return a||r.push(n),Fe({},e,{items:r,saving:!1});case"Admin/Category/ShowDeleteDialog":return Fe({},e,{deleteDialogOpen:!0,deleteId:t.payload.deleteId});case"Admin/Category/CloseDeleteDialog":return Fe({},e,{deleteDialogOpen:!1});case Me:n=t.payload.item;return Fe({},e,{items:e.items.filter((function(e){return e._id!==n._id}))});default:return e}},Ve=ne("Categories","/categories",(function(e){return r.a.createElement("div",null,r.a.createElement(s.b,{exact:!0,path:e.match.path,component:Ae}),r.a.createElement(s.b,{exact:!0,path:e.match.path+"/edit/:itemId",component:Te}),r.a.createElement(s.b,{exact:!0,path:e.match.path+"/add",component:Te}))}),Ue),Ge=Object(F.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},textField:{width:"100%"},themesSelect:{width:"100%"},button:{float:"right"}}}));function Ye(e){var t=e.item,n=e.match,a=e.categories,o=e.update,i=e.action,c=e.saving,l=Ge(),u=r.a.useState(""),p=Object(T.a)(u,2),d=p[0],m=p[1];return d?(console.log("redirecting",d),r.a.createElement(s.a,{to:d})):r.a.createElement(L.a,{maxWidth:"lg",className:l.container},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(N.a,{to:"/admin/products"},r.a.createElement(U.a,{variant:"contained",color:"primary"},r.a.createElement(X.a,null)," Back to list"))),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(H.a,{className:l.paper},r.a.createElement("form",{onSubmit:function(e){var t=e.target.elements,a={name:t.name.value,price:t.price.value,category:t.category.value};"edit"===i&&(a.id=n.params.itemId),o(a).then((function(e){"success"===e.result&&m("/admin/products")})),e.preventDefault()}},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,sm:6},r.a.createElement(W.a,{id:"outlined-basic",className:l.textField,label:"Name",margin:"normal",variant:"outlined",name:"name",defaultValue:t.name,required:!0})),r.a.createElement(B.a,{item:!0,sm:6},r.a.createElement(Xe,{options:a,value:t.category?t.category._id:""})),r.a.createElement(B.a,{item:!0,sm:12},r.a.createElement(W.a,{id:"outlined-basic",className:l.textField,label:"Price",margin:"normal",variant:"outlined",name:"price",defaultValue:t.price})),r.a.createElement(B.a,{item:!0,sm:12},r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary",className:l.button,disabled:c},c?r.a.createElement(V.a,{size:"1rem"}):"Save"))))))))}var Xe=function(e){var t=r.a.useState(e.value),n=Object(T.a)(t,2),a=n[0],o=n[1],i=Ge(),c=r.a.useRef(null),l=r.a.useState(0),s=Object(T.a)(l,2),u=s[0],p=s[1];r.a.useEffect((function(){p(c.current.offsetWidth)}),[]);var d=e.options.map((function(e,t){return r.a.createElement(z.a,{key:t,value:e._id},e.name)}));return r.a.createElement(M.a,{variant:"outlined",margin:"normal",className:i.themesSelect},r.a.createElement(_.a,{ref:c,id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(J.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",name:"category",value:a,onChange:function(e){o(e.target.value)},labelWidth:u},d))},$e=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(P.a)(this,Object(S.a)(t).call(this,e))).state={action:n.props.match.params.itemId?"edit":"add"},n}return Object(D.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadItem,n=e.match,a=e.setTitle,r=e.loadCategories,o=e.categories;n.params.itemId?(a("Edit product"),t(n.params.itemId)):a("Add product"),o.length||r()}},{key:"render",value:function(){console.log("Edit item",this.props);var e=this.props,t=e.match,n=e.item,a=e.update,o=e.loadingItem,i=e.saving,c=e.categories,l=this.state.action;return o?r.a.createElement(G.a,null):r.a.createElement(Ye,{action:l,item:"edit"===l?n:{},match:t,categories:c,update:a,saving:i})}}]),t}(r.a.Component),Ke=Object(l.b)((function(e){var t=e.Admin.Product,n=e.Admin.Category;return{items:t.items,item:t.item,loadingItem:t.loadingItem,saving:t.saving,categories:n.items}}),(function(e){return{loadItem:function(t){return e({type:nt}),fetch("/api/product/get?id="+t).then((function(e){return e.ok?e.json():{}})).then((function(t){e({type:at,payload:{item:t}})}))},setTitle:function(t){e({type:mn,payload:t})},update:function(t){return e({type:rt}),fetch("/api/product/store",{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){return e({type:ot,payload:{item:t.data,result:t.result}}),t}))},loadCategories:function(){return e({type:Le}),fetch("/api/category/get").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:Be,payload:{items:t}})}))}}}))($e);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et="Admin/Product/LoadItemsReq",tt="Admin/Product/LoadItemsRes",nt="Admin/Product/LoadItemReq",at="Admin/Product/LoadItemRes",rt="Admin/Product/SaveReq",ot="Admin/Product/SaveRes",it="Admin/Product/DeleteRes",ct={items:[],loadingItems:!1,shouldLoadItems:!0,item:{},loadingItem:!1,deleteDialogOpen:!1,deleteId:"",saving:!1},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return Ze({},e,{loadingItem:!0});case at:return Ze({},e,{item:n=t.payload.item,loadingItem:!1});case et:return Ze({},e,{loadingItems:!0});case tt:return Ze({},e,{loadingItems:!1,shouldLoadItems:!1,items:t.payload.items});case rt:return Ze({},e,{saving:!0});case ot:var n=t.payload.item,a=!1,r=e.items.map((function(e,t){return e&&e._id===n._id?(a=!0,n):e}));return a||r.push(n),Ze({},e,{items:r,saving:!1});case"Admin/Product/ShowDeleteDialog":return Ze({},e,{deleteDialogOpen:!0,deleteId:t.payload.deleteId});case"Admin/Product/CloseDeleteDialog":return Ze({},e,{deleteDialogOpen:!1});case it:n=t.payload.item;return Ze({},e,{items:e.items.filter((function(e){return e._id!==n._id}))});default:return e}},st=ne("Products","/products",(function(e){return r.a.createElement("div",null,r.a.createElement(s.b,{exact:!0,path:e.match.path,component:Se}),r.a.createElement(s.b,{exact:!0,path:e.match.path+"/edit/:itemId",component:Ke}),r.a.createElement(s.b,{exact:!0,path:e.match.path+"/add",component:Ke}))}),lt),ut=n(294),pt=n(283);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var mt=Object(F.a)((function(e){return{collapse:{position:"absolute",top:"0.8rem",right:"0.8rem",zIndex:9999}}})),gt=Object(l.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.Admin.alert)}),(function(e){return{close:function(){e({type:fn})}}}))((function(e){var t=e.type,n=e.text,a=e.close,o=e.open,i=mt();return console.log("alert rendering",o),t?(setTimeout((function(){return a()}),5e3),r.a.createElement(pt.a,{in:o,className:i.collapse},r.a.createElement(te.a,{severity:t,onClose:function(){return a()}},n.toString()))):null})),ht=n(286),ft=n(291),yt=n(287),bt=n(288),vt=n(246),Ot=n(292),jt=n(281),Et=n(289),wt=n(126),xt=n.n(wt),Pt=n(127),St=n.n(Pt),Dt=n(248),It=n(284),kt=n(285),At=n(290);function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(){return r.a.createElement(be.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(N.a,{color:"inherit",to:"/"},"RJ")," ",(new Date).getFullYear(),".")}var Tt=Object(F.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Ct({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(b.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Nt=function(e){var t=e.items,n=e.accessRights;return t=t.map((function(e,t){if(n&&n.length&&n.indexOf(e.accessRightTitle)>=0||!e.accessRightTitle){var a=e.icon;return r.a.createElement(Dt.a,{button:!0,key:t},r.a.createElement(It.a,null,r.a.createElement(a,null)),r.a.createElement(N.a,{to:e.link},r.a.createElement(kt.a,{primary:e.text})))}})),r.a.createElement("div",null,t)};var Ft=Object(l.b)((function(e){return{title:e.Admin.title,menuItems:e.Admin.menuItems,rights:e.Admin.user.rights,user:e.Admin.user}}),(function(e){return{logOut:function(){return e({type:gn}),fetch("/api/user/logout").then((function(e){return console.log("logged out"),""}))}}}))((function(e){console.log("Layout",e);var t=Tt(),n=r.a.useState(!0),a=Object(T.a)(n,2),o=a[0],i=a[1];return Object(ye.a)(t.paper,t.fixedHeight),r.a.createElement("div",{className:t.root},r.a.createElement(ht.a,null),r.a.createElement(yt.a,{position:"absolute",className:Object(ye.a)(t.appBar,o&&t.appBarShift)},r.a.createElement(bt.a,{className:t.toolbar},r.a.createElement(jt.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},className:Object(ye.a)(t.menuButton,o&&t.menuButtonHidden)},r.a.createElement(xt.a,null)),r.a.createElement(be.a,{component:"h1",variant:"h4",color:"inherit",noWrap:!0,className:t.title},e.title),r.a.createElement(jt.a,{color:"inherit"},r.a.createElement(Et.a,{badgeContent:0,color:"secondary"},r.a.createElement(St.a,null))),r.a.createElement(jt.a,{color:"inherit",title:"Log out",onClick:function(t){e.logOut().then((function(){e.history.goBack()}))}},r.a.createElement(At.a,null)))),r.a.createElement(ft.a,{variant:"permanent",classes:{paper:Object(ye.a)(t.drawerPaper,!o&&t.drawerPaperClose)},open:o},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(jt.a,{onClick:function(){i(!1)}},r.a.createElement(X.a,null))),r.a.createElement(Ot.a,null),r.a.createElement(vt.a,null,r.a.createElement(Nt,{items:e.menuItems,accessRights:e.rights}))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),e.children,r.a.createElement(Rt,null)))})),Lt=n(302),Bt=n(293),Ht=n(301),Wt=n(299),zt=n(211),_t=n.n(zt);function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(){return r.a.createElement(be.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(ve.a,{color:"inherit",href:"https://material-ui.com/"},"RJ")," ",(new Date).getFullYear(),".")}var Vt=Object(F.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Gt=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(P.a)(this,Object(S.a)(t).call(this,e))).changeHandler=function(e,t){n.setState(Object(b.a)({},e,t))},n.submitHandler=function(){(0,n.props.signIn)(n.state.email,n.state.password)},n.state={email:"",password:""},n}return Object(D.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.signIn,e.user),n=(e.match,this.state);n.email,n.password;if(console.log("Login",this.props),t&&t.loggedIn){var a=window.localStorage.getItem("lastVisitedPath");return r.a.createElement(s.a,{to:a||"/admin"})}return r.a.createElement(L.a,{component:"main",maxWidth:"xs"},r.a.createElement(ht.a,null),r.a.createElement(Yt,{changeHandler:this.changeHandler,submitHandler:this.submitHandler,failed:t.loginAttempted,authenticating:t.authenticating}),r.a.createElement(gt,null),r.a.createElement(Wt.a,{mt:8},r.a.createElement(Ut,null)))}}]),t}(r.a.Component),Yt=function(e){var t=e.changeHandler,n=e.submitHandler,a=e.failed,o=e.authenticating,i=Vt();return r.a.createElement("div",{className:i.paper},r.a.createElement(Lt.a,{className:i.avatar},r.a.createElement(_t.a,null)),r.a.createElement(be.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:i.form,onSubmit:function(e){e.preventDefault(),n()}},r.a.createElement(W.a,{error:a,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"username",autoComplete:"off",autoFocus:!0,onChange:function(e){return t("email",e.target.value)}}),r.a.createElement(W.a,{error:a,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:function(e){return t("password",e.target.value)}}),r.a.createElement(Bt.a,{control:r.a.createElement(Ht.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,disabled:o},o?r.a.createElement(V.a,null):"Sign In"),r.a.createElement(B.a,{container:!0},r.a.createElement(B.a,{item:!0,xs:!0},r.a.createElement(ve.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(B.a,{item:!0},r.a.createElement(ve.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up")))))},Xt=Object(l.b)((function(e){return{user:e.Admin.user}}),(function(e){return{signIn:function(t,n){return e({type:pn}),fetch("/admin/login",{method:"POST",body:JSON.stringify({username:t,password:n}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:dn,payload:Jt({},t.user,{loginAttempted:!0})}),t.result})).catch((function(t){e({type:dn,payload:{}}),e({type:hn,payload:{type:"error",text:"Connection with server failed..."}})}))},alert:function(t){e({type:hn,payload:t})}}}))(Gt),$t=n(213),Kt=n(8),Qt="#FFFFFF",Zt={black:"#000000",white:Qt,primary:{contrastText:Qt,dark:Kt.a.indigo[900],main:Kt.a.indigo[500],light:Kt.a.indigo[100]},secondary:{contrastText:Qt,dark:Kt.a.blue[900],main:Kt.a.blue.A400,light:Kt.a.blue.A400},success:{contrastText:Qt,dark:Kt.a.green[900],main:Kt.a.green[600],light:Kt.a.green[400]},info:{contrastText:Qt,dark:Kt.a.blue[900],main:Kt.a.blue[600],light:Kt.a.blue[400]},warning:{contrastText:Qt,dark:Kt.a.orange[900],main:Kt.a.orange[600],light:Kt.a.orange[400]},error:{contrastText:Qt,dark:Kt.a.red[900],main:Kt.a.red[600],light:Kt.a.red[400]},text:{primary:Kt.a.blueGrey[900],secondary:Kt.a.blueGrey[600],link:Kt.a.blue[600]},background:{default:"#F4F6F8",paper:Qt},icon:Kt.a.blueGrey[600],divider:Kt.a.grey[200]},en={h1:{color:Zt.text.primary,fontWeight:500,fontSize:"35px",letterSpacing:"-0.24px",lineHeight:"40px"},h2:{color:Zt.text.primary,fontWeight:500,fontSize:"29px",letterSpacing:"-0.24px",lineHeight:"32px"},h3:{color:Zt.text.primary,fontWeight:500,fontSize:"24px",letterSpacing:"-0.06px",lineHeight:"28px"},h4:{color:Zt.text.primary,fontWeight:500,fontSize:"20px",letterSpacing:"-0.06px",lineHeight:"24px"},h5:{color:Zt.text.primary,fontWeight:500,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"20px"},h6:{color:Zt.text.primary,fontWeight:500,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"20px"},subtitle1:{color:Zt.text.primary,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"25px"},subtitle2:{color:Zt.text.secondary,fontWeight:400,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body1:{color:Zt.text.primary,fontSize:"15px",letterSpacing:"-0.05px",lineHeight:"21px"},body2:{color:Zt.text.secondary,fontSize:"13px",letterSpacing:"-0.04px",lineHeight:"18px"},button:{color:Zt.text.primary,fontSize:"14px"},caption:{color:Zt.text.secondary,fontSize:"11px",letterSpacing:"0.33px",lineHeight:"13px"},overline:{color:Zt.text.secondary,fontSize:"11px",fontWeight:500,letterSpacing:"0.33px",lineHeight:"13px",textTransform:"uppercase"}};function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var nn={MuiButton:{contained:{boxShadow:"0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)",backgroundColor:"#FFFFFF"}},MuiIconButton:{root:{color:Zt.icon,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"}}},MuiPaper:{elevation1:{boxShadow:"0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)"}},MuiTableCell:{root:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},en.body1,{borderBottom:"1px solid ".concat(Zt.divider)})},MuiTableHead:{root:{backgroundColor:Kt.a.grey[50]}},MuiTypography:{gutterBottom:{marginBottom:8}}},an=Object($t.a)({palette:Zt,typography:en,overrides:nn,zIndex:{appBar:1200,drawer:1100}});function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],function(n){function a(e){var t;return Object(w.a)(this,a),(t=Object(P.a)(this,Object(S.a)(a).call(this,e))).getUser=function(){return new Promise((function(e,n){t.props.user&&t.props.user.loggedIn?e(t.props.user):t.props.getActiveUser().then((function(t){e(t)}))}))},t.state={redirect:!1,loading:!0,hasAccessRight:!0},t}return Object(D.a)(a,n),Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getUser().then((function(n){var a=!0,r=!1;n&&n._id?!t||n.rights.indexOf(t)>=0||(a=!1):r=!0,e.setState({redirect:r,loading:!1,hasAccessRight:a})}))}},{key:"render",value:function(){console.log("withAuth",t);var n=this.state,a=n.redirect,o=n.loading,i=n.hasAccessRight,c=this.props;return c.location.pathname===c.match.path+"/login"?r.a.createElement(ut.a,{theme:an},r.a.createElement(Xt,null)):o?r.a.createElement(G.a,null):(i||(console.log("has no access right",c.user.rights),c.history.goBack()),!c.user.loggedIn&&a?(window.localStorage.setItem("lastVisitedPath",this.props.location.pathname),console.log("redirecting",c.match.path+"/login"),r.a.createElement(s.a,{to:"/admin/login"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(e,this.props)))}}]),a}(a.Component));return Object(l.b)((function(e){return{user:e.Admin.user}}),(function(e){return{getActiveUser:function(){return e({type:pn}),fetch("/user/active").then((function(e){return e.json()})).then((function(t){return e({type:dn,payload:t.user}),t.user})).catch((function(t){return e({type:dn,payload:{}}),console.error(t),e({type:hn,payload:{type:"error",text:"Connection with server failed..."}}),{}}))}}}))(n)}var on=function(e){function t(){return Object(w.a)(this,t),Object(P.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props;return r.a.createElement(ut.a,{theme:an},r.a.createElement(gt,null),r.a.createElement(Ft,e,r.a.createElement(cn,{routes:e.routes,match:e.match})))}}]),t}(r.a.Component),cn=function(e){var t=e.routes,n=e.match;return t.map((function(e,t){return r.a.createElement(s.b,{exact:e.path===n.path+"/",path:e.path,key:e.path,component:rn(e.component,e.title),title:e.title})}))},ln=rn(on);function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn="Admin/SignInReq",dn="Admin/SignInRes",mn="Admin/SetTitle",gn="Admin/LogOut",hn="Admin/Alert",fn="Admin/AlertClose",yn={title:"Dashboard",menuItems:[{text:"Dashboard",accessRightTitle:"Dashboard",link:"/admin",icon:v.a},{text:"Employees",accessRightTitle:"Employees",link:"/admin/employees",icon:O.a},{text:"Products",accessRightTitle:"Products",link:"/admin/products",icon:j.a},{text:"Categories",accessRightTitle:"Categories",link:"/admin/categories",icon:E.a}]},bn={loggedIn:!1,authenticating:!1,loginAttempted:!1},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pn:return un({},e,{authenticating:!0});case dn:var n=t.payload;return n&&n.username?un({},e,{},t.payload,{loggedIn:!0,authenticating:!1}):un({},e,{},t.payload,{loginFailed:!0,authenticating:!1,loggedIn:!1});case gn:return yn;default:return e}},On={type:"",text:"asd",open:!0},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hn:return un({},e,{},t.payload,{open:!0});case fn:return{open:!1,type:""};default:return e}},En={Admin:ne("Admin","/admin",ln,(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,a=arguments.length>1?arguments[1]:void 0;return un({},yn,{Dashboard:je(n.Dashboard,a),Request:he(n.Request,a),Product:lt(n.Product,a),Category:Ue(n.Category,a),user:vn(n.user,a),alert:jn(n.alert,a),title:(e=n.title,t=a,t.type===mn?t.payload:e)})}),{Request:fe,Dashboard:Ee,Product:st,Category:Ve})},wn=function(e){var t=[];return t=Object(f.a)(t),Object(y.d)(e,y.a.apply(void 0,Object(f.a)(t)))}(Object(y.c)(function(e){for(var t={},n=ae(e),a=0;a<n.length;a++){var r=n[a].reducer;if("function"!==typeof r)throw new Error("Module "+a+" does not define reducer!");t[n[a].MODULE]=r}return t}(En))),xn=function(e,t,n,a){arguments.length>4&&void 0!==arguments[4]&&arguments[4];return ae(e).map((function(e){if(console.log("x",e),!e.component)throw new Error("Component for module "+e+" is not defined");var n={path:e.path,title:e.title,component:e.component,onEnter:e.onEnter?function(n){e.onEnter(n,t.dispatch)}:null};if(e.children)return n.routes=Object.keys(e.children).map((function(n){var a=e.children[n];if(!a.component)throw new Error("Component for module "+e+"/"+n+" is not defined");return{path:e.path+a.path,title:a.title,component:a.component,onEnter:a.onEnter?function(e){a.onEnter(e,t.dispatch)}:null}})),n}))}(En,wn,p,u),Pn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Sn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(c.AppContainer,null,r.a.createElement(d,{store:wn,history:h,routes:xn})),document.getElementById("root")),function(e){if(console.log("env","production"),"serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Pn?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Sn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Sn(t,e)}))}}()}},[[222,3,4]]]);
//# sourceMappingURL=main.e685bd13.chunk.js.map