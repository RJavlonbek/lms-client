(this["webpackJsonpreact-cms"]=this["webpackJsonpreact-cms"]||[]).push([[0],{30:function(e,t,n){e.exports=n(43)},35:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),l=n.n(o),c=n(29),s=(n(35),n(7)),i=n(15),m=function(e){return console.log("Roots",e),console.log("state",e.store.getState()),r.a.createElement(s.a,{store:e.store},r.a.createElement(i.b,{history:e.history},e.routes.map((function(e,t){return r.a.createElement(i.a,{key:t,path:e.path,render:function(t){return r.a.createElement(e.component,Object.assign({},t,{routes:e.routes,title:e.title}))}})}))))},u=n(3),p=Object(u.a)();p.listen((function(e){console.log("history is listening: "+e)}));var h=p,f=n(17),d=n(10),v=n(11),E=n(13),g=n(12),b=n(14),O=function(e){function t(e){return Object(d.a)(this,t),Object(E.a)(this,Object(g.a)(t).call(this,e))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){console.log("Profile",this.props);var e=this.props,t=e.name;e.match;return r.a.createElement("div",null,r.a.createElement("h2",null,"\u041f\u0440\u0438\u0432\u0435\u0442, ",t))}}]),t}(r.a.Component),y=Object(s.b)((function(e){return e.Profile}))(O),j=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{title:e,path:t,component:n,reducer:a,onEnter:o,children:r}},N=function(e){return Object.keys(e).map((function(t){var n=Array.isArray(e[t])?e[t]:[e[t]];return n.forEach((function(e){return e.MODULE=t})),n})).reduce((function(e,t){return e.concat(t)}))},M=j("\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442","/profile",y,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"\u0416\u0430\u0432\u043b\u043e\u043d\u0431\u0435\u043a"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Profile/SetName":return{name:t.name};default:return e}})),w=n(28);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var R=function(e){function t(e){return Object(d.a)(this,t),Object(E.a)(this,Object(g.a)(t).call(this,e))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){console.log("Default",this.props);var e=this.props;e.name,e.match;return r.a.createElement("div",null,r.a.createElement("h2",null,"Request List"))}}]),t}(r.a.Component),k=Object(s.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.Default)}))(R),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"DEFAULT"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Default/FirstAction":return{name:"Javlonbek"};default:return e}},I=j("Requests","/request",k,T),P={},S=j("Admin","/admin",(function(e){console.log("Admin",e);var t=e.routes.map((function(e,t){return r.a.createElement(i.a,{path:e.path,key:t,component:e.component,title:e.title})}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Admin"),t)}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;return{Dashboard:function(e,t){return e}(e.Dashboard),Request:T(e.Request,t)}}),{Request:I}),A=n(6),_=(n(41),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(E.a)(this,Object(g.a)(t).call(this,e))).validateField=function(e){var t=e.name,a=e.value,r=n.state.errors;switch(t){case"name":r.name=a?"":"empty";break;case"email":RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i).test(a)?r.email="":r.email="invalid";break;case"theme":r.theme=a?"":"empty";case"message":r.message=a?"":"empty"}n.setState({errors:r})},n.submit=function(e){var t=n.props,a=t.name,r=t.email,o=t.theme,l=t.message,c=n.state.errors;a||(c.name="empty"),r||(c.email="empty"),o||(c.theme="empty"),l||(c.message="empty"),c.name||c.email||c.theme||c.message?e.preventDefault():n.props.submitForm(),n.setState({errors:c})},n.resetForm=function(){n.props.resetForm(),console.log("resetting"),n.inputName.value="",n.inputEmail.value="",n.inputMessage.value=""},n.state={errors:{name:"",email:"",message:"",theme:""},formIsReady:!1},n.setInputNameRef=function(e){n.inputName=e},n.setInputEmailRef=function(e){n.inputEmail=e},n.setInputMessageRef=function(e){n.inputMessage=e},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.themes,n=e.themesMenuOpened,a=e.theme,o=e.name,l=e.email,c=e.message,s=e.toggleThemesMenu,i=e.selectTheme,m=e.inputName,u=e.inputMail,p=e.inputMessage,h=this.state.errors;return console.log("form page props",this.props),console.log("form page state",this.state),r.a.createElement("div",{className:"form-page"},r.a.createElement("div",{className:"form-card"},r.a.createElement("div",{className:"form-card-body"},r.a.createElement("form",null,r.a.createElement("h2",{className:"form-title"},"\u0424\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0442\u0435\u0431\u044f"),r.a.createElement(C,{changeHandler:m,value:o,placeholder:"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c\u0442\u0435\u0441\u044c \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430",name:"name",validator:this.validateField,error:h.name,setRef:this.setInputNameRef}),r.a.createElement(C,{changeHandler:u,value:l,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 e-mail",name:"email",cl:"mt-2",validator:this.validateField,error:h.email,setRef:this.setInputEmailRef}),r.a.createElement(D,{themes:t,opened:n,toggle:s,select:i,theme:a,error:h.theme,validator:this.validateField}),r.a.createElement(H,{changeHandler:p,value:c,validator:this.validateField,error:h.message,setRef:this.setInputMessageRef}),r.a.createElement("div",{className:"form-footer mt-2"},r.a.createElement("div",{className:"button reset-button",onClick:this.resetForm},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"),r.a.createElement(A.a,{onClick:this.submit,to:"/",className:"button ml-auto"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))))}}]),t}(r.a.Component));function C(e){var t=e.changeHandler,n=e.value,a=e.placeholder,o=e.name,l=e.cl,c=e.validator,s=e.error,i=e.setRef;if(n)var m=r.a.createElement("span",{className:"placeholder"},a);return r.a.createElement("div",{className:l+" input-box "+(n?"filled ":"")+(s?"with-error ":"")},m,r.a.createElement("input",{ref:i,name:o,type:"text",placeholder:a,onFocus:function(e){e.target.placeholder="",console.log(e.target)},onBlur:function(e){e.target.placeholder=a,t(e.target.value),c(e.target)},defaultValue:n}))}function D(e){var t=e.themes,n=e.opened,a=e.toggle,o=e.select,l=e.theme,c=e.validator,s=e.error,i=function(e,t){o(e),c(t)};if(n)var m=t.map((function(e,t){return r.a.createElement(x,{key:t,theme:e,select:i})})),u=r.a.createElement("div",{className:"custom-select-dropdown"},m);else u="";return r.a.createElement("div",{className:"select-box mt-2"},r.a.createElement("div",{className:"input-box "+(s?"with-error ":"")+(l?"filled ":"")},r.a.createElement(U,{opened:n,toggle:a,theme:l}),u))}function U(e){var t=e.opened,n=e.toggle,a=e.theme;if(a&&a.value)var o=r.a.createElement("div",{className:"selected-item"},r.a.createElement("span",{className:"placeholder"},"\u0422\u0435\u043c\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),a.name);else o="\u0422\u0435\u043c\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f";return r.a.createElement("div",{className:"custom-select-area "+(t?"open":""),onClick:n},o)}function x(e){var t=e.theme,n=e.select,a={name:"theme",value:t.value};return r.a.createElement("div",{className:"custom-select-option",value:t.value,onClick:function(e){return n(t.value,a)}},t.name)}function H(e){var t=e.changeHandler,n=e.value,a=e.validator,o=e.error,l=e.setRef;return r.a.createElement("div",{className:"input-box mt-2 "+(o?"with-error ":"")+(n?"filled ":"")},r.a.createElement("textarea",{ref:l,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",rows:"4",onFocus:function(e){e.target.placeholder=""},onBlur:function(e){e.target.placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",t(e.target.value),a(e.target)},name:"message",defaultValue:n}))}var L,q=Object(s.b)((function(e){return e.Form}),(function(e){return{toggleThemesMenu:function(){e({type:"TOGGLE_THEMES_MENU"})},selectTheme:function(t){e({type:"SELECT_THEME",value:t})},inputName:function(t){e({type:"INPUT_NAME",name:t})},inputMail:function(t){e({type:"INPUT_EMAIL",email:t})},inputMessage:function(t){e({type:"INPUT_MESSAGE",message:t})},resetForm:function(){e({type:"RESET_FORM"})},submitForm:function(){e({type:"SUBMIT_FORM"})}}}))(_),B={themes:[{name:"\u0422\u0435\u043c\u0430 1",value:1},{name:"\u0422\u0435\u043c\u0430 2",value:2},{name:"\u0422\u0435\u043c\u0430 3",value:3},{name:"\u0422\u0435\u043c\u0430 4",value:4}],theme:"",message:"",name:"",email:"",themesMenuOpened:!1,submitted:!1},G={Profile:M,Admin:S,Form:j("\u0424\u043e\u0440\u043c\u0430","/form",(function(e){return r.a.createElement("div",null,r.a.createElement(i.a,{exact:!0,path:e.match.path,component:q}),r.a.createElement(i.a,{exact:!0,path:e.match.path+"/edit",component:q}))}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_THEME":var n={};return e.themes.map((function(e,a){e.value==t.value&&(n=e)})),Object.assign({},e,{theme:n,themesMenuOpened:!1});case"TOGGLE_THEMES_MENU":return Object.assign({},e,{themesMenuOpened:!e.themesMenuOpened});case"INPUT_NAME":return Object.assign({},e,{name:t.name});case"INPUT_EMAIL":return Object.assign({},e,{email:t.email});case"INPUT_MESSAGE":return Object.assign({},e,{message:t.message});case"RESET_FORM":return Object.assign({},e,{name:"",email:"",theme:"",message:""});case"SUBMIT_FORM":return Object.assign({},e,{submitted:!0});default:return e}}))},J=(L=Object(f.b)(function(e){for(var t={},n=N(e),a=0;a<n.length;a++){var r=n[a].reducer;if("function"!==typeof r)throw new Error("Module "+a+" does not define reducer!");if(t[n[a].MODULE]=r,"object"===typeof n[a].children)for(var o in n[a].children){if("function"!==typeof n[a].children[o].reducer)throw new Error("Module "+o+" does not define reducer!");t[o]=n[a].children[o].reducer}}return t}(G)),Object(f.c)(L)),V=function(e){function t(e){return Object(d.a)(this,t),Object(E.a)(this,Object(g.a)(t).call(this,e))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){console.log("main page props",this.props);var e=this.props,t=e.submitted,n=e.name,a=e.theme,o=e.email,l=e.message;if(t)var c=r.a.createElement(A.a,{to:"/form/edit",className:"button"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443"),s=r.a.createElement(W,{name:n,email:o,theme:a,message:l});else c=r.a.createElement(A.a,{to:"/form",className:"button"},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443"),s=r.a.createElement("p",null,"\u0424\u043e\u0440\u043c\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430.");return r.a.createElement("div",{class:"main-page"},r.a.createElement("p",null,"Form data:"),s,c)}}]),t}(r.a.Component);function W(e){var t=e.name,n=e.email,a=e.theme,o=e.message;return r.a.createElement("div",{className:"form-data"},r.a.createElement("p",null,"\u0418\u043c\u044f: ",r.a.createElement("span",{className:"form-value"},t)),r.a.createElement("p",null,"e-mail: ",r.a.createElement("span",{className:"form-value"},n)),r.a.createElement("p",null,"\u0422\u0435\u043c\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f: ",r.a.createElement("span",{className:"form-value"},a.name)),r.a.createElement("p",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f: ",r.a.createElement("span",{className:"form-value"},o)))}var $=Object(s.b)((function(e){return{submitted:e.Form.submitted,name:e.Form.name,email:e.Form.email,theme:e.Form.theme,message:e.Form.message}}))(V),z=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f";return[{path:"/",title:r,component:n,routes:N(e).map((function(e){if(console.log("x",e),!e.component)throw new Error("Component for module "+e+" is not defined");var n={path:e.path,title:e.title,component:e.component,onEnter:e.onEnter?function(n){e.onEnter(n,t.dispatch)}:null};return e.children&&(n.routes=Object.keys(e.children).map((function(n){var a=e.children[n];if(!a.component)throw new Error("Component for module "+e+"/"+n+" is not defined");return{path:e.path+a.path,title:a.title,component:a.component,onEnter:a.onEnter?function(e){a.onEnter(e,t.dispatch)}:null}}))),n}))}]}(G,J,(function(e){console.log("App",e);var t=e.routes.map((function(e,t){return e.routes&&e.routes.length?r.a.createElement(i.a,{path:e.path,key:e.path,render:function(t){return r.a.createElement(e.component,Object.assign({},t,{title:e.title,routes:e.routes}))}}):r.a.createElement(i.a,{path:e.path,key:e.path,component:e.component})}));return r.a.createElement("div",null,r.a.createElement(i.a,{exact:!0,path:e.match.path,component:$}),t)}),(function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),e.children)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));console.log("routes",z),console.log("store",J),l.a.render(r.a.createElement(c.AppContainer,null,r.a.createElement(m,{store:J,history:h,routes:z})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.393b33f3.chunk.js.map