{"version":3,"sources":["modules/Admin/components/Title.js","core/components/Home.js","core/components/App.js","core/containers/Root.js","core/history.js","modules/Admin/components/Selectmenu.js","modules/Admin/Article/components/Paragraphs.js","modules/functions.js","modules/Admin/withTitle.js","modules/Admin/Category/List.js","modules/Admin/Category/Form.js","modules/Admin/Category/index.js","modules/Admin/Category/Router.js","modules/Admin/Article/Form.js","modules/Admin/Article/index.js","modules/Admin/Article/Router.js","modules/Admin/Article/List.js","modules/Admin/Dashboard/Dashboard.js","modules/Admin/Dashboard/index.js","modules/Admin/components/Alert.js","modules/Admin/Layout.js","modules/Admin/Login.js","modules/Admin/theme/palette.js","modules/Admin/theme/typography.js","modules/Admin/theme/overrides/index.js","modules/Admin/theme/overrides/MuiButton.js","modules/Admin/theme/overrides/MuiIconButton.js","modules/Admin/theme/overrides/MuiPaper.js","modules/Admin/theme/overrides/MuiTableCell.js","modules/Admin/theme/overrides/MuiTableHead.js","modules/Admin/theme/overrides/MuiTypography.js","modules/Admin/theme/index.js","modules/Admin/withAuth.js","modules/Admin/Admin.js","modules/Admin/index.js","modules/Article/Main.js","modules/Article/index.js","modules/index.js","modules/Article/Router.js","store.js","routes.js","serviceWorker.js","index.js"],"names":["Home","props","to","App","routes","map","route","index","length","path","key","render","component","title","exact","Root","store","history","createBrowserHistory","listen","location","console","log","useStyles","makeStyles","theme","select","width","SelectMenu","options","value","className","changeHandler","v","multiple","itemType","React","useState","option","setOption","classes","inputLabel","useRef","labelWidth","setLabelWidth","useEffect","current","offsetWidth","menuItems","i","MenuItem","_id","Checkbox","checked","indexOf","ListItemText","primary","name","th","FormControl","variant","margin","InputLabel","ref","id","Select","labelId","onChange","event","target","input","header","marginBottom","spacing","addButton","marginTop","Paragraph","defaultValue","handler","TextField","multiline","rows","Paragraphs","items","e","result","content","Typography","p","Box","textAlign","Fab","color","aria-label","size","defineModule","reducer","state","children","onEnter","flatModules","modules","Object","keys","x","res","Array","isArray","forEach","y","MODULE","reduce","c","n","concat","withTitle","Component","connect","dispatch","setTitle","type","SET_TITLE","payload","TableList","lazy","List","this","loadItems","match","onDelete","loadingItems","showDeleteDialog","deleteDialogOpen","deleteId","fallback","columnNames","item","columns","text","addItemText","searchBoxPlaceholder","s","Admin","Category","LOAD_ITEMS_REQ","fetch","then","ok","json","LOAD_ITEMS_RES","b","method","body","JSON","stringify","headers","DELETE_RES","data","container","paddingTop","paddingBottom","paper","padding","display","overflow","flexDirection","textField","themesSelect","button","float","FormCard","update","themes","action","saving","redirect","setRedirect","Container","maxWidth","Grid","xs","Button","Paper","onSubmit","elements","params","itemId","preventDefault","sm","label","required","disabled","CircularProgress","Form","loadItem","setState","loadingItem","LinearProgress","ListContainer","LOAD_ITEM_REQ","LOAD_ITEM_RES","SAVE_REQ","SAVE_RES","actionPrefix","defaultState","r","push","filter","categories","category","setCategory","subtitle","setSubtitle","paragraphs","setParagraphs","image","setImage","FormData","append","file","filename","message","catch","err","error","fileUpload","uploadResponse","Selectmenu","selectCategory","val","style","files","loadCategories","Image","src","url","Article","LOAD_CATEGORIES_REQ","LOAD_CATEGORIES_RES","shouldLoadItems","loading","join","ALERT","clsx","fixedHeight","Fragment","collapse","position","top","right","zIndex","CustomAlertContainer","alert","close","ALERT_CLOSE","open","setTimeout","Collapse","in","Alert","severity","onClose","toString","Copyright","align","Date","getFullYear","root","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","mixins","appBar","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","height","MainListItems","accessRights","menuItem","accessRightTitle","Icon","icon","ListItem","ListItemIcon","link","LayoutContainer","rights","user","logOut","LOG_OUT","setOpen","CssBaseline","AppBar","Toolbar","IconButton","edge","onClick","noWrap","Badge","badgeContent","goBack","Drawer","Divider","Link","href","backgroundColor","palette","common","white","avatar","secondary","main","form","submit","Login","submitHandler","signIn","email","password","loggedIn","redirectUrl","window","localStorage","getItem","failed","loginAttempted","authenticating","mt","LoginForm","Avatar","fullWidth","autoComplete","autoFocus","FormControlLabel","control","LoginContainer","username","SIGN_IN_REQ","SIGN_IN_RES","black","contrastText","dark","colors","indigo","light","blue","success","green","info","warning","orange","red","blueGrey","background","default","divider","grey","h1","fontWeight","fontSize","letterSpacing","lineHeight","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","overline","textTransform","MuiButton","contained","boxShadow","MuiIconButton","MuiPaper","elevation1","MuiTableCell","typography","borderBottom","MuiTableHead","MuiTypography","gutterBottom","createMuiTheme","overrides","withAuth","ComponentToProtect","protectedModule","ProtectedComponent","getUser","Promise","resolve","reject","getActiveUser","hasAccessRight","pathname","ThemeProvider","setItem","mapStateToProps","mapDispatchToProps","Layout","Routes","DashboardIcon","EmployeeIcon","ArticleIcon","ExtensionIcon","defaultUserState","userReducer","loginFailed","defaultAlertState","alertReducer","a","Dashboard","dashboardReducer","categoryReducer","ArticleReducer","Main","createAppStore","middleware","createStore","applyMiddleware","combineReducers","reducers","flat","Error","combineModuleReducers","getRoutes","routeParams","cm","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","document","getElementById","process","URL","origin","addEventListener","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d43fae8a.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\n\nexport default function Title(props) {\n  return (\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n      {props.children}\n    </Typography>\n  );\n}\n\nTitle.propTypes = {\n  children: PropTypes.node,\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst Home=(props)=>(\r\n\t<Redirect to={'/article'} />\r\n);\r\n\r\nHome.propTypes={\r\n\ttitle:PropTypes.string.isRequired\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\nimport Home from './Home';\r\n\r\nconst App=(props)=>{\r\n\tconst routes=props.routes.map((route,index) => {\r\n\t\tif(route.routes && route.routes.length){\r\n\t\t\treturn(\r\n\t\t\t\t<Route path={route.path} key={route.path} render={(props)=>{\r\n\t\t\t\t\treturn(\t\r\n\t\t\t\t\t\t<route.component {...props} title={route.title} routes={route.routes} />\r\n\t\t\t\t\t);\r\n\t\t\t\t}} />\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t        \t<Route path={route.path} key={route.path} component={route.component} />\r\n\t        );\r\n\t\t}\r\n    });\r\n\r\n\treturn(\r\n\t\t<Switch>\r\n\t\t\t<Route exact path={'/'} component={Home} />\r\n\t\t\t{routes}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n\r\nApp.propTypes={\r\n\troutes:PropTypes.array\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Provider} from 'react-redux';\r\nimport {Router, Route} from 'react-router-dom';\r\n\r\nimport App from '../components/App';\r\n\r\nconst Root=(props)=>{\r\n\treturn(\r\n\t\t<Provider store={props.store}>\r\n\t\t\t<Router history={props.history}>\r\n\t\t\t\t<App {...props} />\r\n\t\t\t</Router>\r\n\t\t</Provider>\r\n\t);\r\n}\r\n\r\nRoot.propTypes={\r\n\thistory:PropTypes.object.isRequired,\r\n\troutes:PropTypes.array.isRequired,\r\n\tstore:PropTypes.object.isRequired\r\n}\r\n\r\nexport default Root;","import {createBrowserHistory} from 'history';\n\nconst history=createBrowserHistory();\n\nhistory.listen((location)=>{\n\tconsole.log('history is listening: '+location);\n\t// do some stuff\n});\n\nexport default history;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n\tselect:{\r\n\t\twidth: '100%'\r\n\t}\r\n}));\r\n\r\nconst SelectMenu=({\r\n\toptions = [], \r\n\tvalue,\r\n\tclassName, \r\n\tchangeHandler = (v)=>{},\r\n\tmultiple = false, // Boolean: whether multiple or not\r\n\titemType = 'simple' // String: represents view type of option items. Values: 'simple' || 'checkbox'\r\n})=>{\r\n\tconst [option, setOption] = React.useState(value ? value : (multiple ? [] : ''));\r\n\tconst classes = useStyles();\r\n\tconst inputLabel = React.useRef(null);\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t    setLabelWidth(inputLabel.current.offsetWidth);\r\n\t}, []);\r\n\r\n\tconst ITEM_HEIGHT = 48;\r\n\tconst ITEM_PADDING_TOP = 8;\r\n\tconst MenuProps = {\r\n\t  PaperProps: {\r\n\t    style: {\r\n\t      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n\t      width: 250,\r\n\t    },\r\n\t  },\r\n\t};\r\n\r\n\tconst handleChange = event => {\r\n\t\tconsole.log('changed', event.target.value);\r\n\t   \tsetOption(event.target.value);\r\n\t   \tchangeHandler(event.target.value);\r\n\t};\r\n\r\n\t// preparing menu items\r\n\tlet menuItems = '';\r\n\tif(itemType === 'checkbox'){\r\n\t\tmenuItems = options.map((option, i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={option._id}>\r\n\t\t\t\t  \t<Checkbox checked={option.indexOf(option._id) > -1} />\r\n\t\t\t\t  \t<ListItemText primary={option.name} />\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t})\r\n\t}\r\n\tif(itemType === 'simple'){\r\n\t\tmenuItems = options.map((th,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={th._id}>{th.name}</MenuItem>\r\n\t\t\t)\r\n\t\t});\r\n\t}\r\n\r\n\treturn(\r\n    \t<FormControl variant=\"outlined\" margin=\"normal\" className={classes.select + ' ' + className}>\r\n    \t    <InputLabel ref={inputLabel} id={\"demo-simple-select-outlined-label\"}>\r\n    \t        Category\r\n    \t    </InputLabel>\r\n    \t    <Select\r\n\t          \tlabelId=\"demo-simple-select-outlined-label\"\r\n\t          \tid=\"demo-simple-select-outlined\"\r\n\t          \tname={'category'}\r\n\t          \tvalue={option}\r\n\t          \tonChange={handleChange}\r\n\t          \tlabelWidth={labelWidth}\r\n\t          \tmultiple={multiple}\r\n    \t    >\r\n    \t        {menuItems}\r\n    \t    </Select>\r\n    \t</FormControl>\r\n\t)\r\n}\r\n\r\nconst Options = ({items, value, itemType})=>{\r\n\tif(itemType === 'checkbox'){\r\n\t\treturn items.map((option, i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={option._id}>\r\n\t\t\t\t  \t<Checkbox checked={value.indexOf(option._id) > -1} />\r\n\t\t\t\t  \t<ListItemText primary={option.name} />\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t})\r\n\t}\r\n\r\n\tif(itemType === 'simple'){\r\n\t\treturn items.map((th,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={th._id}>{th.name}</MenuItem>\r\n\t\t\t)\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default SelectMenu;","import React, {Fragment} from 'react';\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tFormControl\r\n} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst useStyles = makeStyles(theme=>({\r\n\tinput:{\r\n\t\twidth: '100%'\r\n\t},\r\n\theader:{\r\n\t\tmarginBottom: theme.spacing(3)\r\n\t},\r\n\taddButton:{\r\n\t\tmarginTop: theme.spacing(2)\r\n\t}\r\n}));\r\n\r\nconst Paragraphs = ({items, changeHandler})=>{\r\n\tconst classes = useStyles();\r\n\tconst handler = (e)=>{\r\n\t\tlet result = [{\r\n\t\t\tcontent: e.target.value\r\n\t\t}];\r\n\t\tchangeHandler(result);\r\n\t}\r\n\treturn(\r\n\t\t<Fragment>\r\n\t\t\t<Typography component='h2' variant='h4' className={classes.header}>Main content</Typography>\r\n\t\t\t{items.map((p, i)=>(<Paragraph handler={handler} defaultValue={p.content}/>))}\r\n\t\t\t<Box textAlign='center'>\r\n\t\t\t\t<Fab variant='extended' color='primary' aria-label='add' size='small' className={classes.addButton}>\r\n\t\t\t\t\t<AddIcon /> \r\n\t\t\t\t\tmore paragraph \r\n\t\t\t\t</Fab>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nconst Paragraph = ({defaultValue='', handler})=>{\r\n\tconst classes = useStyles();\r\n\treturn(\r\n\t\t<TextField\r\n    \t\tvariant=\"outlined\"\r\n          \tid=\"outlined-multiline-static\"\r\n          \tmultiline\r\n          \trows=\"8\"\r\n          \tdefaultValue={defaultValue}\r\n          \tclassName={classes.input}\r\n          \tonChange={handler}\r\n        />\r\n\t);\r\n}\r\n\r\nexport default Paragraphs;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nexport const defineModule=(\r\n\ttitle,\r\n\tpath,\r\n\tcomponent,\r\n\treducer=(state={})=>state,\r\n\tchildren=null,\r\n\tonEnter=null,\r\n)=>{\r\n\treturn {title,path,component,reducer,onEnter,children}\r\n}\r\n\r\nexport const flatModules = modules => Object.keys(modules).map(x => {\r\n    const res = Array.isArray(modules[x]) ? modules[x] : [modules[x]];\r\n    res.forEach(y => y.MODULE = x)\r\n    return res\r\n}).reduce((c,n) => c.concat(n));\r\n\r\n// export const alertError = (options)=>{\r\n// \tReactDOM.createPortal(\r\n// \t\t<Alert severity=\"error\">This is an error alert — check it out!</Alert>,\r\n// \t\tdocument.getElementById('alert-error'));\r\n// }\r\n\r\n// function for uploading files to my PHP Cloud (cloud.javelin.uz). It is being used because of that Heroku Apps are not able to handle file uploading\r\nexport const fileUpload = (file, filename)=>{\r\n\tif(!filename){\r\n\t\treturn {\r\n\t\t\tresult: 'success',\r\n\t\t\tmessage: 'no need for uploading to cloud'\r\n\t\t}\r\n\t}\r\n\tconst app = 'medium';\r\n\tconst url = \"https:/\\/cloud.javelin.uz/file-upload.php\";\r\n\r\n\tlet data = new FormData();\r\n\tdata.append('app', app);\r\n\tdata.append('filename', filename);\r\n\tdata.append('file', file);\r\n\r\n\treturn fetch(url, {\r\n\t\tmethod: 'POST',\r\n\t\tbody: data,\r\n\t\theaders:{\r\n\t\t\t'Accept': 'application/json'\r\n\t\t}\r\n\t}).then((res)=>{\r\n\t\tif(res.ok){\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tresult: 'error',\r\n\t\t\tmessage: 'request to cloud failed'\r\n\t\t}\r\n\t}).catch((err)=>{\r\n\t\tconsole.error('Error on file uploading: ', err);\r\n\t\treturn {\r\n\t\t\tresult: 'error',\r\n\t\t\tmessage: 'Error on file uploading: ' + err\r\n\t\t}\r\n\t});\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {SET_TITLE} from './index';\r\n\r\nconst withTitle=(Component)=>(title)=>{\r\n\t//console.log('with title', Component);\r\n\tconst ComponentWithTitle=(props)=>{\r\n\t\tprops.setTitle(title);\r\n\r\n\t\treturn(\r\n\t\t\t<Component />\r\n\t\t);\r\n\t}\r\n\r\n\tconst mapDispatchToProps=dispatch=>({\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\treturn connect(null, mapDispatchToProps)(ComponentWithTitle);\r\n}\r\n\r\nexport default withTitle;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems}=this.props;\r\n\t\tif(!(items && items.length)){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Category List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tcolumnNames={['Name']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id:item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttext: item.name\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/categories'}\r\n\t\t\t\t\theader={header}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Category'}\r\n\t\t\t\t\tsearchBoxPlaceholder={'search category'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Category\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/category/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Categories');","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Route, Link, Redirect} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport {\n\tButton,\n\tLinearProgress,\n\tCircularProgress\n} from '@material-ui/core';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\n\nimport Title from '../components/Title';\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES, SAVE_REQ, SAVE_RES} from './index';\nimport {SET_TITLE} from '../index';\n\nconst useStyles = makeStyles(theme => ({\n  \tcontainer: {\n    \tpaddingTop: theme.spacing(4),\n    \tpaddingBottom: theme.spacing(4),\n  \t},\n  \tpaper: {\n\t    padding: theme.spacing(2),\n\t    display: 'flex',\n\t    overflow: 'auto',\n\t    flexDirection: 'column',\n  \t},\n  \ttextField: {\n      \twidth: '100%'\n    },\n    themesSelect:{\n    \twidth:'100%'\n    },\n    button:{\n    \tfloat:'right'\n    }\n}));\n\nexport function FormCard({item, match, themes, update, action, saving}) {\n  \tconst classes = useStyles();\n  \tconst [redirect, setRedirect]=React.useState('');\n\n  \tconst submitHandler=e=>{\n  \t\tvar inputs=e.target.elements;\n  \t\tvar data={\n  \t\t\tname:inputs.name.value\n  \t\t}\n  \t\tif(action==='edit'){\n  \t\t\tdata.id=match.params.itemId;\t\n  \t\t}\n\n  \t\tupdate(data).then((json)=>{\n  \t\t\tif(json.result==='success'){\n  \t\t\t\tsetRedirect('/admin/categories');\n  \t\t\t}\n  \t\t});\n  \t\t\n  \t\te.preventDefault();\n  \t}\n\n  \tif(redirect){\n  \t\tconsole.log('redirecting',redirect);\n  \t\treturn(\n  \t\t\t<Redirect to={redirect} />\n  \t\t);\n  \t}\n\n  \treturn (\n\t    <Container maxWidth=\"lg\" className={classes.container}>\n\t      \t<Grid container spacing={3}>\n\t      \t\t<Grid item xs={6}>\n\t      \t\t\t<Link to={'/admin/categories'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\n\t      \t\t</Grid>\n\t        \t<Grid item xs={12}>\n\t          \t\t<Paper className={classes.paper}>\n\t\t\t\t\t    <form onSubmit={submitHandler}>\n\t\t\t\t\t    \t<Grid container spacing={3} >\n\t\t\t\t\t\t    \t<Grid item sm={12}>\n\t\t\t\t\t\t\t    \t<TextField\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\n\t\t\t\t\t    \t          \tclassName={classes.textField}\n\t\t\t\t\t    \t          \tlabel={\"Category name\"}\n\t\t\t\t\t    \t         \tmargin=\"normal\"\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\n\t\t\t\t\t    \t          \tname='name'\n\t\t\t\t\t    \t          \tdefaultValue={item.name}\n\t\t\t\t\t    \t          \trequired\n\t\t\t\t\t    \t        />\n\t\t\t\t\t    \t    </Grid>\n\t    \t            \t    <Grid item sm={12}>\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\n\t\t    \t            \t    </Button>\n\t\t    \t            \t</Grid>\n\t    \t            \t</Grid>\n\t\t\t\t    \t</form>\n\t           \t\t</Paper>\n\t         \t</Grid>\n\t       \t</Grid>\n\t    </Container>\n  \t);\n}\n\nclass Form extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\taction:''\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tconst {loadItem, match, setTitle}=this.props;\n\t\tif(match.params.itemId){\n\t\t\tthis.setState({action:'edit'});\n\t\t\tsetTitle('Edit category');\n\t\t\tloadItem(match.params.itemId);\n\t\t}else{\n\t\t\tthis.setState({action:'add'});\n\t\t\tsetTitle('Add category');\n\t\t}\n\t\t\n\t}\n\trender(){\n\t\tconsole.log('Edit Request',this.props);\n\t\tconst {match, item, themes, update, loadingItem, saving}=this.props;\n\t\tconst {action}=this.state;\n\t\tif(!loadingItem){\n\t\t\treturn(\n\t\t\t\t<FormCard action={action} item={action=='edit'?item:{}} match={match} themes={themes} update={update} saving={saving}/>\n\t\t\t);\n\t\t}else{\n\t\t\treturn(\n\t\t\t\t<LinearProgress />\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps=(state)=>{\n\tconst s=state.Admin.Category\n\treturn {\n\t\titems:s.items,\n\t\titem:s.item,\n\t\tloadingItem:s.loadingItem,\n\t\tsaving:s.saving\n\t}\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n\treturn {\n\t\tloadItem:(itemId)=>{\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\n\t\t\treturn fetch('/api/category/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:LOAD_ITEM_RES,\n\t\t\t\t\tpayload:{\n\t\t\t\t\t\titem:json\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetTitle:(title)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SET_TITLE,\n\t\t\t\tpayload:title\n\t\t\t});\n\t\t},\n\t\tupdate:(data)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SAVE_REQ\n\t\t\t});\n\t\t\treturn fetch('/api/category/store',{\n\t\t\t\tmethod:'POST',\n\t\t\t\tbody:JSON.stringify(data),\n\t\t\t\theaders: {\n\t\t\t        'Accept': 'application/json',\n\t\t\t        'Content-Type': 'application/json'\n\t\t\t    }\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:SAVE_RES,\n\t\t\t\t\tpayload:{\n\t\t\t\t\t\titem:json.data,\n\t\t\t\t\t\tresult:json.result\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn json;\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst ListContainer=connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Form);\n\nexport default ListContainer;","import Router from './Router';\nimport {defineModule} from '../../functions';\n\nconst actionPrefix='Admin/Category/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Categories','/categories', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={List} />\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link, Redirect} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\tButton,\r\n\tLinearProgress,\r\n\tCircularProgress\r\n} from '@material-ui/core';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport Title from '../components/Title';\r\nimport Selectmenu from '../components/Selectmenu';\r\nimport Paragraphs from './components/Paragraphs';\r\nimport {fileUpload} from '../../functions'; \r\nimport {\r\n\tLOAD_ITEM_REQ, \r\n\tLOAD_ITEM_RES, \r\n\tSAVE_REQ, \r\n\tSAVE_RES\r\n} from './index';\r\nimport {\r\n\tLOAD_ITEMS_REQ as LOAD_CATEGORIES_REQ, \r\n\tLOAD_ITEMS_RES as LOAD_CATEGORIES_RES\r\n} from '../Category';\r\nimport {SET_TITLE} from '../index';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \tcontainer: {\r\n    \tpaddingTop: theme.spacing(4),\r\n    \tpaddingBottom: theme.spacing(4),\r\n  \t},\r\n  \tpaper: {\r\n\t    padding: theme.spacing(2),\r\n\t    display: 'flex',\r\n\t    overflow: 'auto',\r\n\t    flexDirection: 'column',\r\n  \t},\r\n  \ttextField: {\r\n      \twidth: '100%'\r\n    },\r\n    button:{\r\n    \tfloat:'right'\r\n    }\r\n}));\r\n\r\nexport function FormCard({item, match, categories = [], update, action, saving}) {\r\n  \tconst classes = useStyles();\r\n  \tconst [redirect, setRedirect]=React.useState('');\r\n  \tconst [title, setTitle] = React.useState(item.title);\r\n  \tconst [category, setCategory] = React.useState(item.category || []);\r\n  \tconst [subtitle, setSubtitle] = React.useState(item.subtitle || '');\r\n  \tconst [paragraphs, setParagraphs] = React.useState(item.paragraphs || [{content:''}]);\r\n  \tconst [image, setImage] = React.useState(null);\r\n\r\n  \tconst submitHandler=e=>{\r\n  \t\tvar inputs=e.target.elements;\r\n  \t\tvar data= new FormData();\r\n\r\n  \t\tdata.append('title', title);\r\n  \t\tdata.append('subtitle', subtitle);\r\n  \t\tdata.append('category', JSON.stringify(category));\r\n  \t\tdata.append('paragraphs', JSON.stringify(paragraphs));\r\n  \t\tdata.append('image', image);\r\n\r\n  \t\tif(action==='edit'){\r\n  \t\t\tdata.append('id', match.params.itemId);\t\r\n  \t\t}\r\n\r\n  \t\tupdate(data).then((json)=>{\r\n  \t\t\tif(json.result!=='success'){\r\n  \t\t\t\t// do something if saving was unsuccessful\r\n  \t\t\t}\r\n\t\t\tfileUpload(image, json.filename).then((uploadResponse)=>{\r\n\t\t\t\tif(uploadResponse.result !== 'success'){\r\n\t\t\t\t\t// do something if file uploading was unsuccessful\t\r\n\t\t\t\t}\r\n\t\t\t\tsetRedirect('/admin/articles');\r\n\t\t\t});\r\n  \t\t});\r\n  \t\t\r\n  \t\te.preventDefault();\r\n  \t}\r\n\r\n  \tif(redirect){\r\n  \t\tconsole.log('redirecting',redirect);\r\n  \t\treturn(\r\n  \t\t\t<Redirect to={redirect} />\r\n  \t\t);\r\n  \t}\r\n\r\n  \treturn (\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={'/admin/products'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t    <form onSubmit={submitHandler}>\r\n\t\t\t\t\t    \t<Grid container spacing={3} >\r\n\t\t\t\t\t\t    \t<Grid item sm={6}>\r\n\t\t\t\t\t\t\t    \t<TextField\r\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\r\n\t\t\t\t\t    \t          \tclassName={classes.textField}\r\n\t\t\t\t\t    \t          \tlabel={\"Title\"}\r\n\t\t\t\t\t    \t         \tmargin=\"normal\"\r\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\r\n\t\t\t\t\t    \t          \tname='title'\r\n\t\t\t\t\t    \t          \tdefaultValue={title}\r\n\t\t\t\t\t    \t          \trequired\r\n\t\t\t\t\t    \t          \tonChange={(e)=>{setTitle(e.target.value)}}\r\n\t\t\t\t\t    \t        />\r\n\t\t\t\t\t    \t    </Grid>\r\n\t\t\t\t\t    \t    <Grid item sm={6}>\r\n\t    \t        \t\t    \t<Selectmenu \r\n\t    \t        \t\t    \t\toptions={categories} \r\n\t    \t        \t\t    \t\tvalue={category.map((c, i)=>(c._id))} \r\n\t    \t        \t\t    \t\tclassName={classes.selectCategory} \r\n\t    \t        \t\t    \t\tmultiple={true}\r\n\t    \t        \t\t    \t\tchangeHandler={(val)=>setCategory(val)}\r\n\t    \t        \t\t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item xs={12}>\r\n\t    \t            \t    \t<Image image={item.image} />\r\n\t\t    \t            \t    <Button\r\n\t\t    \t            \t      variant=\"contained\"\r\n\t\t    \t            \t      component=\"label\"\r\n\t\t    \t            \t    >\r\n\t\t    \t            \t      \tUpload image\r\n\t\t    \t            \t      \t<input\r\n\t\t\t    \t            \t        type=\"file\"\r\n\t\t\t    \t            \t        style={{ display: \"none\" }}\r\n\t\t\t    \t            \t        onChange={(e)=>{setImage(e.target.files[0])}}\r\n\t\t    \t            \t      \t/>\r\n\t    \t            \t    \t</Button>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<TextField\r\n\t    \t            \t    \t\tvariant=\"outlined\"\r\n\t            \t    \t          \tid=\"outlined-multiline-static\"\r\n\t            \t    \t          \tlabel=\"Subtitle\"\r\n\t            \t    \t          \tmultiline\r\n\t            \t    \t          \trows=\"2\"\r\n\t            \t    \t          \tdefaultValue={subtitle}\r\n\t            \t    \t          \tclassName={classes.textField}\r\n\t            \t    \t          \tonChange={(e)=>{setSubtitle(e.target.value)}}\r\n\t            \t    \t        />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<Paragraphs \r\n\t    \t            \t    \t\titems={paragraphs}\r\n\t    \t            \t    \t\tchangeHandler={(val)=>setParagraphs(val)} \r\n\t    \t            \t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\r\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\r\n\t\t    \t            \t    </Button>\r\n\t\t    \t            \t</Grid>\r\n\t    \t            \t</Grid>\r\n\t\t\t\t    \t</form>\r\n\t           \t\t</Paper>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\n\r\nclass Form extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taction:this.props.match.params.itemId ? 'edit' : 'add'\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {loadItem, match, setTitle, loadCategories, categories}=this.props;\r\n\t\tif(match.params.itemId){\r\n\t\t\tsetTitle('Edit article');\r\n\t\t\tloadItem(match.params.itemId);\r\n\t\t}else{\r\n\t\t\tsetTitle('Add article');\r\n\t\t}\r\n\t\t\r\n\t\tif(!categories.length){\r\n\t\t\tloadCategories();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Edit item',this.props);\r\n\t\tconst {match, item, update, loadingItem, saving, categories}=this.props;\r\n\t\tconst {action}=this.state;\r\n\t\t\r\n\t\tif(loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<LinearProgress />\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t<FormCard action={action} item={action==='edit'?item:{}} match={match} categories={categories} update={update} saving={saving}/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Image = ({image})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<img src={image.url}  width={\"300px\"}/>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Article;\r\n\tconst c=state.Admin.Category;\r\n\treturn {\r\n\t\titems:s.items,\r\n\t\titem:s.item,\r\n\t\tloadingItem:s.loadingItem,\r\n\t\tsaving:s.saving,\r\n\t\tcategories:c.items\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(itemId)=>{\r\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\r\n\t\t\treturn fetch('/api/article/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:(data)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SAVE_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/store',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:data,\r\n\t\t\t\t// headers:{\r\n\t\t\t\t// \t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t// }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SAVE_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json.data,\r\n\t\t\t\t\t\tresult:json.result\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn json;\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadCategories:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_CATEGORIES_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_CATEGORIES_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Form);\r\n\r\nexport default ListContainer;","import Router from './Router';\nimport {defineModule} from '../../functions';\n\nconst actionPrefix='Admin/Article/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\tshouldLoadItems:true,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\tshouldLoadItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Articles','/articles', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={List} />\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport {ALERT} from '../index'; \r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tloading={loadingItems}\r\n\t\t\t\t\tcolumnNames={['Title', 'Subtitle', 'Category', 'Author']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id: item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttext: item.title\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.subtitle\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.category.map((c,i)=>c.name).join(',')\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: 'Blogger'\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/articles'}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Article'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Article;\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/get').then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ALERT,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\ttype:'error',\r\n\t\t\t\t\t\ttext: 'Connection with server failed...'\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn [];\r\n\t\t\t}).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/article/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Articles');","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\nimport {ListContainer as ArticlesList} from '../Article/List';\r\nimport {SET_TITLE} from '../index';\r\nimport withTitle from '../withTitle';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  }\r\n}));\r\n\r\nconst Dashboard = (props)=>{\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  console.log('Dashboard',props);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ArticlesList header={\"Articles\"} />\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Paper className={classes.paper}>\r\n              Some Dashboard Content\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nDashboard.propTypes = {\r\n\r\n}\r\n\r\nexport default Dashboard;","import Dashboard from './Dashboard';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst FIRST_ACTION='Dashboard/FirstAction';\r\n\r\nexport const reducer=(state={name:'DEFAULT'}, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase FIRST_ACTION:\r\n\t\t\treturn {name:'Javlonbek'}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Dashboard', '/', Dashboard, reducer);","import React from 'react';\r\nimport RactDOM from 'react-dom';\r\nimport {connect} from 'react-redux'\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport {Collapse} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nimport {ALERT_CLOSE} from '../index';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n\tcollapse:{\r\n\t\tposition:'absolute',\r\n\t\ttop: '0.8rem',\r\n\t\tright:'0.8rem',\r\n\t\tzIndex:9999\r\n\t}\r\n}))\r\n\r\nconst CustomAlert =({type, text, close, open})=>{\r\n\tconst classes=useStyles();\r\n\tconsole.log('alert rendering', open);\r\n\tif(!type){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tsetTimeout(()=>close(), 5000);\r\n\r\n\treturn(\r\n\t\t<Collapse in={open} className={classes.collapse} >\r\n\t\t\t<Alert severity={type} onClose={()=>close()}>{text.toString()}</Alert>\r\n\t\t</Collapse>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state=>{\r\n\treturn {\r\n\t\t...state.Admin.alert\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n\treturn{\r\n\t\tclose:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:ALERT_CLOSE\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst CustomAlertContainer = connect(mapStateToProps, mapDispatchToProps)(CustomAlert);\r\n\r\nexport default CustomAlertContainer;\r\n\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport {\r\n  Layers as LayersIcon,\r\n  ExitToApp as LogOutIcon\r\n} from '@material-ui/icons';\r\n\r\nimport {LOG_OUT} from './index';\r\n\r\nfunction Copyright() {\r\n  return(\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" to=\"/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport const MainListItems = ({items, accessRights})=>{\r\n  items=items.map((menuItem, i)=>{\r\n    if((accessRights && accessRights.length && accessRights.indexOf(menuItem.accessRightTitle)>=0) || !menuItem.accessRightTitle){\r\n      let Icon=menuItem.icon;\r\n      return(\r\n        <ListItem button key={i} >\r\n          <ListItemIcon>\r\n            <Icon />\r\n          </ListItemIcon>\r\n          <Link to={menuItem.link}>\r\n            <ListItemText primary={menuItem.text} />\r\n          </Link>\r\n        </ListItem>\r\n      );\r\n    }else{\r\n      return\r\n    }\r\n  });\r\n  return(\r\n    <div>\r\n      {items}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AdminLayout(props) {\r\n  console.log('Layout',props);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h4\" color=\"inherit\" noWrap className={classes.title}>\r\n            {props.title}\r\n          </Typography>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={0} color={\"secondary\"}>\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          <IconButton color=\"inherit\" title=\"Log out\" onClick={(e)=>{props.logOut().then(()=>{props.history.goBack()})}}>\r\n              <LogOutIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <MainListItems items={props.menuItems} accessRights={props.rights}/>\r\n        </List>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        {props.children}\r\n        <Copyright />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Dashboard.propTypes={\r\n// \tname:PropTypes.string\r\n// }\r\n\r\nconst mapStateToProps=(state)=>{\r\n\treturn {\r\n    title:state.Admin.title,\r\n    menuItems:state.Admin.menuItems,\r\n    rights:state.Admin.user.rights,\r\n    user:state.Admin.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n    logOut:()=>{\r\n      dispatch({\r\n        type:LOG_OUT\r\n      });\r\n      return fetch('/api/user/logout').then((res)=>{\r\n        console.log('logged out');\r\n        return '';\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nconst LayoutContainer=connect(mapStateToProps, mapDispatchToProps)(AdminLayout);\r\n\r\nexport default LayoutContainer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {CircularProgress} from '@material-ui/core';\r\n\r\nimport Alert from './components/Alert';\r\n\r\nimport {SIGN_IN_REQ, SIGN_IN_RES, ALERT} from './index';\r\nimport {alertError} from '../functions';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nclass Login extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\temail:'',\r\n\t\t\tpassword:''\r\n\t\t}\r\n\t}\r\n\tchangeHandler=(name,value)=>{\r\n\t\tthis.setState({[name]:value});\r\n\t}\r\n\tsubmitHandler=()=>{\r\n\t\tconst {signIn} = this.props;\r\n\t\tsignIn(this.state.email,this.state.password);\r\n\t}\r\n\trender(){\r\n\t\tconst {signIn,user,match}=this.props;\r\n\t\tconst {email,password}=this.state;\r\n\r\n\t\tconsole.log('Login', this.props);\r\n\r\n\t\tif(user && user.loggedIn){\r\n\t\t\tlet redirectUrl=window.localStorage.getItem('lastVisitedPath');\r\n\t\t\treturn(\r\n\t\t\t\t<Redirect to={redirectUrl ? redirectUrl : '/admin'} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t  \t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t    <CssBaseline />\r\n\t\t\t    <LoginForm changeHandler={this.changeHandler} submitHandler={this.submitHandler} failed={user.loginAttempted} authenticating={user.authenticating} />\r\n\t\t\t    <Alert />\r\n\t\t\t    <Box mt={8}>\r\n\t\t\t      \t<Copyright />\r\n\t\t\t    </Box>\r\n\t\t  \t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst LoginForm=({changeHandler,submitHandler, failed, authenticating})=>{\r\n\tconst classes = useStyles();\r\n\treturn(\r\n\t\t<div className={classes.paper}>\r\n\t\t  \t<Avatar className={classes.avatar}>\r\n\t\t    \t<LockOutlinedIcon />\r\n\t\t  \t</Avatar>\r\n\t\t  \t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t    \tSign in\r\n\t\t  \t</Typography>\r\n\t\t  \t<form className={classes.form} onSubmit={(e)=>{e.preventDefault(); submitHandler(); }}>\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tid=\"email\"\r\n\t\t\t      \tlabel=\"Email Address\"\r\n\t\t\t      \tname=\"username\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tautoFocus\r\n\t\t\t      \tonChange={(e)=>changeHandler('email',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tname=\"password\"\r\n\t\t\t      \tlabel=\"Password\"\r\n\t\t\t      \ttype=\"password\"\r\n\t\t\t      \tid=\"password\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tonChange={(e)=>changeHandler('password',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <FormControlLabel\r\n\t\t\t      control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n\t\t\t      label={\"Remember me\"}\r\n\t\t\t    />\r\n\t\t\t    <Button\r\n\t\t\t      type=\"submit\"\r\n\t\t\t      fullWidth\r\n\t\t\t      variant=\"contained\"\r\n\t\t\t      color=\"primary\"\r\n\t\t\t      className={classes.submit}\r\n\t\t\t      disabled={authenticating}\r\n\t\t\t    >\r\n\t\t\t    \t{authenticating ? <CircularProgress /> : 'Sign In' }\r\n\t\t\t    </Button>\r\n\t\t\t    <Grid container>\r\n\t\t\t      <Grid item xs>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          Forgot password?\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t      <Grid item>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          {\"Don't have an account? Sign Up\"}\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t    </Grid>\r\n\t\t  \t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps=state=>{\r\n\treturn {\r\n\t\tuser:state.Admin.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=dispatch=>{\r\n\treturn {\r\n\t\tsignIn:(username,password)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SIGN_IN_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/admin/login',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify({username,password}),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.json()).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SIGN_IN_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\t...json.user,\r\n\t\t\t\t\t\tloginAttempted: true\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif(json.result==='success'){\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}).catch((err)=>{\r\n\t\t\t\t// end sign in request\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SIGN_IN_RES,\r\n\t\t\t\t\tpayload:{}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// alert error\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:ALERT,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\ttype:'error',\r\n\t\t\t\t\t\ttext: 'Connection with server failed...'\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\talert:(options)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ALERT,\r\n\t\t\t\tpayload: options\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst LoginContainer=connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\nexport default LoginContainer;","import { colors } from '@material-ui/core';\n\nconst white = '#FFFFFF';\nconst black = '#000000';\n\nexport default {\n  black,\n  white,\n  primary: {\n    contrastText: white,\n    dark: colors.indigo[900],\n    main: colors.indigo[500],\n    light: colors.indigo[100]\n  },\n  secondary: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue['A400'],\n    light: colors.blue['A400']\n  },\n  success: {\n    contrastText: white,\n    dark: colors.green[900],\n    main: colors.green[600],\n    light: colors.green[400]\n  },\n  info: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue[600],\n    light: colors.blue[400]\n  },\n  warning: {\n    contrastText: white,\n    dark: colors.orange[900],\n    main: colors.orange[600],\n    light: colors.orange[400]\n  },\n  error: {\n    contrastText: white,\n    dark: colors.red[900],\n    main: colors.red[600],\n    light: colors.red[400]\n  },\n  text: {\n    primary: colors.blueGrey[900],\n    secondary: colors.blueGrey[600],\n    link: colors.blue[600]\n  },\n  background: {\n    default: '#F4F6F8',\n    paper: white\n  },\n  icon: colors.blueGrey[600],\n  divider: colors.grey[200]\n};\n","import palette from './palette';\n\nexport default {\n  h1: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '35px',\n    letterSpacing: '-0.24px',\n    lineHeight: '40px'\n  },\n  h2: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '29px',\n    letterSpacing: '-0.24px',\n    lineHeight: '32px'\n  },\n  h3: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '24px',\n    letterSpacing: '-0.06px',\n    lineHeight: '28px'\n  },\n  h4: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '20px',\n    letterSpacing: '-0.06px',\n    lineHeight: '24px'\n  },\n  h5: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  h6: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  subtitle1: {\n    color: palette.text.primary,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '25px'\n  },\n  subtitle2: {\n    color: palette.text.secondary,\n    fontWeight: 400,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body1: {\n    color: palette.text.primary,\n    fontSize: '15px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body2: {\n    color: palette.text.secondary,\n    fontSize: '13px',\n    letterSpacing: '-0.04px',\n    lineHeight: '18px'\n  },\n  button: {\n    color: palette.text.primary,\n    fontSize: '14px'\n  },\n  caption: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    letterSpacing: '0.33px',\n    lineHeight: '13px'\n  },\n  overline: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    fontWeight: 500,\n    letterSpacing: '0.33px',\n    lineHeight: '13px',\n    textTransform: 'uppercase'\n  }\n};\n","import MuiButton from './MuiButton';\nimport MuiIconButton from './MuiIconButton';\nimport MuiPaper from './MuiPaper';\nimport MuiTableCell from './MuiTableCell';\nimport MuiTableHead from './MuiTableHead';\nimport MuiTypography from './MuiTypography';\n\nexport default {\n  MuiButton,\n  MuiIconButton,\n  MuiPaper,\n  MuiTableCell,\n  MuiTableHead,\n  MuiTypography\n};\n","export default {\n  contained: {\n    boxShadow:\n      '0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)',\n    backgroundColor: '#FFFFFF'\n  }\n};\n","import palette from '../palette';\n\nexport default {\n  root: {\n    color: palette.icon,\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.03)'\n    }\n  }\n};\n","export default {\n  elevation1: {\n    boxShadow: '0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)'\n  }\n};\n","import palette from '../palette';\nimport typography from '../typography';\n\nexport default {\n  root: {\n    ...typography.body1,\n    borderBottom: `1px solid ${palette.divider}`\n  }\n};\n","import { colors } from '@material-ui/core';\n\nexport default {\n  root: {\n    backgroundColor: colors.grey[50]\n  }\n};\n","export default {\n  gutterBottom: {\n    marginBottom: 8\n  }\n};\n","import { createMuiTheme } from '@material-ui/core';\n\nimport palette from './palette';\nimport typography from './typography';\nimport overrides from './overrides';\n\nconst theme = createMuiTheme({\n  palette,\n  typography,\n  overrides,\n  zIndex: {\n    appBar: 1200,\n    drawer: 1100\n  }\n});\n\nexport default theme;\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nimport Login from './Login';\r\n\r\nimport theme from './theme';\r\nimport { SIGN_IN_REQ, SIGN_IN_RES, ALERT } from './index.js';\r\n\r\nexport default function withAuth(ComponentToProtect, protectedModule = '', path = '') {\r\n    class ProtectedComponent extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                redirect: false,\r\n                loading: true,\r\n                hasAccessRight: true\r\n            };\r\n        }\r\n        componentDidMount() {\r\n            this.getUser().then((user) => {\r\n                var hasAccessRight = true;\r\n                var redirect = false;\r\n\r\n                if (user && user._id) {\r\n                    if (protectedModule && !(user.rights.indexOf(protectedModule) >= 0)) {\r\n                        hasAccessRight = false;\r\n                    }\r\n                } else {\r\n                    redirect = true;\r\n                }\r\n\r\n                this.setState({\r\n                    redirect,\r\n                    loading: false,\r\n                    hasAccessRight\r\n                });\r\n            });\r\n        }\r\n        getUser = () => {\r\n            // checks the state whether there exists an active user, if no, active user should be fetched from backend\r\n            return new Promise((resolve, reject) => {\r\n                if (this.props.user && this.props.user.loggedIn) {\r\n                    resolve(this.props.user);\r\n                } else {\r\n                    this.props.getActiveUser().then((user) => {\r\n                        resolve(user);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        render() {\r\n            console.log('withAuth', protectedModule);\r\n            const { redirect, loading, hasAccessRight } = this.state;\r\n            const props = this.props;\r\n\r\n            if (props.location.pathname === (props.match.path + '/login')) {\r\n                return (\r\n                    <ThemeProvider theme={theme}>\r\n            <Login />\r\n          </ThemeProvider>\r\n                );\r\n            }\r\n\r\n            if (loading) {\r\n                return <LinearProgress />;\r\n            }\r\n\r\n            if (!hasAccessRight) {\r\n                console.log('has no access right', props.user.rights);\r\n                props.history.goBack();\r\n            }\r\n\r\n            if (!props.user.loggedIn && redirect) {\r\n                window.localStorage.setItem('lastVisitedPath', this.props.location.pathname);\r\n                console.log('redirecting', props.match.path + \"/login\");\r\n                return <Redirect to={'/admin/login'} />;\r\n            }\r\n\r\n            return (\r\n                <React.Fragment>\r\n          <ComponentToProtect {...this.props} />\r\n        </React.Fragment>\r\n            );\r\n        }\r\n    }\r\n\r\n    const mapStateToProps = state => {\r\n        return {\r\n            user: state.Admin.user\r\n        }\r\n    }\r\n\r\n    const mapDispatchToProps = dispatch => {\r\n        return {\r\n            getActiveUser: () => {\r\n                dispatch({ type: SIGN_IN_REQ });\r\n                return fetch('/user/active').then((res) => res.json()).then((json) => {\r\n                    dispatch({\r\n                        type: SIGN_IN_RES,\r\n                        payload: json.user\r\n                    });\r\n                    return json.user;\r\n                }).catch((err) => {\r\n                    // end request\r\n                    dispatch({\r\n                        type: SIGN_IN_RES,\r\n                        payload: {}\r\n                    });\r\n\r\n                    // error\r\n                    console.error(err);\r\n                    dispatch({\r\n                        type: ALERT,\r\n                        payload: {\r\n                            type: 'error',\r\n                            text: 'Connection with server failed...'\r\n                        }\r\n                    });\r\n                    return {}\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(ProtectedComponent)\r\n}","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nimport Alert from './components/Alert';\r\nimport Layout from './Layout';\r\nimport withAuth from './withAuth';\r\nimport theme from './theme';\r\n\r\nclass Admin extends React.Component{\r\n\trender(){\r\n\t\tconst props=this.props;\r\n\r\n    \treturn(\r\n    \t\t<ThemeProvider theme={theme}>\r\n    \t\t\t<Alert />\r\n\t    \t\t<Layout {...props} >\r\n\t\t\t\t\t<Routes routes={props.routes} match={props.match} />\r\n\t\t\t\t</Layout>\r\n\t\t\t</ThemeProvider>\r\n    \t);\r\n\t}\r\n}\r\n\r\nconst Routes=({routes, match})=>{\r\n\treturn  routes.map((route,index) => {\r\n\t\treturn(\r\n        \t<Route exact={route.path === match.path + '/'} path={route.path} key={route.path} component={withAuth(route.component, route.title)} title={route.title} />\r\n        );\r\n    });\r\n}\r\n \r\nexport default withAuth(Admin);","import {\r\n\tDashboardOutlined as DashboardIcon,\r\n\tVerifiedUserOutlined as EmployeeIcon,\r\n\tExtensionOutlined as ExtensionIcon,\r\n\tLocalOfferOutlined as ProductIcon,\r\n\tDescriptionOutlined as ArticleIcon\r\n} from '@material-ui/icons';\r\n\r\nimport Dashboard, {reducer as dashboardReducer} from './Dashboard';\r\nimport Category, {reducer as categoryReducer} from './Category';\r\nimport Article, {reducer as ArticleReducer} from './Article';\r\n\r\nimport Admin from './Admin';\r\nimport {defineModule} from '../functions';\r\n\r\nexport const SIGN_IN_REQ='Admin/SignInReq';\r\nexport const SIGN_IN_RES='Admin/SignInRes';\r\nexport const SET_TITLE='Admin/SetTitle';\r\nexport const LOG_OUT='Admin/LogOut';\r\nexport const ALERT='Admin/Alert';\r\nexport const ALERT_CLOSE='Admin/AlertClose';\r\n\r\nconst route='/admin';\r\n\r\nconst defaultState={\r\n\ttitle:'Dashboard',\r\n\tmenuItems:[{\r\n\t\ttext:'Dashboard',\r\n\t\taccessRightTitle:'Dashboard',\r\n\t\tlink:route,\r\n\t\ticon:DashboardIcon\r\n\t},{\r\n\t\ttext:'Authors',\r\n\t\taccessRightTitle:'Employees',\r\n\t\tlink:route+'/authors',\r\n\t\ticon:EmployeeIcon\r\n\t},{\r\n\t\ttext:'Articles',\r\n\t\taccessRightTitle:'Articles',\r\n\t\tlink:route+'/articles',\r\n\t\ticon:ArticleIcon\r\n\t},{\r\n\t\ttext:'Categories',\r\n\t\taccessRightTitle:'Categories',\r\n\t\tlink:route+'/categories',\r\n\t\ticon:ExtensionIcon\r\n\t}]\r\n};\r\n\r\nconst defaultUserState={\r\n\tloggedIn:false, \r\n\tauthenticating:false,\r\n\tloginAttempted:false\r\n}\r\nconst userReducer=(state=defaultUserState,action)=>{\r\n\tswitch(action.type){\r\n\t\tcase SIGN_IN_REQ:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tauthenticating:true\r\n\t\t\t}\r\n\t\tcase SIGN_IN_RES:\r\n\t\t\tvar p=action.payload;\r\n\t\t\tif(p && p.username){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t\tloggedIn:true,\r\n\t\t\t\t\tauthenticating:false\r\n\t\t\t\t};\r\n\t\t\t}else{\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t\tloginFailed:true,\r\n\t\t\t\t\tauthenticating:false,\r\n\t\t\t\t\tloggedIn:false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase LOG_OUT:\r\n\t\t\treturn defaultState\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nconst defaultAlertState={\r\n\ttype:'',\r\n\ttext: 'asd',\r\n\topen:true\r\n}\r\nconst alertReducer=(state=defaultAlertState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase ALERT:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\topen: true\r\n\t\t\t}\r\n\t\tcase ALERT_CLOSE:\r\n\t\t\treturn{\r\n\t\t\t\topen:false,\r\n\t\t\t\ttype:''\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\treturn {\r\n\t\t...defaultState,\r\n\t\tDashboard:dashboardReducer(state.Dashboard, action),\r\n\t\tCategory:categoryReducer(state.Category, action),\r\n\t\tArticle: ArticleReducer(state.Article, action),\r\n\t\tuser:userReducer(state.user,action),\r\n\t\talert:alertReducer(state.alert, action),\r\n\t\ttitle:((s,a)=>{\r\n\t\t\tif(a.type===SET_TITLE){\r\n\t\t\t\treturn a.payload;\r\n\t\t\t}else{\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t})(state.title, action)\r\n\t}\r\n}\r\n\r\nexport const children={\r\n\tDashboard,\r\n\tCategory,\r\n\tArticle\r\n}\r\n\r\nexport default defineModule('Admin',route, Admin, reducer, children);","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='m-4'>\r\n\t\t\t\tMain PAge\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Article;\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/get').then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\t\t\t\treturn [];\r\n\t\t\t}).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/article/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default ListContainer;","import Router from './Router';\nimport {defineModule} from '../functions';\n\nconst actionPrefix='Article/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\tshouldLoadItems:true,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\tshouldLoadItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Article','/article', Router, reducer);","import Admin from './Admin';\r\nimport Article from './Article'; // 31.03.2020\r\n\r\nexport default {\r\n\tAdmin,\r\n\tArticle\r\n}","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport Main from './Main';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={Main} />\n\t\t\t<Route exact path={props.match.path+'/:slug'} component={Main} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import {createStore,applyMiddleware,combineReducers} from 'redux';\r\nimport {createLogger} from 'redux-logger';\r\nimport modules from './modules';\r\nimport {flatModules} from './modules/functions';\r\n\r\nconst createAppStore = (reducer) => {\r\n  let middleware = [];\r\n  if (process.env.NODE_ENV === 'development') {\r\n    const logger=createLogger();\r\n    middleware = [...middleware, logger];\r\n  } else {\r\n    middleware = [...middleware];\r\n  }\r\n  //middleware.push(thunk)\r\n  const store = createStore(\r\n    reducer,\r\n    applyMiddleware(...middleware)\r\n  );\r\n  return store\r\n}\r\n\r\nexport const combineModuleReducers = modules => {\r\n  const reducers = {}\r\n  const flat = flatModules(modules)\r\n  for (let i = 0; i < flat.length; i++) {\r\n    const red = flat[i].reducer\r\n    if (typeof(red) !== 'function') {\r\n      throw new Error('Module ' + i + ' does not define reducer!')\r\n    }\r\n\r\n    reducers[flat[i].MODULE] = red\r\n\r\n    // if(typeof(flat[i].children) === 'object'){\r\n    //   for(let j in flat[i].children){\r\n    //     if(typeof(flat[i].children[j].reducer) !== 'function'){\r\n    //       throw new Error('Module ' + j + ' does not define reducer!')\r\n    //     }\r\n\r\n    //     reducers[j] = flat[i].children[j].reducer\r\n    //   }\r\n    // }\r\n  }\r\n  return reducers\r\n}\r\n\r\nexport default createAppStore(combineReducers(combineModuleReducers(modules)));","import modules from './modules';\r\nimport {flatModules} from './modules/functions'; \r\nimport store from './store';\r\nimport App from './core/components/App';\r\nimport Home from './core/components/Home';\r\n\r\nconst getRoutes = (modules, store, App, Home, title = 'Главная') => flatModules(modules).map(x => {\r\n  console.log('x',x);\r\n  if (!x.component) {\r\n    throw new Error('Component for module ' + x + ' is not defined')\r\n  }\r\n\r\n  const route = {\r\n    path: x.path,\r\n    title: x.title,\r\n    component: x.component,\r\n    onEnter: x.onEnter\r\n      ? routeParams => {\r\n        x.onEnter(routeParams, store.dispatch)\r\n      }\r\n      : null\r\n  }\r\n\r\n  if(x.children){\r\n    // if(!x.children.Index || !typeof(x.children.Index.component)){\r\n    //   throw new Error('Component for index route of \"' + x.title + '\" is not defined')\r\n    // }\r\n\r\n    // route.indexRoute = {\r\n    //   component: x.children.Index.component\r\n    // }\r\n\r\n    route.routes = Object.keys(x.children).map(y => {\r\n      const cm = x.children[y]\r\n      if (!cm.component) {\r\n        throw new Error('Component for module ' + x + '/' + y + ' is not defined')\r\n      }\r\n\r\n      return {\r\n        path: x.path + cm.path,\r\n        title: cm.title,\r\n        component: cm.component,\r\n        onEnter: cm.onEnter\r\n          ? routeParams => {\r\n            cm.onEnter(routeParams, store.dispatch)\r\n          }\r\n          : null\r\n      }\r\n    });\r\n  }\r\n  return route;\r\n});\r\n\r\nexport default getRoutes(modules, store, App, Home);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  console.log('env',process.env.NODE_ENV);\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {AppContainer} from 'react-hot-loader';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nimport Root from './core/containers/Root';\nimport history from './core/history';\nimport store from './store';\nimport routes from './routes';\n\nimport * as serviceWorker from './serviceWorker';\n\n//console.log('routes',routes);\n//console.log('store',store);\n\nReactDOM.render(\n\t<AppContainer>\n\t\t<Root\n\t\t\tstore={store}\n\t\t\thistory={history}\n\t\t\troutes={routes} />\n\t</AppContainer>,\n\tdocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}