{"version":3,"sources":["modules/Admin/components/Title.js","core/components/Home.js","core/components/App.js","core/containers/Root.js","core/history.js","modules/Admin/components/Selectmenu.js","modules/Admin/Article/components/Paragraphs.js","modules/functions.js","modules/Admin/withTitle.js","modules/Admin/Category/List.js","modules/Admin/Category/Form.js","modules/Admin/Category/index.js","modules/Admin/Category/Router.js","modules/Admin/Author/List.js","modules/Admin/Author/Form.js","modules/Admin/Author/index.js","modules/Admin/Author/Router.js","modules/Admin/Article/Form.js","modules/Admin/Article/index.js","modules/Admin/Article/Router.js","modules/Admin/Article/List.js","modules/Admin/Dashboard/Dashboard.js","modules/Admin/Dashboard/index.js","modules/Admin/components/Alert.js","modules/Admin/Layout.js","modules/Admin/Login.js","modules/Admin/theme/palette.js","modules/Admin/theme/typography.js","modules/Admin/theme/overrides/index.js","modules/Admin/theme/overrides/MuiButton.js","modules/Admin/theme/overrides/MuiIconButton.js","modules/Admin/theme/overrides/MuiPaper.js","modules/Admin/theme/overrides/MuiTableCell.js","modules/Admin/theme/overrides/MuiTableHead.js","modules/Admin/theme/overrides/MuiTypography.js","modules/Admin/theme/index.js","modules/Admin/withAuth.js","modules/Admin/Admin.js","modules/Admin/index.js","modules/Article/components/Image.js","modules/Article/components/ArticleItem.js","modules/Article/main/ArticlesList.js","modules/Article/main/Main.js","modules/Article/components/AuthorV1.js","modules/Article/article-single/Article.js","modules/Article/components/BackButton.js","modules/Article/article-single/ArticleSingle.js","modules/Article/index.js","modules/index.js","modules/Article/Router.js","store.js","routes.js","serviceWorker.js","index.js"],"names":["Home","props","to","App","routes","map","route","index","length","path","key","render","component","title","exact","Root","store","history","createBrowserHistory","listen","location","console","log","useStyles","makeStyles","theme","select","width","SelectMenu","options","value","className","changeHandler","v","multiple","itemType","label","React","useState","option","setOption","classes","inputLabel","useRef","labelWidth","setLabelWidth","useEffect","current","offsetWidth","menuItems","i","MenuItem","_id","Checkbox","checked","indexOf","ListItemText","primary","name","th","FormControl","variant","margin","InputLabel","ref","id","Select","labelId","onChange","event","target","input","header","marginBottom","spacing","addButton","marginTop","Paragraph","defaultValue","handler","TextField","multiline","rows","Paragraphs","items","e","result","content","Typography","p","Box","textAlign","Fab","color","aria-label","size","defineModule","reducer","state","children","onEnter","flatModules","modules","Object","keys","x","res","Array","isArray","forEach","y","MODULE","reduce","c","n","concat","fileUpload","file","filename","Promise","resolve","reject","message","data","FormData","append","fetch","method","body","headers","then","ok","json","catch","err","error","withTitle","Component","connect","dispatch","setTitle","type","SET_TITLE","payload","TableList","lazy","List","this","loadItems","match","onDelete","loadingItems","showDeleteDialog","deleteDialogOpen","deleteId","fallback","columnNames","item","columns","text","addItemText","searchBoxPlaceholder","s","Admin","Category","LOAD_ITEMS_REQ","LOAD_ITEMS_RES","b","JSON","stringify","DELETE_RES","container","paddingTop","paddingBottom","paper","padding","display","overflow","flexDirection","textField","themesSelect","button","float","FormCard","update","themes","action","saving","redirect","setRedirect","Container","maxWidth","Grid","xs","Button","Paper","onSubmit","elements","params","itemId","preventDefault","sm","required","disabled","CircularProgress","Form","loadItem","setState","loadingItem","LinearProgress","ListContainer","LOAD_ITEM_REQ","LOAD_ITEM_RES","SAVE_REQ","SAVE_RES","actionPrefix","defaultState","r","push","filter","url","image","Author","firstname","setFirstname","lastname","setLastname","description","setDescription","setImage","style","files","Image","src","get","uploadResponse","categories","authors","category","setCategory","author","constructor","setAuthor","subtitle","setSubtitle","paragraphs","setParagraphs","Selectmenu","selectCategory","val","loadCategories","loadAuthors","Article","a","LOAD_CATEGORIES_REQ","LOAD_CATEGORIES_RES","LOAD_AUTHORS_REQ","LOAD_AUTHORS_RES","shouldLoadItems","loading","join","ALERT","clsx","fixedHeight","Fragment","collapse","position","top","right","zIndex","CustomAlertContainer","alert","close","ALERT_CLOSE","open","setTimeout","Collapse","in","Alert","severity","onClose","toString","Copyright","align","Date","getFullYear","root","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","mixins","appBar","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","height","MainListItems","accessRights","menuItem","accessRightTitle","Icon","icon","ListItem","ListItemIcon","link","LayoutContainer","rights","user","logOut","LOG_OUT","setOpen","CssBaseline","AppBar","Toolbar","IconButton","edge","onClick","noWrap","Badge","badgeContent","goBack","Drawer","Divider","Link","href","backgroundColor","palette","common","white","avatar","secondary","main","form","submit","Login","submitHandler","signIn","email","password","loggedIn","redirectUrl","window","localStorage","getItem","failed","loginAttempted","authenticating","mt","LoginForm","Avatar","fullWidth","autoComplete","autoFocus","FormControlLabel","control","LoginContainer","username","SIGN_IN_REQ","SIGN_IN_RES","black","contrastText","dark","colors","indigo","light","blue","success","green","info","warning","orange","red","blueGrey","background","default","divider","grey","h1","fontWeight","fontSize","letterSpacing","lineHeight","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","overline","textTransform","MuiButton","contained","boxShadow","MuiIconButton","MuiPaper","elevation1","MuiTableCell","typography","borderBottom","MuiTableHead","MuiTypography","gutterBottom","createMuiTheme","overrides","withAuth","ComponentToProtect","protectedModule","ProtectedComponent","getUser","getActiveUser","hasAccessRight","pathname","ThemeProvider","setItem","mapStateToProps","mapDispatchToProps","Layout","Routes","DashboardIcon","EmployeeIcon","ArticleIcon","ExtensionIcon","defaultUserState","userReducer","loginFailed","defaultAlertState","alertReducer","Dashboard","dashboardReducer","categoryReducer","articleReducer","authorReducer","backgroundImage","popoverOpen","setPopoverOpen","slug","Popover","placement","isOpen","toggle","trigger","PopoverBody","Subtitle","ArticleItem","article","itemsToDisplay","MainPage","ArticlesList","MainPageContainer","AuthorV1","parts","Content","ArticleContainer","articleSlug","BackButton","Main","ArticleSingle","createAppStore","middleware","createStore","applyMiddleware","combineReducers","reducers","flat","Error","combineModuleReducers","getRoutes","routeParams","cm","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","document","getElementById","process","URL","origin","addEventListener","response","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.3670bf5b.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\n\nexport default function Title(props) {\n  return (\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n      {props.children}\n    </Typography>\n  );\n}\n\nTitle.propTypes = {\n  children: PropTypes.node,\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst Home=(props)=>(\r\n\t<Redirect to={'/article'} />\r\n);\r\n\r\nHome.propTypes={\r\n\ttitle:PropTypes.string.isRequired\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\nimport Home from './Home';\r\n\r\nconst App=(props)=>{\r\n\tconst routes=props.routes.map((route,index) => {\r\n\t\tif(route.routes && route.routes.length){\r\n\t\t\treturn(\r\n\t\t\t\t<Route path={route.path} key={route.path} render={(props)=>{\r\n\t\t\t\t\treturn(\t\r\n\t\t\t\t\t\t<route.component {...props} title={route.title} routes={route.routes} />\r\n\t\t\t\t\t);\r\n\t\t\t\t}} />\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t        \t<Route path={route.path} key={route.path} component={route.component} />\r\n\t        );\r\n\t\t}\r\n    });\r\n\r\n\treturn(\r\n\t\t<Switch>\r\n\t\t\t<Route exact path={'/'} component={Home} />\r\n\t\t\t{routes}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n\r\nApp.propTypes={\r\n\troutes:PropTypes.array\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Provider} from 'react-redux';\r\nimport {Router, Route} from 'react-router-dom';\r\n\r\nimport App from '../components/App';\r\n\r\nconst Root=(props)=>{\r\n\treturn(\r\n\t\t<Provider store={props.store}>\r\n\t\t\t<Router history={props.history}>\r\n\t\t\t\t<App {...props} />\r\n\t\t\t</Router>\r\n\t\t</Provider>\r\n\t);\r\n}\r\n\r\nRoot.propTypes={\r\n\thistory:PropTypes.object.isRequired,\r\n\troutes:PropTypes.array.isRequired,\r\n\tstore:PropTypes.object.isRequired\r\n}\r\n\r\nexport default Root;","import {createBrowserHistory} from 'history';\n\nconst history=createBrowserHistory();\n\nhistory.listen((location)=>{\n\tconsole.log('history is listening: '+location);\n\t// do some stuff\n});\n\nexport default history;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n\tselect:{\r\n\t\twidth: '100%'\r\n\t}\r\n}));\r\n\r\nconst SelectMenu=({\r\n\toptions = [], \r\n\tvalue,\r\n\tclassName, \r\n\tchangeHandler = (v)=>{},\r\n\tmultiple = false, // Boolean: whether multiple or not\r\n\titemType = 'simple', // String: represents view type of option items. Values: 'simple' || 'checkbox'\r\n\tlabel = ''\r\n})=>{\r\n\tconst [option, setOption] = React.useState(value ? value : (multiple ? [] : ''));\r\n\tconst classes = useStyles();\r\n\tconst inputLabel = React.useRef(null);\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t    setLabelWidth(inputLabel.current.offsetWidth);\r\n\t}, []);\r\n\r\n\tconst ITEM_HEIGHT = 48;\r\n\tconst ITEM_PADDING_TOP = 8;\r\n\tconst MenuProps = {\r\n\t  PaperProps: {\r\n\t    style: {\r\n\t      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n\t      width: 250,\r\n\t    },\r\n\t  },\r\n\t};\r\n\r\n\tconst handleChange = event => {\r\n\t\tconsole.log('changed', event.target.value);\r\n\t   \tsetOption(event.target.value);\r\n\t   \tchangeHandler(event.target.value);\r\n\t};\r\n\r\n\t// preparing menu items\r\n\tlet menuItems = '';\r\n\tif(itemType === 'checkbox'){\r\n\t\tmenuItems = options.map((option, i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={option._id}>\r\n\t\t\t\t  \t<Checkbox checked={option.indexOf(option._id) > -1} />\r\n\t\t\t\t  \t<ListItemText primary={option.name} />\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t})\r\n\t}\r\n\tif(itemType === 'simple'){\r\n\t\tmenuItems = options.map((th,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={th._id}>{th.name}</MenuItem>\r\n\t\t\t)\r\n\t\t});\r\n\t}\r\n\r\n\treturn(\r\n    \t<FormControl variant=\"outlined\" margin=\"normal\" className={classes.select + ' ' + className}>\r\n    \t    <InputLabel ref={inputLabel} id={\"demo-simple-select-outlined-label\"}>\r\n    \t        {label}\r\n    \t    </InputLabel>\r\n    \t    <Select\r\n\t          \tlabelId=\"demo-simple-select-outlined-label\"\r\n\t          \tid=\"demo-simple-select-outlined\"\r\n\t          \tname={'category'}\r\n\t          \tvalue={option}\r\n\t          \tonChange={handleChange}\r\n\t          \tlabelWidth={labelWidth}\r\n\t          \tmultiple={multiple}\r\n    \t    >\r\n    \t        {menuItems}\r\n    \t    </Select>\r\n    \t</FormControl>\r\n\t)\r\n}\r\n\r\nconst Options = ({items, value, itemType})=>{\r\n\tif(itemType === 'checkbox'){\r\n\t\treturn items.map((option, i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={option._id}>\r\n\t\t\t\t  \t<Checkbox checked={value.indexOf(option._id) > -1} />\r\n\t\t\t\t  \t<ListItemText primary={option.name} />\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t})\r\n\t}\r\n\r\n\tif(itemType === 'simple'){\r\n\t\treturn items.map((th,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={th._id}>{th.name}</MenuItem>\r\n\t\t\t)\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default SelectMenu;","import React, {Fragment} from 'react';\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tFormControl\r\n} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst useStyles = makeStyles(theme=>({\r\n\tinput:{\r\n\t\twidth: '100%'\r\n\t},\r\n\theader:{\r\n\t\tmarginBottom: theme.spacing(3)\r\n\t},\r\n\taddButton:{\r\n\t\tmarginTop: theme.spacing(2)\r\n\t}\r\n}));\r\n\r\nconst Paragraphs = ({items, changeHandler})=>{\r\n\tconst classes = useStyles();\r\n\tconst handler = (e)=>{\r\n\t\tlet result = [{\r\n\t\t\tcontent: e.target.value\r\n\t\t}];\r\n\t\tchangeHandler(result);\r\n\t}\r\n\treturn(\r\n\t\t<Fragment>\r\n\t\t\t<Typography component='h2' variant='h4' className={classes.header}>Main content</Typography>\r\n\t\t\t{items.map((p, i)=>(<Paragraph handler={handler} defaultValue={p.content}/>))}\r\n\t\t\t<Box textAlign='center'>\r\n\t\t\t\t<Fab variant='extended' color='primary' aria-label='add' size='small' className={classes.addButton}>\r\n\t\t\t\t\t<AddIcon /> \r\n\t\t\t\t\tmore paragraph \r\n\t\t\t\t</Fab>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nconst Paragraph = ({defaultValue='', handler})=>{\r\n\tconst classes = useStyles();\r\n\treturn(\r\n\t\t<TextField\r\n    \t\tvariant=\"outlined\"\r\n          \tid=\"outlined-multiline-static\"\r\n          \tmultiline\r\n          \trows=\"8\"\r\n          \tdefaultValue={defaultValue}\r\n          \tclassName={classes.input}\r\n          \tonChange={handler}\r\n        />\r\n\t);\r\n}\r\n\r\nexport default Paragraphs;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nexport const defineModule=(\r\n\ttitle,\r\n\tpath,\r\n\tcomponent,\r\n\treducer=(state={})=>state,\r\n\tchildren=null,\r\n\tonEnter=null,\r\n)=>{\r\n\treturn {title,path,component,reducer,onEnter,children}\r\n}\r\n\r\nexport const flatModules = modules => Object.keys(modules).map(x => {\r\n    const res = Array.isArray(modules[x]) ? modules[x] : [modules[x]];\r\n    res.forEach(y => y.MODULE = x)\r\n    return res\r\n}).reduce((c,n) => c.concat(n));\r\n\r\n// export const alertError = (options)=>{\r\n// \tReactDOM.createPortal(\r\n// \t\t<Alert severity=\"error\">This is an error alert — check it out!</Alert>,\r\n// \t\tdocument.getElementById('alert-error'));\r\n// }\r\n\r\n// function for uploading files to my PHP Cloud (cloud.javelin.uz). It is being used because of that Heroku Apps are not able to handle file uploading\r\nexport const fileUpload = (file, filename)=>{\r\n\tconsole.log('uploading', filename)\r\n\treturn new Promise((resolve, reject)=>{\r\n\t\tif(!filename){\r\n\t\t\treturn resolve({\r\n\t\t\t\tresult: 'success',\r\n\t\t\t\tmessage: 'no need for uploading to cloud'\r\n\t\t\t})\r\n\t\t}\r\n\t\tconst app = 'medium';\r\n\t\tconst url = \"https:/\\/cloud.javelin.uz/file-upload.php\";\r\n\r\n\t\tlet data = new FormData();\r\n\t\tdata.append('app', app);\r\n\t\tdata.append('filename', filename);\r\n\t\tdata.append('file', file);\r\n\r\n\t\tfetch(url, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: data,\r\n\t\t\theaders:{\r\n\t\t\t\t'Accept': 'application/json'\r\n\t\t\t}\r\n\t\t}).then((res)=>{\r\n\t\t\tif(res.ok){\r\n\t\t\t\tresolve(res.json());\r\n\t\t\t}\r\n\t\t\tresolve({\r\n\t\t\t\tresult: 'error',\r\n\t\t\t\tmessage: 'request to cloud failed'\r\n\t\t\t})\r\n\t\t}).catch((err)=>{\r\n\t\t\tconsole.error('Error on file uploading: ', err);\r\n\t\t\tresolve({\r\n\t\t\t\tresult: 'error',\r\n\t\t\t\tmessage: 'Error on file uploading: ' + err\r\n\t\t\t});\r\n\t\t});\r\n\t});\t\r\n}\r\n\r\n// Returns if a value is an object\r\nexport const isObject = (value) => {\r\n\treturn value && typeof value === 'object' && value.constructor === Object;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {SET_TITLE} from './index';\r\n\r\nconst withTitle=(Component)=>(title)=>{\r\n\t//console.log('with title', Component);\r\n\tconst ComponentWithTitle=(props)=>{\r\n\t\tprops.setTitle(title);\r\n\r\n\t\treturn(\r\n\t\t\t<Component />\r\n\t\t);\r\n\t}\r\n\r\n\tconst mapDispatchToProps=dispatch=>({\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\treturn connect(null, mapDispatchToProps)(ComponentWithTitle);\r\n}\r\n\r\nexport default withTitle;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems}=this.props;\r\n\t\tif(!(items && items.length)){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Category List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tcolumnNames={['Name']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id:item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttext: item.name\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/categories'}\r\n\t\t\t\t\theader={header}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Category'}\r\n\t\t\t\t\tsearchBoxPlaceholder={'search category'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Category\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/category/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Categories');","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Route, Link, Redirect} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport {\n\tButton,\n\tLinearProgress,\n\tCircularProgress\n} from '@material-ui/core';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\n\nimport Title from '../components/Title';\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES, SAVE_REQ, SAVE_RES} from './index';\nimport {SET_TITLE} from '../index';\n\nconst useStyles = makeStyles(theme => ({\n  \tcontainer: {\n    \tpaddingTop: theme.spacing(4),\n    \tpaddingBottom: theme.spacing(4),\n  \t},\n  \tpaper: {\n\t    padding: theme.spacing(2),\n\t    display: 'flex',\n\t    overflow: 'auto',\n\t    flexDirection: 'column',\n  \t},\n  \ttextField: {\n      \twidth: '100%'\n    },\n    themesSelect:{\n    \twidth:'100%'\n    },\n    button:{\n    \tfloat:'right'\n    }\n}));\n\nexport function FormCard({item, match, themes, update, action, saving}) {\n  \tconst classes = useStyles();\n  \tconst [redirect, setRedirect]=React.useState('');\n\n  \tconst submitHandler=e=>{\n  \t\tvar inputs=e.target.elements;\n  \t\tvar data={\n  \t\t\tname:inputs.name.value\n  \t\t}\n  \t\tif(action==='edit'){\n  \t\t\tdata.id=match.params.itemId;\t\n  \t\t}\n\n  \t\tupdate(data).then((json)=>{\n  \t\t\tif(json.result==='success'){\n  \t\t\t\tsetRedirect('/admin/categories');\n  \t\t\t}\n  \t\t});\n  \t\t\n  \t\te.preventDefault();\n  \t}\n\n  \tif(redirect){\n  \t\tconsole.log('redirecting',redirect);\n  \t\treturn(\n  \t\t\t<Redirect to={redirect} />\n  \t\t);\n  \t}\n\n  \treturn (\n\t    <Container maxWidth=\"lg\" className={classes.container}>\n\t      \t<Grid container spacing={3}>\n\t      \t\t<Grid item xs={6}>\n\t      \t\t\t<Link to={'/admin/categories'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\n\t      \t\t</Grid>\n\t        \t<Grid item xs={12}>\n\t          \t\t<Paper className={classes.paper}>\n\t\t\t\t\t    <form onSubmit={submitHandler}>\n\t\t\t\t\t    \t<Grid container spacing={3} >\n\t\t\t\t\t\t    \t<Grid item sm={12}>\n\t\t\t\t\t\t\t    \t<TextField\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\n\t\t\t\t\t    \t          \tclassName={classes.textField}\n\t\t\t\t\t    \t          \tlabel={\"Category name\"}\n\t\t\t\t\t    \t         \tmargin=\"normal\"\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\n\t\t\t\t\t    \t          \tname='name'\n\t\t\t\t\t    \t          \tdefaultValue={item.name}\n\t\t\t\t\t    \t          \trequired\n\t\t\t\t\t    \t        />\n\t\t\t\t\t    \t    </Grid>\n\t    \t            \t    <Grid item sm={12}>\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\n\t\t    \t            \t    </Button>\n\t\t    \t            \t</Grid>\n\t    \t            \t</Grid>\n\t\t\t\t    \t</form>\n\t           \t\t</Paper>\n\t         \t</Grid>\n\t       \t</Grid>\n\t    </Container>\n  \t);\n}\n\nclass Form extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\taction:''\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tconst {loadItem, match, setTitle}=this.props;\n\t\tif(match.params.itemId){\n\t\t\tthis.setState({action:'edit'});\n\t\t\tsetTitle('Edit category');\n\t\t\tloadItem(match.params.itemId);\n\t\t}else{\n\t\t\tthis.setState({action:'add'});\n\t\t\tsetTitle('Add category');\n\t\t}\n\t\t\n\t}\n\trender(){\n\t\tconsole.log('Edit Request',this.props);\n\t\tconst {match, item, themes, update, loadingItem, saving}=this.props;\n\t\tconst {action}=this.state;\n\t\tif(!loadingItem){\n\t\t\treturn(\n\t\t\t\t<FormCard action={action} item={action=='edit'?item:{}} match={match} themes={themes} update={update} saving={saving}/>\n\t\t\t);\n\t\t}else{\n\t\t\treturn(\n\t\t\t\t<LinearProgress />\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps=(state)=>{\n\tconst s=state.Admin.Category\n\treturn {\n\t\titems:s.items,\n\t\titem:s.item,\n\t\tloadingItem:s.loadingItem,\n\t\tsaving:s.saving\n\t}\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n\treturn {\n\t\tloadItem:(itemId)=>{\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\n\t\t\treturn fetch('/api/category/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:LOAD_ITEM_RES,\n\t\t\t\t\tpayload:{\n\t\t\t\t\t\titem:json\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetTitle:(title)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SET_TITLE,\n\t\t\t\tpayload:title\n\t\t\t});\n\t\t},\n\t\tupdate:(data)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SAVE_REQ\n\t\t\t});\n\t\t\treturn fetch('/api/category/store',{\n\t\t\t\tmethod:'POST',\n\t\t\t\tbody:JSON.stringify(data),\n\t\t\t\theaders: {\n\t\t\t        'Accept': 'application/json',\n\t\t\t        'Content-Type': 'application/json'\n\t\t\t    }\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:SAVE_RES,\n\t\t\t\t\tpayload:{\n\t\t\t\t\t\titem:json.data,\n\t\t\t\t\t\tresult:json.result\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn json;\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst ListContainer=connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Form);\n\nexport default ListContainer;","import Router from './Router';\nimport {defineModule} from '../../functions';\n\nconst actionPrefix='Admin/Category/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Categories','/categories', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={List} />\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems}=this.props;\r\n\t\tif(!(items && items.length)){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Category List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tcolumnNames={['Author', 'Name']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id:item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\t\t\t\turl: item.image.url,\r\n\t\t\t\t\t\t\t\twidth: '60px'\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.name\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/authors'}\r\n\t\t\t\t\theader={header}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Author'}\r\n\t\t\t\t\tsearchBoxPlaceholder={'search category'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Author\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/author/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/author/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Authors');","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Route, Link, Redirect} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport {\n\tButton,\n\tLinearProgress,\n\tCircularProgress,\n\tBox\n} from '@material-ui/core';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\n\nimport Title from '../components/Title';\nimport {fileUpload} from '../../functions';\n\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES, SAVE_REQ, SAVE_RES} from './index';\nimport {SET_TITLE} from '../index';\n\nconst useStyles = makeStyles(theme => ({\n  \tcontainer: {\n    \tpaddingTop: theme.spacing(4),\n    \tpaddingBottom: theme.spacing(4),\n  \t},\n  \tpaper: {\n\t    padding: theme.spacing(2),\n\t    display: 'flex',\n\t    overflow: 'auto',\n\t    flexDirection: 'column',\n  \t},\n  \ttextField: {\n      \twidth: '100%'\n    },\n    themesSelect:{\n    \twidth:'100%'\n    },\n    button:{\n    \tfloat:'right'\n    }\n}));\n\nexport function FormCard({item, match, themes, update, action, saving}) {\n  \tconst classes = useStyles();\n  \tconst [redirect, setRedirect]=React.useState('');\n  \tconst [firstname, setFirstname] = React.useState(item.firstname);\n  \tconst [lastname, setLastname] = React.useState(item.lastname);\n  \tconst [description, setDescription] = React.useState(item.description);\n  \tconst [image, setImage] = React.useState(null);\n\n  \tconst submitHandler=e=>{\n  \t\tlet data = new FormData();\n\n  \t\tdata.append('firstname', firstname);\n  \t\tdata.append('lastname', lastname);\n  \t\tdata.append('description', description);\n  \t\tdata.append('image', image);\n\n  \t\tif(action==='edit'){\n  \t\t\tdata.append('id', match.params.itemId);\t\n  \t\t}\n\n  \t\tupdate(data).then((json)=>{\n  \t\t\tif(json.result==='success'){\n  \t\t\t\tsetRedirect('/admin/authors');\n  \t\t\t}\n  \t\t});\n  \t\t\n  \t\te.preventDefault();\n  \t}\n\n  \tif(redirect){\n  \t\tconsole.log('redirecting',redirect);\n  \t\treturn(\n  \t\t\t<Redirect to={redirect} />\n  \t\t);\n  \t}\n\n  \treturn (\n\t    <Container maxWidth=\"lg\" className={classes.container}>\n\t      \t<Grid container spacing={3}>\n\t      \t\t<Grid item xs={6}>\n\t      \t\t\t<Link to={'/admin/authors'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\n\t      \t\t</Grid>\n\t        \t<Grid item xs={12}>\n\t          \t\t<Paper className={classes.paper}>\n\t\t\t\t\t    <form onSubmit={submitHandler}>\n\t\t\t\t\t    \t<Grid container spacing={3} >\n\t\t\t\t\t\t    \t<Grid item sm={6}>\n\t\t\t\t\t\t\t    \t<TextField\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\n\t\t\t\t\t    \t          \tclassName={classes.textField}\n\t\t\t\t\t    \t          \tlabel={\"Firstname\"}\n\t\t\t\t\t    \t         \tmargin=\"normal\"\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\n\t\t\t\t\t    \t          \tname='firstname'\n\t\t\t\t\t    \t          \tdefaultValue={firstname}\n\t\t\t\t\t    \t          \trequired\n\t\t\t\t\t    \t          \tonChange={e=>setFirstname(e.target.value)}\n\t\t\t\t\t    \t        />\n\t\t\t\t\t    \t    </Grid>\n\t\t\t\t\t    \t    <Grid item sm={6}>\n\t\t\t\t\t\t\t    \t<TextField\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\n\t\t\t\t\t    \t          \tclassName={classes.textField}\n\t\t\t\t\t    \t          \tlabel={\"Lastname\"}\n\t\t\t\t\t    \t         \tmargin=\"normal\"\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\n\t\t\t\t\t    \t          \tname='lastname'\n\t\t\t\t\t    \t          \tdefaultValue={lastname}\n\t\t\t\t\t    \t          \trequired\n\t\t\t\t\t    \t          \tonChange={e=>setLastname(e.target.value)}\n\t\t\t\t\t    \t        />\n\t\t\t\t\t    \t    </Grid>\n        \t            \t    <Grid item xs={12}>\n        \t            \t    \t<Image image={item.image} />\n    \t    \t            \t    <Button\n    \t    \t            \t      variant=\"contained\"\n    \t    \t            \t      component=\"label\"\n    \t    \t            \t    >\n    \t    \t            \t      \tUpload image\n    \t    \t            \t      \t<input\n    \t\t    \t            \t        type=\"file\"\n    \t\t    \t            \t        style={{ display: \"none\" }}\n    \t\t    \t            \t        onChange={(e)=>{setImage(e.target.files[0])}}\n    \t    \t            \t      \t/>\n        \t            \t    \t</Button>\n        \t            \t    </Grid>\n\t    \t            \t    <Grid item sm={12}>\n\t    \t            \t    \t<TextField\n\t    \t            \t    \t\tvariant=\"outlined\"\n\t            \t    \t          \tid=\"outlined-multiline-static\"\n\t            \t    \t          \tlabel=\"Description\"\n\t            \t    \t          \tmultiline\n\t            \t    \t          \trows=\"4\"\n\t            \t    \t          \tdefaultValue={description}\n\t            \t    \t          \tclassName={classes.textField}\n\t            \t    \t          \tonChange={(e)=>{setDescription(e.target.value)}}\n\t            \t    \t        />\n\t    \t            \t    </Grid>\n\t    \t            \t    <Grid item sm={12}>\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\n\t\t    \t            \t    </Button>\n\t\t    \t            \t</Grid>\n\t    \t            \t</Grid>\n\t\t\t\t    \t</form>\n\t           \t\t</Paper>\n\t         \t</Grid>\n\t       \t</Grid>\n\t    </Container>\n  \t);\n}\n\nconst Image = ({image})=>{\n\tif(!image){\n\t\treturn '';\n\t}\n\treturn(\n\t\t<Box width={60}>\n\t\t\t<img src={image.url}  />\n\t\t</Box>\n\t)\n}\n\nclass Form extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\taction:''\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tconst {loadItem, match, setTitle}=this.props;\n\t\tif(match.params.itemId){\n\t\t\tthis.setState({action:'edit'});\n\t\t\tsetTitle('Edit category');\n\t\t\tloadItem(match.params.itemId);\n\t\t}else{\n\t\t\tthis.setState({action:'add'});\n\t\t\tsetTitle('Add category');\n\t\t}\n\t\t\n\t}\n\trender(){\n\t\tconsole.log('Edit Request',this.props);\n\t\tconst {match, item, themes, update, loadingItem, saving}=this.props;\n\t\tconst {action}=this.state;\n\t\tif(!loadingItem){\n\t\t\treturn(\n\t\t\t\t<FormCard action={action} item={action=='edit'?item:{}} match={match} themes={themes} update={update} saving={saving}/>\n\t\t\t);\n\t\t}else{\n\t\t\treturn(\n\t\t\t\t<LinearProgress />\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps=(state)=>{\n\tconst s=state.Admin.Author\n\treturn {\n\t\titems:s.items,\n\t\titem:s.item,\n\t\tloadingItem:s.loadingItem,\n\t\tsaving:s.saving\n\t}\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n\treturn {\n\t\tloadItem:(itemId)=>{\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\n\t\t\treturn fetch('/api/author/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:LOAD_ITEM_RES,\n\t\t\t\t\tpayload:{\n\t\t\t\t\t\titem:json\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetTitle:(title)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SET_TITLE,\n\t\t\t\tpayload:title\n\t\t\t});\n\t\t},\n\t\tupdate:(data)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SAVE_REQ\n\t\t\t});\n\t\t\treturn fetch('/api/author/store',{\n\t\t\t\tmethod:'POST',\n\t\t\t\tbody:data\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\treturn fileUpload(data.get('image'), json.filename).then((uploadResponse)=>{\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype:SAVE_RES,\n\t\t\t\t\t\tpayload:{\n\t\t\t\t\t\t\titem:json.data,\n\t\t\t\t\t\t\tresult:json.result\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn json;\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst ListContainer=connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Form);\n\nexport default ListContainer;","import Router from './Router';\nimport {defineModule} from '../../functions';\n\nconst actionPrefix='Admin/Author/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Authors','/authors', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={List} />\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link, Redirect} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {\r\n\tGrid,\r\n\tBox\r\n} from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\tButton,\r\n\tLinearProgress,\r\n\tCircularProgress\r\n} from '@material-ui/core';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport Title from '../components/Title';\r\nimport Selectmenu from '../components/Selectmenu';\r\nimport Paragraphs from './components/Paragraphs';\r\nimport {\r\n\tfileUpload,\r\n\tisObject\r\n} from '../../functions'; \r\n\r\nimport {\r\n\tLOAD_ITEM_REQ, \r\n\tLOAD_ITEM_RES, \r\n\tSAVE_REQ, \r\n\tSAVE_RES\r\n} from './index';\r\nimport {\r\n\tLOAD_ITEMS_REQ as LOAD_CATEGORIES_REQ, \r\n\tLOAD_ITEMS_RES as LOAD_CATEGORIES_RES\r\n} from '../Category';\r\nimport {\r\n\tLOAD_ITEMS_REQ as LOAD_AUTHORS_REQ,\r\n\tLOAD_ITEMS_RES as LOAD_AUTHORS_RES\r\n} from '../Author';\r\nimport {SET_TITLE} from '../index';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \tcontainer: {\r\n    \tpaddingTop: theme.spacing(4),\r\n    \tpaddingBottom: theme.spacing(4),\r\n  \t},\r\n  \tpaper: {\r\n\t    padding: theme.spacing(2),\r\n\t    display: 'flex',\r\n\t    overflow: 'auto',\r\n\t    flexDirection: 'column',\r\n  \t},\r\n  \ttextField: {\r\n      \twidth: '100%'\r\n    },\r\n    button:{\r\n    \tfloat:'right'\r\n    }\r\n}));\r\n\r\nexport function FormCard({item, match, categories = [], authors = [], update, action, saving}) {\r\n  \tconst classes = useStyles();\r\n  \tconst [redirect, setRedirect]=React.useState('');\r\n  \tconst [title, setTitle] = React.useState(item.title);\r\n  \tconst [category, setCategory] = React.useState(item.category || []);\r\n  \tconst [author, setAuthor] = React.useState(item.author ? (isObject(item.author) ? item.author._id : item.author) : '');\r\n  \tconst [subtitle, setSubtitle] = React.useState(item.subtitle || '');\r\n  \tconst [paragraphs, setParagraphs] = React.useState(item.paragraphs || [{content:''}]);\r\n  \tconst [image, setImage] = React.useState(null);\r\n\r\n  \tconst submitHandler=e=>{\r\n  \t\tvar inputs=e.target.elements;\r\n  \t\tvar data= new FormData();\r\n\r\n  \t\tdata.append('title', title);\r\n  \t\tdata.append('subtitle', subtitle);\r\n  \t\tdata.append('category', JSON.stringify(category));\r\n  \t\tdata.append('author', author);\r\n  \t\tdata.append('paragraphs', JSON.stringify(paragraphs));\r\n  \t\tdata.append('image', image);\r\n\r\n  \t\tif(action==='edit'){\r\n  \t\t\tdata.append('id', match.params.itemId);\t\r\n  \t\t}\r\n\r\n  \t\tupdate(data).then((json)=>{\r\n  \t\t\tif(json.result!=='success'){\r\n  \t\t\t\t// do something if saving was unsuccessful\r\n  \t\t\t}\r\n\t\t\tfileUpload(image, json.filename).then((uploadResponse)=>{\r\n\t\t\t\tif(uploadResponse.result !== 'success'){\r\n\t\t\t\t\t// do something if file uploading was unsuccessful\t\r\n\t\t\t\t}\r\n\t\t\t\tsetRedirect('/admin/articles');\r\n\t\t\t});\r\n  \t\t});\r\n  \t\t\r\n  \t\te.preventDefault();\r\n  \t}\r\n\r\n  \tif(redirect){\r\n  \t\tconsole.log('redirecting',redirect);\r\n  \t\treturn(\r\n  \t\t\t<Redirect to={redirect} />\r\n  \t\t);\r\n  \t}\r\n\r\n  \treturn (\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={'/admin/articles'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t    <form onSubmit={submitHandler}>\r\n\t\t\t\t\t    \t<Grid container spacing={3} >\r\n\t\t\t\t\t\t    \t<Grid item sm={6}>\r\n\t\t\t\t\t\t\t    \t<TextField\r\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\r\n\t\t\t\t\t    \t          \tclassName={classes.textField}\r\n\t\t\t\t\t    \t          \tlabel={\"Title\"}\r\n\t\t\t\t\t    \t         \tmargin=\"normal\"\r\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\r\n\t\t\t\t\t    \t          \tname='title'\r\n\t\t\t\t\t    \t          \tdefaultValue={title}\r\n\t\t\t\t\t    \t          \trequired\r\n\t\t\t\t\t    \t          \tonChange={(e)=>{setTitle(e.target.value)}}\r\n\t\t\t\t\t    \t        />\r\n\t\t\t\t\t    \t    </Grid>\r\n\t\t\t\t\t    \t    <Grid item sm={6}>\r\n\t    \t        \t\t    \t<Selectmenu \r\n\t    \t        \t\t    \t\toptions={categories} \r\n\t    \t        \t\t    \t\tvalue={category.map((c, i)=>(c._id))} \r\n\t    \t        \t\t    \t\tclassName={classes.selectCategory} \r\n\t    \t        \t\t    \t\tmultiple={true}\r\n\t    \t        \t\t    \t\tchangeHandler={(val)=>setCategory(val)}\r\n\t    \t        \t\t    \t\tlabel = {\"Category\"}\r\n\t    \t        \t\t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={6}>\r\n\t    \t        \t\t    \t<Selectmenu \r\n\t    \t        \t\t    \t\toptions={authors} \r\n\t    \t        \t\t    \t\tvalue={author} \r\n\t    \t        \t\t    \t\tclassName={classes.selectCategory}\r\n\t    \t        \t\t    \t\tchangeHandler={setAuthor}\r\n\t    \t        \t\t    \t\tlabel = {\"Author\"}\r\n\t    \t        \t\t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item xs={6}>\r\n\t    \t            \t    \t<Image image={item.image} />\r\n\t\t    \t            \t    <Button\r\n\t\t    \t            \t      variant=\"contained\"\r\n\t\t    \t            \t      component=\"label\"\r\n\t\t    \t            \t    >\r\n\t\t    \t            \t      \tUpload image\r\n\t\t    \t            \t      \t<input\r\n\t\t\t    \t            \t        type=\"file\"\r\n\t\t\t    \t            \t        style={{ display: \"none\" }}\r\n\t\t\t    \t            \t        onChange={(e)=>{setImage(e.target.files[0])}}\r\n\t\t    \t            \t      \t/>\r\n\t    \t            \t    \t</Button>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<TextField\r\n\t    \t            \t    \t\tvariant=\"outlined\"\r\n\t            \t    \t          \tid=\"outlined-multiline-static\"\r\n\t            \t    \t          \tlabel=\"Subtitle\"\r\n\t            \t    \t          \tmultiline\r\n\t            \t    \t          \trows=\"2\"\r\n\t            \t    \t          \tdefaultValue={subtitle}\r\n\t            \t    \t          \tclassName={classes.textField}\r\n\t            \t    \t          \tonChange={(e)=>{setSubtitle(e.target.value)}}\r\n\t            \t    \t        />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<Paragraphs \r\n\t    \t            \t    \t\titems={paragraphs}\r\n\t    \t            \t    \t\tchangeHandler={(val)=>setParagraphs(val)} \r\n\t    \t            \t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\r\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\r\n\t\t    \t            \t    </Button>\r\n\t\t    \t            \t</Grid>\r\n\t    \t            \t</Grid>\r\n\t\t\t\t    \t</form>\r\n\t           \t\t</Paper>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\n\r\nclass Form extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taction:this.props.match.params.itemId ? 'edit' : 'add'\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {loadItem, match, setTitle, loadCategories, categories, loadAuthors, authors}=this.props;\r\n\t\tif(match.params.itemId){\r\n\t\t\tsetTitle('Edit article');\r\n\t\t\tloadItem(match.params.itemId);\r\n\t\t}else{\r\n\t\t\tsetTitle('Add article');\r\n\t\t}\r\n\t\t\r\n\t\tif(!categories.length){\r\n\t\t\tloadCategories();\r\n\t\t}\r\n\r\n\t\tif(!authors.length){\r\n\t\t\tloadAuthors();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Edit item',this.props);\r\n\t\tconst {match, item, update, loadingItem, saving, categories, authors}=this.props;\r\n\t\tconst {action}=this.state;\r\n\t\t\r\n\t\tif(loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<LinearProgress />\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t<FormCard \r\n\t\t\t\taction={action} \r\n\t\t\t\titem={action==='edit'?item:{}} \r\n\t\t\t\tmatch={match} \r\n\t\t\t\tcategories={categories}\r\n\t\t\t\tauthors={authors}\r\n\t\t\t\tupdate={update} \r\n\t\t\t\tsaving={saving}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Image = ({image})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<Box width={300}>\r\n\t\t\t<img src={image.url}  />\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Article;\r\n\tconst c=state.Admin.Category;\r\n\tconst a=state.Admin.Author;\r\n\treturn {\r\n\t\titems:s.items,\r\n\t\titem:s.item,\r\n\t\tloadingItem:s.loadingItem,\r\n\t\tsaving:s.saving,\r\n\t\tcategories:c.items,\r\n\t\tauthors: a.items\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(itemId)=>{\r\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\r\n\t\t\treturn fetch('/api/article/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:(data)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SAVE_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/store',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:data,\r\n\t\t\t\t// headers:{\r\n\t\t\t\t// \t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t// }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SAVE_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json.data,\r\n\t\t\t\t\t\tresult:json.result\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn json;\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadCategories:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_CATEGORIES_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_CATEGORIES_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadAuthors:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOAD_AUTHORS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/author/get').then((res)=>res.ok ? res.json() : []).then((authors)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: LOAD_AUTHORS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems: authors\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Form);\r\n\r\nexport default ListContainer;","import Router from './Router';\nimport {defineModule} from '../../functions';\n\nconst actionPrefix='Admin/Article/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\tshouldLoadItems:true,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\tshouldLoadItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Articles','/articles', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={List} />\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport {ALERT} from '../index'; \r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tloading={loadingItems}\r\n\t\t\t\t\tcolumnNames={['Article', 'Title', 'Category', 'Author']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id: item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttype:'image',\r\n\t\t\t\t\t\t\t\turl: item.image ? item.image.url : ''\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.title\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.category.map((c,i)=>c.name).join(',')\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.author ? item.author.name : 'Blogger'\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/articles'}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Article'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Article;\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/get').then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ALERT,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\ttype:'error',\r\n\t\t\t\t\t\ttext: 'Connection with server failed...'\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn [];\r\n\t\t\t}).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/article/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Articles');","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\nimport {ListContainer as ArticlesList} from '../Article/List';\r\nimport {SET_TITLE} from '../index';\r\nimport withTitle from '../withTitle';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  }\r\n}));\r\n\r\nconst Dashboard = (props)=>{\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  console.log('Dashboard',props);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ArticlesList header={\"Articles\"} />\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Paper className={classes.paper}>\r\n              Some Dashboard Content\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nDashboard.propTypes = {\r\n\r\n}\r\n\r\nexport default Dashboard;","import Dashboard from './Dashboard';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst FIRST_ACTION='Dashboard/FirstAction';\r\n\r\nexport const reducer=(state={name:'DEFAULT'}, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase FIRST_ACTION:\r\n\t\t\treturn {name:'Javlonbek'}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Dashboard', '/', Dashboard, reducer);","import React from 'react';\r\nimport RactDOM from 'react-dom';\r\nimport {connect} from 'react-redux'\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport {Collapse} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nimport {ALERT_CLOSE} from '../index';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n\tcollapse:{\r\n\t\tposition:'absolute',\r\n\t\ttop: '0.8rem',\r\n\t\tright:'0.8rem',\r\n\t\tzIndex:9999\r\n\t}\r\n}))\r\n\r\nconst CustomAlert =({type, text, close, open})=>{\r\n\tconst classes=useStyles();\r\n\tconsole.log('alert rendering', open);\r\n\tif(!type){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tsetTimeout(()=>close(), 5000);\r\n\r\n\treturn(\r\n\t\t<Collapse in={open} className={classes.collapse} >\r\n\t\t\t<Alert severity={type} onClose={()=>close()}>{text.toString()}</Alert>\r\n\t\t</Collapse>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state=>{\r\n\treturn {\r\n\t\t...state.Admin.alert\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n\treturn{\r\n\t\tclose:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:ALERT_CLOSE\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst CustomAlertContainer = connect(mapStateToProps, mapDispatchToProps)(CustomAlert);\r\n\r\nexport default CustomAlertContainer;\r\n\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport {\r\n  Layers as LayersIcon,\r\n  ExitToApp as LogOutIcon\r\n} from '@material-ui/icons';\r\n\r\nimport {LOG_OUT} from './index';\r\n\r\nfunction Copyright() {\r\n  return(\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" to=\"/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport const MainListItems = ({items, accessRights})=>{\r\n  items=items.map((menuItem, i)=>{\r\n    if((accessRights && accessRights.length && accessRights.indexOf(menuItem.accessRightTitle)>=0) || !menuItem.accessRightTitle){\r\n      let Icon=menuItem.icon;\r\n      return(\r\n        <ListItem button key={i} >\r\n          <ListItemIcon>\r\n            <Icon />\r\n          </ListItemIcon>\r\n          <Link to={menuItem.link}>\r\n            <ListItemText primary={menuItem.text} />\r\n          </Link>\r\n        </ListItem>\r\n      );\r\n    }else{\r\n      return\r\n    }\r\n  });\r\n  return(\r\n    <div>\r\n      {items}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AdminLayout(props) {\r\n  console.log('Layout',props);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h4\" color=\"inherit\" noWrap className={classes.title}>\r\n            {props.title}\r\n          </Typography>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={0} color={\"secondary\"}>\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          <IconButton color=\"inherit\" title=\"Log out\" onClick={(e)=>{props.logOut().then(()=>{props.history.goBack()})}}>\r\n              <LogOutIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <MainListItems items={props.menuItems} accessRights={props.rights}/>\r\n        </List>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        {props.children}\r\n        <Copyright />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Dashboard.propTypes={\r\n// \tname:PropTypes.string\r\n// }\r\n\r\nconst mapStateToProps=(state)=>{\r\n\treturn {\r\n    title:state.Admin.title,\r\n    menuItems:state.Admin.menuItems,\r\n    rights:state.Admin.user.rights,\r\n    user:state.Admin.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n    logOut:()=>{\r\n      dispatch({\r\n        type:LOG_OUT\r\n      });\r\n      return fetch('/api/user/logout').then((res)=>{\r\n        console.log('logged out');\r\n        return '';\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nconst LayoutContainer=connect(mapStateToProps, mapDispatchToProps)(AdminLayout);\r\n\r\nexport default LayoutContainer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {CircularProgress} from '@material-ui/core';\r\n\r\nimport Alert from './components/Alert';\r\n\r\nimport {SIGN_IN_REQ, SIGN_IN_RES, ALERT} from './index';\r\nimport {alertError} from '../functions';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nclass Login extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\temail:'',\r\n\t\t\tpassword:''\r\n\t\t}\r\n\t}\r\n\tchangeHandler=(name,value)=>{\r\n\t\tthis.setState({[name]:value});\r\n\t}\r\n\tsubmitHandler=()=>{\r\n\t\tconst {signIn} = this.props;\r\n\t\tsignIn(this.state.email,this.state.password);\r\n\t}\r\n\trender(){\r\n\t\tconst {signIn,user,match}=this.props;\r\n\t\tconst {email,password}=this.state;\r\n\r\n\t\tconsole.log('Login', this.props);\r\n\r\n\t\tif(user && user.loggedIn){\r\n\t\t\tlet redirectUrl=window.localStorage.getItem('lastVisitedPath');\r\n\t\t\treturn(\r\n\t\t\t\t<Redirect to={redirectUrl ? redirectUrl : '/admin'} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t  \t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t    <CssBaseline />\r\n\t\t\t    <LoginForm changeHandler={this.changeHandler} submitHandler={this.submitHandler} failed={user.loginAttempted} authenticating={user.authenticating} />\r\n\t\t\t    <Alert />\r\n\t\t\t    <Box mt={8}>\r\n\t\t\t      \t<Copyright />\r\n\t\t\t    </Box>\r\n\t\t  \t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst LoginForm=({changeHandler,submitHandler, failed, authenticating})=>{\r\n\tconst classes = useStyles();\r\n\treturn(\r\n\t\t<div className={classes.paper}>\r\n\t\t  \t<Avatar className={classes.avatar}>\r\n\t\t    \t<LockOutlinedIcon />\r\n\t\t  \t</Avatar>\r\n\t\t  \t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t    \tSign in\r\n\t\t  \t</Typography>\r\n\t\t  \t<form className={classes.form} onSubmit={(e)=>{e.preventDefault(); submitHandler(); }}>\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tid=\"email\"\r\n\t\t\t      \tlabel=\"Email Address\"\r\n\t\t\t      \tname=\"username\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tautoFocus\r\n\t\t\t      \tonChange={(e)=>changeHandler('email',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tname=\"password\"\r\n\t\t\t      \tlabel=\"Password\"\r\n\t\t\t      \ttype=\"password\"\r\n\t\t\t      \tid=\"password\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tonChange={(e)=>changeHandler('password',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <FormControlLabel\r\n\t\t\t      control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n\t\t\t      label={\"Remember me\"}\r\n\t\t\t    />\r\n\t\t\t    <Button\r\n\t\t\t      type=\"submit\"\r\n\t\t\t      fullWidth\r\n\t\t\t      variant=\"contained\"\r\n\t\t\t      color=\"primary\"\r\n\t\t\t      className={classes.submit}\r\n\t\t\t      disabled={authenticating}\r\n\t\t\t    >\r\n\t\t\t    \t{authenticating ? <CircularProgress /> : 'Sign In' }\r\n\t\t\t    </Button>\r\n\t\t\t    <Grid container>\r\n\t\t\t      <Grid item xs>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          Forgot password?\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t      <Grid item>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          {\"Don't have an account? Sign Up\"}\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t    </Grid>\r\n\t\t  \t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps=state=>{\r\n\treturn {\r\n\t\tuser:state.Admin.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=dispatch=>{\r\n\treturn {\r\n\t\tsignIn:(username,password)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SIGN_IN_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/admin/login',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify({username,password}),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.json()).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SIGN_IN_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\t...json.user,\r\n\t\t\t\t\t\tloginAttempted: true\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif(json.result==='success'){\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}).catch((err)=>{\r\n\t\t\t\t// end sign in request\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SIGN_IN_RES,\r\n\t\t\t\t\tpayload:{}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// alert error\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:ALERT,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\ttype:'error',\r\n\t\t\t\t\t\ttext: 'Connection with server failed...'\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\talert:(options)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ALERT,\r\n\t\t\t\tpayload: options\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst LoginContainer=connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\nexport default LoginContainer;","import { colors } from '@material-ui/core';\n\nconst white = '#FFFFFF';\nconst black = '#000000';\n\nexport default {\n  black,\n  white,\n  primary: {\n    contrastText: white,\n    dark: colors.indigo[900],\n    main: colors.indigo[500],\n    light: colors.indigo[100]\n  },\n  secondary: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue['A400'],\n    light: colors.blue['A400']\n  },\n  success: {\n    contrastText: white,\n    dark: colors.green[900],\n    main: colors.green[600],\n    light: colors.green[400]\n  },\n  info: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue[600],\n    light: colors.blue[400]\n  },\n  warning: {\n    contrastText: white,\n    dark: colors.orange[900],\n    main: colors.orange[600],\n    light: colors.orange[400]\n  },\n  error: {\n    contrastText: white,\n    dark: colors.red[900],\n    main: colors.red[600],\n    light: colors.red[400]\n  },\n  text: {\n    primary: colors.blueGrey[900],\n    secondary: colors.blueGrey[600],\n    link: colors.blue[600]\n  },\n  background: {\n    default: '#F4F6F8',\n    paper: white\n  },\n  icon: colors.blueGrey[600],\n  divider: colors.grey[200]\n};\n","import palette from './palette';\n\nexport default {\n  h1: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '35px',\n    letterSpacing: '-0.24px',\n    lineHeight: '40px'\n  },\n  h2: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '29px',\n    letterSpacing: '-0.24px',\n    lineHeight: '32px'\n  },\n  h3: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '24px',\n    letterSpacing: '-0.06px',\n    lineHeight: '28px'\n  },\n  h4: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '20px',\n    letterSpacing: '-0.06px',\n    lineHeight: '24px'\n  },\n  h5: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  h6: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  subtitle1: {\n    color: palette.text.primary,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '25px'\n  },\n  subtitle2: {\n    color: palette.text.secondary,\n    fontWeight: 400,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body1: {\n    color: palette.text.primary,\n    fontSize: '15px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body2: {\n    color: palette.text.secondary,\n    fontSize: '13px',\n    letterSpacing: '-0.04px',\n    lineHeight: '18px'\n  },\n  button: {\n    color: palette.text.primary,\n    fontSize: '14px'\n  },\n  caption: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    letterSpacing: '0.33px',\n    lineHeight: '13px'\n  },\n  overline: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    fontWeight: 500,\n    letterSpacing: '0.33px',\n    lineHeight: '13px',\n    textTransform: 'uppercase'\n  }\n};\n","import MuiButton from './MuiButton';\nimport MuiIconButton from './MuiIconButton';\nimport MuiPaper from './MuiPaper';\nimport MuiTableCell from './MuiTableCell';\nimport MuiTableHead from './MuiTableHead';\nimport MuiTypography from './MuiTypography';\n\nexport default {\n  MuiButton,\n  MuiIconButton,\n  MuiPaper,\n  MuiTableCell,\n  MuiTableHead,\n  MuiTypography\n};\n","export default {\n  contained: {\n    boxShadow:\n      '0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)',\n    backgroundColor: '#FFFFFF'\n  }\n};\n","import palette from '../palette';\n\nexport default {\n  root: {\n    color: palette.icon,\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.03)'\n    }\n  }\n};\n","export default {\n  elevation1: {\n    boxShadow: '0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)'\n  }\n};\n","import palette from '../palette';\nimport typography from '../typography';\n\nexport default {\n  root: {\n    ...typography.body1,\n    borderBottom: `1px solid ${palette.divider}`\n  }\n};\n","import { colors } from '@material-ui/core';\n\nexport default {\n  root: {\n    backgroundColor: colors.grey[50]\n  }\n};\n","export default {\n  gutterBottom: {\n    marginBottom: 8\n  }\n};\n","import { createMuiTheme } from '@material-ui/core';\n\nimport palette from './palette';\nimport typography from './typography';\nimport overrides from './overrides';\n\nconst theme = createMuiTheme({\n  palette,\n  typography,\n  overrides,\n  zIndex: {\n    appBar: 1200,\n    drawer: 1100\n  }\n});\n\nexport default theme;\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nimport Login from './Login';\r\n\r\nimport theme from './theme';\r\nimport { SIGN_IN_REQ, SIGN_IN_RES, ALERT } from './index.js';\r\n\r\nexport default function withAuth(ComponentToProtect, protectedModule = '', path = '') {\r\n    class ProtectedComponent extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                redirect: false,\r\n                loading: true,\r\n                hasAccessRight: true\r\n            };\r\n        }\r\n        componentDidMount() {\r\n            this.getUser().then((user) => {\r\n                var hasAccessRight = true;\r\n                var redirect = false;\r\n\r\n                if (user && user._id) {\r\n                    if (protectedModule && !(user.rights.indexOf(protectedModule) >= 0)) {\r\n                        hasAccessRight = false;\r\n                    }\r\n                } else {\r\n                    redirect = true;\r\n                }\r\n\r\n                this.setState({\r\n                    redirect,\r\n                    loading: false,\r\n                    hasAccessRight\r\n                });\r\n            });\r\n        }\r\n        getUser = () => {\r\n            // checks the state whether there exists an active user, if no, active user should be fetched from backend\r\n            return new Promise((resolve, reject) => {\r\n                if (this.props.user && this.props.user.loggedIn) {\r\n                    resolve(this.props.user);\r\n                } else {\r\n                    this.props.getActiveUser().then((user) => {\r\n                        resolve(user);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        render() {\r\n            console.log('withAuth', protectedModule);\r\n            const { redirect, loading, hasAccessRight } = this.state;\r\n            const props = this.props;\r\n\r\n            if (props.location.pathname === (props.match.path + '/login')) {\r\n                return (\r\n                    <ThemeProvider theme={theme}>\r\n            <Login />\r\n          </ThemeProvider>\r\n                );\r\n            }\r\n\r\n            if (loading) {\r\n                return <LinearProgress />;\r\n            }\r\n\r\n            if (!hasAccessRight) {\r\n                console.log('has no access right', props.user.rights);\r\n                props.history.goBack();\r\n            }\r\n\r\n            if (!props.user.loggedIn && redirect) {\r\n                window.localStorage.setItem('lastVisitedPath', this.props.location.pathname);\r\n                console.log('redirecting', props.match.path + \"/login\");\r\n                return <Redirect to={'/admin/login'} />;\r\n            }\r\n\r\n            return (\r\n                <React.Fragment>\r\n          <ComponentToProtect {...this.props} />\r\n        </React.Fragment>\r\n            );\r\n        }\r\n    }\r\n\r\n    const mapStateToProps = state => {\r\n        return {\r\n            user: state.Admin.user\r\n        }\r\n    }\r\n\r\n    const mapDispatchToProps = dispatch => {\r\n        return {\r\n            getActiveUser: () => {\r\n                dispatch({ type: SIGN_IN_REQ });\r\n                return fetch('/user/active').then((res) => res.json()).then((json) => {\r\n                    dispatch({\r\n                        type: SIGN_IN_RES,\r\n                        payload: json.user\r\n                    });\r\n                    return json.user;\r\n                }).catch((err) => {\r\n                    // end request\r\n                    dispatch({\r\n                        type: SIGN_IN_RES,\r\n                        payload: {}\r\n                    });\r\n\r\n                    // error\r\n                    console.error(err);\r\n                    dispatch({\r\n                        type: ALERT,\r\n                        payload: {\r\n                            type: 'error',\r\n                            text: 'Connection with server failed...'\r\n                        }\r\n                    });\r\n                    return {}\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(ProtectedComponent)\r\n}","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nimport Alert from './components/Alert';\r\nimport Layout from './Layout';\r\nimport withAuth from './withAuth';\r\nimport theme from './theme';\r\n\r\nclass Admin extends React.Component{\r\n\trender(){\r\n\t\tconst props=this.props;\r\n\r\n    \treturn(\r\n    \t\t<ThemeProvider theme={theme}>\r\n    \t\t\t<Alert />\r\n\t    \t\t<Layout {...props} >\r\n\t\t\t\t\t<Routes routes={props.routes} match={props.match} />\r\n\t\t\t\t</Layout>\r\n\t\t\t</ThemeProvider>\r\n    \t);\r\n\t}\r\n}\r\n\r\nconst Routes=({routes, match})=>{\r\n\treturn  routes.map((route,index) => {\r\n\t\treturn(\r\n        \t<Route exact={route.path === match.path + '/'} path={route.path} key={route.path} component={withAuth(route.component, route.title)} title={route.title} />\r\n        );\r\n    });\r\n}\r\n \r\nexport default withAuth(Admin);","import {\r\n\tDashboardOutlined as DashboardIcon,\r\n\tVerifiedUserOutlined as EmployeeIcon,\r\n\tExtensionOutlined as ExtensionIcon,\r\n\tLocalOfferOutlined as ProductIcon,\r\n\tDescriptionOutlined as ArticleIcon\r\n} from '@material-ui/icons';\r\n\r\nimport Dashboard, {reducer as dashboardReducer} from './Dashboard';\r\nimport Category, {reducer as categoryReducer} from './Category';\r\nimport Article, {reducer as articleReducer} from './Article';\r\nimport Author, {reducer as authorReducer} from './Author';\r\n\r\nimport Admin from './Admin';\r\nimport {defineModule} from '../functions';\r\n\r\nexport const SIGN_IN_REQ='Admin/SignInReq';\r\nexport const SIGN_IN_RES='Admin/SignInRes';\r\nexport const SET_TITLE='Admin/SetTitle';\r\nexport const LOG_OUT='Admin/LogOut';\r\nexport const ALERT='Admin/Alert';\r\nexport const ALERT_CLOSE='Admin/AlertClose';\r\n\r\nconst route='/admin';\r\n\r\nconst defaultState={\r\n\ttitle:'Dashboard',\r\n\tmenuItems:[{\r\n\t\ttext:'Dashboard',\r\n\t\taccessRightTitle:'Dashboard',\r\n\t\tlink:route,\r\n\t\ticon:DashboardIcon\r\n\t},{\r\n\t\ttext:'Authors',\r\n\t\taccessRightTitle:'Authors',\r\n\t\tlink:route+'/authors',\r\n\t\ticon:EmployeeIcon\r\n\t},{\r\n\t\ttext:'Articles',\r\n\t\taccessRightTitle:'Articles',\r\n\t\tlink:route+'/articles',\r\n\t\ticon:ArticleIcon\r\n\t},{\r\n\t\ttext:'Categories',\r\n\t\taccessRightTitle:'Categories',\r\n\t\tlink:route+'/categories',\r\n\t\ticon:ExtensionIcon\r\n\t}]\r\n};\r\n\r\nconst defaultUserState={\r\n\tloggedIn:false, \r\n\tauthenticating:false,\r\n\tloginAttempted:false\r\n}\r\nconst userReducer=(state=defaultUserState,action)=>{\r\n\tswitch(action.type){\r\n\t\tcase SIGN_IN_REQ:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tauthenticating:true\r\n\t\t\t}\r\n\t\tcase SIGN_IN_RES:\r\n\t\t\tvar p=action.payload;\r\n\t\t\tif(p && p.username){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t\tloggedIn:true,\r\n\t\t\t\t\tauthenticating:false\r\n\t\t\t\t};\r\n\t\t\t}else{\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t\tloginFailed:true,\r\n\t\t\t\t\tauthenticating:false,\r\n\t\t\t\t\tloggedIn:false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase LOG_OUT:\r\n\t\t\treturn defaultState\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nconst defaultAlertState={\r\n\ttype:'',\r\n\ttext: 'asd',\r\n\topen:true\r\n}\r\nconst alertReducer=(state=defaultAlertState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase ALERT:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\topen: true\r\n\t\t\t}\r\n\t\tcase ALERT_CLOSE:\r\n\t\t\treturn{\r\n\t\t\t\topen:false,\r\n\t\t\t\ttype:''\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\treturn {\r\n\t\t...defaultState,\r\n\t\tDashboard:dashboardReducer(state.Dashboard, action),\r\n\t\tCategory:categoryReducer(state.Category, action),\r\n\t\tArticle: articleReducer(state.Article, action),\r\n\t\tAuthor: authorReducer(state.Author, action),\r\n\t\tuser:userReducer(state.user,action),\r\n\t\talert:alertReducer(state.alert, action),\r\n\t\ttitle:((s,a)=>{\r\n\t\t\tif(a.type===SET_TITLE){\r\n\t\t\t\treturn a.payload;\r\n\t\t\t}else{\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t})(state.title, action)\r\n\t}\r\n}\r\n\r\nexport const children={\r\n\tDashboard,\r\n\tCategory,\r\n\tArticle,\r\n\tAuthor\r\n}\r\n\r\nexport default defineModule('Admin',route, Admin, reducer, children);","import React from 'react';\r\n\r\nconst Image = ({image, className=''})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className={'bg-image ' + className} style={{backgroundImage: 'url('+image.url+')'}}>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Image;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {\r\n\tFiBookmark,\r\n\tFiMoreHorizontal\r\n} from 'react-icons/fi';\r\nimport {\r\n\tPopover,\r\n\tPopoverBody\r\n} from 'reactstrap';\r\n\r\nimport Image from './Image';\r\n\r\nconst ArticleItem = ({article})=>{\r\n\treturn(\r\n\t\t<div className='article-item article-item-v1 col-12 d-flex mb-3'>\r\n\t\t\t<div className='content-box'>\r\n\t\t\t\t<span className=\"text-uppercase reason-text\">Recommended for you</span>\r\n\t\t\t\t<Link to={'/article/'+article.slug}>\r\n\t\t\t\t\t<h2 className='h5 title'>{article.title}</h2>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Subtitle link={'/article/'+article.slug} subtitle={article.subtitle} />\r\n\t\t\t\t<div className='d-flex align-items-center'>\r\n\t\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t\t<Author author={article.author} />\r\n\t\t\t\t\t\t<div className='fs-12'>\r\n\t\t\t\t\t\t\t<span className='date'>Mar 31, 2020</span>\r\n\t\t\t\t\t\t\t<span className='dot-separator px-1'></span>\r\n\t\t\t\t\t\t\t<span className='read-time'>8 min read </span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span className='bookmark-button mr-2'>\r\n\t\t\t\t\t\t<FiBookmark />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className='actions-button'>\r\n\t\t\t\t\t\t<FiMoreHorizontal />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='image-box'>\r\n\t\t\t\t<Image image={article.image} className={'article-image'} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst Author = ({author}) =>{\r\n\tconst [popoverOpen, setPopoverOpen] = React.useState(false);\r\n\tif(!author){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='author'>\r\n\t\t\t<span id={author.slug} className={\"author-name\"}>{author.name} </span>\r\n\t\t\t<span className=\"author-group\">in The Ascend </span>\r\n\t\t\t<Popover \r\n\t\t\t\tplacement='top' \r\n\t\t\t\tisOpen={popoverOpen} \r\n\t\t\t\ttarget={author.slug} \r\n\t\t\t\ttoggle={()=>setPopoverOpen(!popoverOpen)}\r\n\t\t\t\ttrigger={'hover'}\r\n\t\t\t>\r\n\t\t\t\t<PopoverBody>\r\n\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t<div className='flex-1 mr-2'>\r\n\t\t\t\t\t\t\t<h2 className='h6'>{author.name}</h2>\r\n\t\t\t\t\t\t\t<p className='author-description text-faded'>{author.description}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='author-image-box'>\r\n\t\t\t\t\t\t\t<Image className='author-image' image={author.image} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</PopoverBody>\r\n\t\t\t</Popover>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Subtitle = ({subtitle, link}) =>{\r\n\tif(!subtitle){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<Link to={link}>\r\n\t\t\t<p className='subtitle mb-2 text-faded'>{subtitle}</p>\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport default ArticleItem;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport ArticleItem from '../components/ArticleItem';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES} from '../index';\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\tconst {items, loadingItems}=this.props;\r\n\r\n\t\tif(loadingItems){\r\n\t\t\treturn(\r\n\t\t\t\t<div>Loading...</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tlet itemsToDisplay = items.map((article, i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<ArticleItem article={article} /> \r\n\t\t\t)\r\n\t\t});\r\n\t\treturn(\r\n\t\t\t<div className='row'>\r\n\t\t\t\t{itemsToDisplay}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {\r\n\t\titems: s.items,\r\n\t\tloadingItems: s.loadingItems,\r\n\t\tshouldLoadItems: s.shouldLoadItems\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/get').then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\t\t\t\treturn [];\r\n\t\t\t}).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default ListContainer;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport ArticlesList from './ArticlesList';\r\n\r\nclass MainPage extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\t//const {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='container py-5'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-8'>\r\n\t\t\t\t\t\t<ArticlesList />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-4'>\r\n\t\t\t\t\t\tcol-4\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nexport const MainPageContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MainPage);\r\n\r\nexport default MainPageContainer;","import React from 'react';\r\nimport {\r\n\tIoMdStar as StarIcon\r\n} from 'react-icons/io';\r\n\r\nimport Image from './Image';\r\n\r\n\r\nconst AuthorV1 = ({author}) =>{\r\n\tif(!author){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='author-v1 d-flex align-items-center'>\r\n\t\t\t<div className='author-image-box mr-2'>\r\n\t\t\t\t<Image className='author-image rounded-circle' image={author.image} />\r\n\t\t\t</div>\r\n\t\t\t<div className='mr-2'>\r\n\t\t\t\t<div className='d-flex align-items-center mb-1'>\r\n\t\t\t\t\t<h2 className='h6 m-0 mr-2'>{author.name}</h2>\r\n\t\t\t\t\t<div className='btn btn-sm py-0 border rounded'> Follow </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='text-faded text-small'>\r\n\t\t\t\t\t<span>Feb 2 </span> \r\n\t\t\t\t\t<span className='dot-separator'></span> \r\n\t\t\t\t\t<span> 5 min read</span>\r\n\t\t\t\t\t<span className='star'> <StarIcon /></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AuthorV1;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport AuthorV1 from '../components/AuthorV1';\r\n\r\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES} from '../index';\r\n\r\nclass Article extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.props.loadItem(this.props.slug);\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Article',this.props);\r\n\t\tconst {match, item, loadingItem, slug}=this.props;\r\n\r\n\t\tif(loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<span>Loading...</span>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h2 className='h3 mb-3'>{item.title}</h2>\r\n\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t<AuthorV1 author={item.author} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Image image={item.image} />\r\n\t\t\t\t\t<Content parts={item.paragraphs} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Image = ({image})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='article-image my-3'>\r\n\t\t\t<img src={image.url} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Content = ({parts})=>{\r\n\tif(!parts || !parts.length){\r\n\t\treturn '';\r\n\t}\r\n\tparts = parts.map((p,i)=>{\r\n\t\treturn(\r\n\t\t\t<p>{p.content}</p>\r\n\t\t);\r\n\t});\r\n\treturn(\r\n\t\t<div className='content'>\r\n\t\t\t{parts}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nArticle.propTypes={\r\n\tloadItem: PropTypes.func,\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {\r\n\t\titem: s.item,\r\n\t\tloadingItem : s.loadingItem\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(articleSlug)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEM_REQ\r\n\t\t\t});\r\n\t\t\tconst url = '/api/article/get?slug=' + articleSlug\r\n\t\t\treturn fetch(url).then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\t\t\t\treturn {};\r\n\t\t\t}).then((item)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ArticleContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Article);\r\n\r\nexport default ArticleContainer;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {FaAngleLeft} from 'react-icons/fa';\r\n\r\nconst BackButton = ({link, className=''})=>{\r\n\tif(!link){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className={className}>\r\n\t\t\t<Link to={link}>\r\n\t\t\t\t<FaAngleLeft /> Back to list\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default BackButton;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Article from './Article';\r\nimport BackButton from '../components/BackButton';\r\n\r\nclass MainPage extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Article Single',this.props);\r\n\t\t//const {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='container py-5'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-8 m-auto'>\r\n\t\t\t\t\t\t<BackButton link={'/article'} className={'text-primary'}/>\r\n\t\t\t\t\t\t<Article slug={this.props.match.params.slug}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nexport const MainPageContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MainPage);\r\n\r\nexport default MainPageContainer;","import Router from './Router';\nimport {defineModule} from '../functions';\n\nconst actionPrefix='Article/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\tshouldLoadItems:true,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\tshouldLoadItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Article','/article', Router, reducer);","import Admin from './Admin';\r\nimport Article from './Article'; // 31.03.2020\r\n\r\nexport default {\r\n\tAdmin,\r\n\tArticle\r\n}","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport Main from './main/Main';\nimport ArticleSingle from './article-single/ArticleSingle';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={Main} />\n\t\t\t<Route exact path={props.match.path+'/:slug'} component={ArticleSingle} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import {createStore,applyMiddleware,combineReducers} from 'redux';\r\nimport {createLogger} from 'redux-logger';\r\nimport modules from './modules';\r\nimport {flatModules} from './modules/functions';\r\n\r\nconst createAppStore = (reducer) => {\r\n  let middleware = [];\r\n  if (process.env.NODE_ENV === 'development') {\r\n    const logger=createLogger();\r\n    middleware = [...middleware, logger];\r\n  } else {\r\n    middleware = [...middleware];\r\n  }\r\n  //middleware.push(thunk)\r\n  const store = createStore(\r\n    reducer,\r\n    applyMiddleware(...middleware)\r\n  );\r\n  return store\r\n}\r\n\r\nexport const combineModuleReducers = modules => {\r\n  const reducers = {}\r\n  const flat = flatModules(modules)\r\n  for (let i = 0; i < flat.length; i++) {\r\n    const red = flat[i].reducer\r\n    if (typeof(red) !== 'function') {\r\n      throw new Error('Module ' + i + ' does not define reducer!')\r\n    }\r\n\r\n    reducers[flat[i].MODULE] = red\r\n\r\n    // if(typeof(flat[i].children) === 'object'){\r\n    //   for(let j in flat[i].children){\r\n    //     if(typeof(flat[i].children[j].reducer) !== 'function'){\r\n    //       throw new Error('Module ' + j + ' does not define reducer!')\r\n    //     }\r\n\r\n    //     reducers[j] = flat[i].children[j].reducer\r\n    //   }\r\n    // }\r\n  }\r\n  return reducers\r\n}\r\n\r\nexport default createAppStore(combineReducers(combineModuleReducers(modules)));","import modules from './modules';\r\nimport {flatModules} from './modules/functions'; \r\nimport store from './store';\r\nimport App from './core/components/App';\r\nimport Home from './core/components/Home';\r\n\r\nconst getRoutes = (modules, store, App, Home, title = 'Главная') => flatModules(modules).map(x => {\r\n  console.log('x',x);\r\n  if (!x.component) {\r\n    throw new Error('Component for module ' + x + ' is not defined')\r\n  }\r\n\r\n  const route = {\r\n    path: x.path,\r\n    title: x.title,\r\n    component: x.component,\r\n    onEnter: x.onEnter\r\n      ? routeParams => {\r\n        x.onEnter(routeParams, store.dispatch)\r\n      }\r\n      : null\r\n  }\r\n\r\n  if(x.children){\r\n    // if(!x.children.Index || !typeof(x.children.Index.component)){\r\n    //   throw new Error('Component for index route of \"' + x.title + '\" is not defined')\r\n    // }\r\n\r\n    // route.indexRoute = {\r\n    //   component: x.children.Index.component\r\n    // }\r\n\r\n    route.routes = Object.keys(x.children).map(y => {\r\n      const cm = x.children[y]\r\n      if (!cm.component) {\r\n        throw new Error('Component for module ' + x + '/' + y + ' is not defined')\r\n      }\r\n\r\n      return {\r\n        path: x.path + cm.path,\r\n        title: cm.title,\r\n        component: cm.component,\r\n        onEnter: cm.onEnter\r\n          ? routeParams => {\r\n            cm.onEnter(routeParams, store.dispatch)\r\n          }\r\n          : null\r\n      }\r\n    });\r\n  }\r\n  return route;\r\n});\r\n\r\nexport default getRoutes(modules, store, App, Home);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  console.log('env',process.env.NODE_ENV);\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {AppContainer} from 'react-hot-loader';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nimport Root from './core/containers/Root';\nimport history from './core/history';\nimport store from './store';\nimport routes from './routes';\n\nimport * as serviceWorker from './serviceWorker';\n\n//console.log('routes',routes);\n//console.log('store',store);\n\nReactDOM.render(\n\t<AppContainer>\n\t\t<Root\n\t\t\tstore={store}\n\t\t\thistory={history}\n\t\t\troutes={routes} />\n\t</AppContainer>,\n\tdocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}