{"version":3,"sources":["modules/Admin/components/Title.js","modules/Dashboard/components/Image.js","modules/Dashboard/components/ArticleItem.js","modules/Dashboard/components/AuthorV1.js","modules/Dashboard/article-single/Article.js","modules/Dashboard/components/BackButton.js","modules/Dashboard/article-single/ArticleSingle.js","modules/functions.js","modules/Dashboard/index.js","modules/Dashboard/Router.js","modules/Dashboard/main/ArticlesList.js","modules/Dashboard/main/Main.js","core/components/Home.js","core/components/Menu.js","core/components/Layout.js","core/containers/App.js","core/containers/Root.js","core/history.js","modules/Admin/components/Selectmenu.js","modules/Admin/Article/components/Paragraphs.js","modules/Admin/withTitle.js","modules/Admin/Category/List.js","modules/Admin/Category/Form.js","modules/Admin/Category/index.js","modules/Admin/Category/Router.js","modules/Admin/Author/List.js","modules/Admin/Author/Form.js","modules/Admin/Author/index.js","modules/Admin/Author/Router.js","modules/Admin/Article/Form.js","modules/Admin/Article/index.js","modules/Admin/Article/Router.js","modules/Admin/Article/List.js","modules/Admin/Dashboard/Dashboard.js","modules/Admin/Dashboard/index.js","modules/Admin/components/Alert.js","modules/Admin/Layout.js","modules/Admin/Login.js","modules/Admin/theme/palette.js","modules/Admin/theme/typography.js","modules/Admin/theme/overrides/index.js","modules/Admin/theme/overrides/MuiButton.js","modules/Admin/theme/overrides/MuiIconButton.js","modules/Admin/theme/overrides/MuiPaper.js","modules/Admin/theme/overrides/MuiTableCell.js","modules/Admin/theme/overrides/MuiTableHead.js","modules/Admin/theme/overrides/MuiTypography.js","modules/Admin/theme/index.js","modules/Admin/withAuth.js","modules/Admin/Admin.js","modules/Admin/index.js","modules/Article/components/Image.js","modules/Article/components/ArticleItem.js","modules/Article/main/ArticlesList.js","modules/Article/main/Main.js","modules/Article/components/AuthorV1.js","modules/Article/article-single/Article.js","modules/Article/components/BackButton.js","modules/Article/article-single/ArticleSingle.js","modules/Article/index.js","modules/Article/Router.js","core/components/shared/Table.js","modules/Patient/main/PatientsList.js","modules/Patient/main/Main.js","modules/Patient/components/Image.js","modules/Patient/components/AuthorV1.js","modules/Patient/article-single/Article.js","modules/Patient/components/BackButton.js","modules/Patient/article-single/ArticleSingle.js","core/components/shared/Datepicker.js","modules/Patient/register/PatientForm.js","modules/Patient/register/Register.js","modules/Patient/index.js","modules/index.js","modules/Patient/Router.js","store.js","routes.js","serviceWorker.js","index.js"],"names":["Image","image","className","style","backgroundImage","url","Author","author","React","useState","popoverOpen","setPopoverOpen","id","slug","name","Popover","placement","isOpen","target","toggle","trigger","PopoverBody","description","Subtitle","subtitle","link","to","ArticleItem","article","title","AuthorV1","Article","props","this","loadItem","console","log","item","match","loadingItem","parts","paragraphs","Component","src","Content","length","map","p","i","content","ArticleContainer","connect","state","s","dispatch","articleSlug","type","LOAD_ITEM_REQ","fetch","then","res","ok","json","LOAD_ITEM_RES","payload","BackButton","MainPage","params","MainPageContainer","defineModule","path","component","reducer","children","onEnter","flatModules","modules","Object","keys","x","Array","isArray","forEach","y","MODULE","reduce","c","n","concat","fileUpload","file","filename","Promise","resolve","reject","result","message","data","FormData","append","method","body","headers","catch","err","error","actionPrefix","defaultState","items","loadingItems","shouldLoadItems","deleteDialogOpen","deleteId","saving","exact","Main","ArticleSingle","action","r","_id","push","filter","List","loadItems","itemsToDisplay","Home","Menu","mainItems","it","Icon","icon","class","iconClass","text","Fragment","href","data-toggle","data-target","menuItems","accessRightTitle","DashboardIcon","Layout","aria-haspopup","aria-expanded","data-offset","alt","width","height","App","routes","route","index","key","render","Root","store","basename","history","createBrowserHistory","listen","location","useStyles","makeStyles","theme","select","SelectMenu","options","value","changeHandler","v","multiple","itemType","label","option","setOption","classes","inputLabel","useRef","labelWidth","setLabelWidth","useEffect","current","offsetWidth","MenuItem","Checkbox","checked","indexOf","ListItemText","primary","th","FormControl","variant","margin","InputLabel","ref","Select","labelId","onChange","event","input","header","marginBottom","spacing","addButton","marginTop","Paragraph","defaultValue","handler","TextField","multiline","rows","Paragraphs","e","Typography","Box","textAlign","Fab","color","aria-label","size","withTitle","setTitle","SET_TITLE","TableList","lazy","onDelete","showDeleteDialog","fallback","columnNames","columns","addItemText","searchBoxPlaceholder","Admin","Category","LOAD_ITEMS_REQ","LOAD_ITEMS_RES","b","JSON","stringify","DELETE_RES","container","paddingTop","paddingBottom","paper","padding","display","overflow","flexDirection","textField","themesSelect","button","float","FormCard","update","themes","redirect","setRedirect","Container","maxWidth","Grid","xs","Button","Paper","onSubmit","elements","itemId","preventDefault","sm","required","disabled","CircularProgress","Form","setState","LinearProgress","ListContainer","SAVE_REQ","SAVE_RES","firstname","setFirstname","lastname","setLastname","setDescription","setImage","files","get","uploadResponse","categories","authors","category","setCategory","constructor","setAuthor","setSubtitle","setParagraphs","Selectmenu","selectCategory","val","loadCategories","loadAuthors","a","LOAD_CATEGORIES_REQ","LOAD_CATEGORIES_RES","LOAD_AUTHORS_REQ","LOAD_AUTHORS_RES","loading","join","ALERT","clsx","fixedHeight","collapse","position","top","right","zIndex","CustomAlertContainer","alert","close","ALERT_CLOSE","open","setTimeout","Collapse","in","Alert","severity","onClose","toString","Copyright","align","Date","getFullYear","root","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","mixins","appBar","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","MainListItems","accessRights","menuItem","ListItem","ListItemIcon","LayoutContainer","rights","user","logOut","LOG_OUT","setOpen","CssBaseline","AppBar","Toolbar","IconButton","edge","onClick","noWrap","Badge","badgeContent","goBack","Drawer","Divider","Link","backgroundColor","palette","common","white","avatar","secondary","main","form","submit","Login","submitHandler","signIn","email","password","loggedIn","redirectUrl","window","localStorage","getItem","failed","loginAttempted","authenticating","mt","LoginForm","Avatar","fullWidth","autoComplete","autoFocus","FormControlLabel","control","LoginContainer","username","SIGN_IN_REQ","SIGN_IN_RES","black","contrastText","dark","colors","indigo","light","blue","success","green","info","warning","orange","red","blueGrey","background","default","divider","grey","h1","fontWeight","fontSize","letterSpacing","lineHeight","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","overline","textTransform","MuiButton","contained","boxShadow","MuiIconButton","MuiPaper","elevation1","MuiTableCell","typography","borderBottom","MuiTableHead","MuiTypography","gutterBottom","createMuiTheme","overrides","withAuth","ComponentToProtect","protectedModule","ProtectedComponent","getUser","getActiveUser","hasAccessRight","pathname","ThemeProvider","setItem","mapStateToProps","mapDispatchToProps","Routes","EmployeeIcon","ArticleIcon","ExtensionIcon","defaultUserState","userReducer","loginFailed","defaultAlertState","alertReducer","Dashboard","dashboardReducer","categoryReducer","articleReducer","authorReducer","TableCard","handleDelete","MyTable","tableRows","tableCols","colSpan","row","col","scope","Pagination","tabindex","aria-disabled","aria-current","Row","ind","cellStyle","Cell","setDeleteDialogOpen","setDeleteId","Phone","phone","trim","address","Table","Patient","PatientsList","Datepicker","now","selectedDate","setSelectedDate","DatePicker","for","placeholder","Input","selected","PatientRegisterPage","PatientForm","PageContainer","Register","createAppStore","middleware","createStore","applyMiddleware","combineReducers","reducers","flat","Error","combineModuleReducers","getRoutes","routeParams","cm","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","document","getElementById","process","URL","origin","addEventListener","response","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.8e576ee5.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\n\nexport default function Title(props) {\n  return (\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n      {props.children}\n    </Typography>\n  );\n}\n\nTitle.propTypes = {\n  children: PropTypes.node,\n};","import React from 'react';\r\n\r\nconst Image = ({image, className=''})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className={'bg-image ' + className} style={{backgroundImage: 'url('+image.url+')'}}>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Image;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {\r\n\tFiBookmark,\r\n\tFiMoreHorizontal\r\n} from 'react-icons/fi';\r\nimport {\r\n\tPopover,\r\n\tPopoverBody\r\n} from 'reactstrap';\r\n\r\nimport Image from './Image';\r\n\r\nconst ArticleItem = ({article})=>{\r\n\treturn(\r\n\t\t<div className='article-item article-item-v1 col-12 d-flex mb-3'>\r\n\t\t\t<div className='content-box'>\r\n\t\t\t\t<span className=\"text-uppercase reason-text\">Recommended for you</span>\r\n\t\t\t\t<Link to={'/article/'+article.slug}>\r\n\t\t\t\t\t<h2 className='h5 title'>{article.title}</h2>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Subtitle link={'/article/'+article.slug} subtitle={article.subtitle} />\r\n\t\t\t\t<div className='d-flex align-items-center'>\r\n\t\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t\t<Author author={article.author} />\r\n\t\t\t\t\t\t<div className='fs-12'>\r\n\t\t\t\t\t\t\t<span className='date'>Mar 31, 2020</span>\r\n\t\t\t\t\t\t\t<span className='dot-separator px-1'></span>\r\n\t\t\t\t\t\t\t<span className='read-time'>8 min read </span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span className='bookmark-button mr-2'>\r\n\t\t\t\t\t\t<FiBookmark />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className='actions-button'>\r\n\t\t\t\t\t\t<FiMoreHorizontal />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='image-box'>\r\n\t\t\t\t<Image image={article.image} className={'article-image'} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst Author = ({author}) =>{\r\n\tconst [popoverOpen, setPopoverOpen] = React.useState(false);\r\n\tif(!author){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='author'>\r\n\t\t\t<span id={author.slug} className={\"author-name\"}>{author.name} </span>\r\n\t\t\t<span className=\"author-group\">in The Ascend </span>\r\n\t\t\t<Popover \r\n\t\t\t\tplacement='top' \r\n\t\t\t\tisOpen={popoverOpen} \r\n\t\t\t\ttarget={author.slug} \r\n\t\t\t\ttoggle={()=>setPopoverOpen(!popoverOpen)}\r\n\t\t\t\ttrigger={'hover'}\r\n\t\t\t>\r\n\t\t\t\t<PopoverBody>\r\n\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t<div className='flex-1 mr-2'>\r\n\t\t\t\t\t\t\t<h2 className='h6'>{author.name}</h2>\r\n\t\t\t\t\t\t\t<p className='author-description text-faded'>{author.description}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='author-image-box'>\r\n\t\t\t\t\t\t\t<Image className='author-image' image={author.image} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</PopoverBody>\r\n\t\t\t</Popover>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Subtitle = ({subtitle, link}) =>{\r\n\tif(!subtitle){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<Link to={link}>\r\n\t\t\t<p className='subtitle mb-2 text-faded'>{subtitle}</p>\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport default ArticleItem;","import React from 'react';\r\nimport {\r\n\tIoMdStar as StarIcon\r\n} from 'react-icons/io';\r\n\r\nimport Image from './Image';\r\n\r\n\r\nconst AuthorV1 = ({author}) =>{\r\n\tif(!author){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='author-v1 d-flex align-items-center'>\r\n\t\t\t<div className='author-image-box mr-2'>\r\n\t\t\t\t<Image className='author-image rounded-circle' image={author.image} />\r\n\t\t\t</div>\r\n\t\t\t<div className='mr-2'>\r\n\t\t\t\t<div className='d-flex align-items-center mb-1'>\r\n\t\t\t\t\t<h2 className='h6 m-0 mr-2'>{author.name}</h2>\r\n\t\t\t\t\t<div className='btn btn-sm py-0 border rounded'> Follow </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='text-faded text-small'>\r\n\t\t\t\t\t<span>Feb 2 </span> \r\n\t\t\t\t\t<span className='dot-separator'></span> \r\n\t\t\t\t\t<span> 5 min read</span>\r\n\t\t\t\t\t<span className='star'> <StarIcon /></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AuthorV1;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport AuthorV1 from '../components/AuthorV1';\r\n\r\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES} from '../index';\r\n\r\nclass Article extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.props.loadItem(this.props.slug);\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Article',this.props);\r\n\t\tconst {match, item, loadingItem, slug}=this.props;\r\n\r\n\t\tif(loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<span>Loading...</span>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h2 className='h3 mb-3'>{item.title}</h2>\r\n\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t<AuthorV1 author={item.author} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Image image={item.image} />\r\n\t\t\t\t\t<Content parts={item.paragraphs} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Image = ({image})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='article-image my-3'>\r\n\t\t\t<img src={image.url} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Content = ({parts})=>{\r\n\tif(!parts || !parts.length){\r\n\t\treturn '';\r\n\t}\r\n\tparts = parts.map((p,i)=>{\r\n\t\treturn(\r\n\t\t\t<p>{p.content}</p>\r\n\t\t);\r\n\t});\r\n\treturn(\r\n\t\t<div className='content'>\r\n\t\t\t{parts}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nArticle.propTypes={\r\n\tloadItem: PropTypes.func,\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {\r\n\t\titem: s.item,\r\n\t\tloadingItem : s.loadingItem\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(articleSlug)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEM_REQ\r\n\t\t\t});\r\n\t\t\tconst url = '/api/article/get?slug=' + articleSlug\r\n\t\t\treturn fetch(url).then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\t\t\t\treturn {};\r\n\t\t\t}).then((item)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ArticleContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Article);\r\n\r\nexport default ArticleContainer;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {FaAngleLeft} from 'react-icons/fa';\r\n\r\nconst BackButton = ({link, className=''})=>{\r\n\tif(!link){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className={className}>\r\n\t\t\t<Link to={link}>\r\n\t\t\t\t<FaAngleLeft /> Back to list\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default BackButton;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Article from './Article';\r\nimport BackButton from '../components/BackButton';\r\n\r\nclass MainPage extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Article Single',this.props);\r\n\t\t//const {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='container py-5'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-8 m-auto'>\r\n\t\t\t\t\t\t<BackButton link={'/article'} className={'text-primary'}/>\r\n\t\t\t\t\t\t<Article slug={this.props.match.params.slug}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nexport const MainPageContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MainPage);\r\n\r\nexport default MainPageContainer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nexport const defineModule=(\r\n\ttitle,\r\n\tpath,\r\n\tcomponent,\r\n\treducer=(state={})=>state,\r\n\tchildren=null,\r\n\tonEnter=null,\r\n)=>{\r\n\treturn {title,path,component,reducer,onEnter,children}\r\n}\r\n\r\nexport const flatModules = modules => Object.keys(modules).map(x => {\r\n    const res = Array.isArray(modules[x]) ? modules[x] : [modules[x]];\r\n    res.forEach(y => y.MODULE = x)\r\n    return res\r\n}).reduce((c,n) => c.concat(n));\r\n\r\n// export const alertError = (options)=>{\r\n// \tReactDOM.createPortal(\r\n// \t\t<Alert severity=\"error\">This is an error alert — check it out!</Alert>,\r\n// \t\tdocument.getElementById('alert-error'));\r\n// }\r\n\r\n// function for uploading files to my PHP Cloud (cloud.javelin.uz). It is being used because of that Heroku Apps are not able to handle file uploading\r\nexport const fileUpload = (file, filename)=>{\r\n\tconsole.log('uploading', filename)\r\n\treturn new Promise((resolve, reject)=>{\r\n\t\tif(!filename){\r\n\t\t\treturn resolve({\r\n\t\t\t\tresult: 'success',\r\n\t\t\t\tmessage: 'no need for uploading to cloud'\r\n\t\t\t})\r\n\t\t}\r\n\t\tconst app = 'medium';\r\n\t\tconst url = \"https:/\\/cloud.javelin.uz/file-upload.php\";\r\n\r\n\t\tlet data = new FormData();\r\n\t\tdata.append('app', app);\r\n\t\tdata.append('filename', filename);\r\n\t\tdata.append('file', file);\r\n\r\n\t\tfetch(url, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: data,\r\n\t\t\theaders:{\r\n\t\t\t\t'Accept': 'application/json'\r\n\t\t\t}\r\n\t\t}).then((res)=>{\r\n\t\t\tif(res.ok){\r\n\t\t\t\tresolve(res.json());\r\n\t\t\t}\r\n\t\t\tresolve({\r\n\t\t\t\tresult: 'error',\r\n\t\t\t\tmessage: 'request to cloud failed'\r\n\t\t\t})\r\n\t\t}).catch((err)=>{\r\n\t\t\tconsole.error('Error on file uploading: ', err);\r\n\t\t\tresolve({\r\n\t\t\t\tresult: 'error',\r\n\t\t\t\tmessage: 'Error on file uploading: ' + err\r\n\t\t\t});\r\n\t\t});\r\n\t});\t\r\n}\r\n\r\n// Returns if a value is an object\r\nexport const isObject = (value) => {\r\n\treturn value && typeof value === 'object' && value.constructor === Object;\r\n}","import Router from './Router';\nimport {defineModule} from '../functions';\n\nconst actionPrefix='Dashboard/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\tshouldLoadItems:true,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\tshouldLoadItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Dashboard','/dashboard', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport Main from './main/Main';\nimport ArticleSingle from './article-single/ArticleSingle';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={Main} />\n\t\t\t<Route exact path={props.match.path+'/:slug'} component={ArticleSingle} />\n\t\t</div>\n\t);\n}\n\nexport default Router;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport ArticleItem from '../components/ArticleItem';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES} from '../index';\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\tconst {items, loadingItems}=this.props;\r\n\r\n\t\tif(loadingItems){\r\n\t\t\treturn(\r\n\t\t\t\t<div>Loading...</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tlet itemsToDisplay = items.map((article, i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<ArticleItem article={article} /> \r\n\t\t\t)\r\n\t\t});\r\n\t\treturn(\r\n\t\t\t<div className='row'>\r\n\t\t\t\t{itemsToDisplay}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {\r\n\t\titems: s.items,\r\n\t\tloadingItems: s.loadingItems,\r\n\t\tshouldLoadItems: s.shouldLoadItems\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/get').then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\t\t\t\treturn [];\r\n\t\t\t}).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default ListContainer;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport ArticlesList from './ArticlesList';\r\n\r\nclass MainPage extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\t//const {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='container py-5'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-8'>\r\n\t\t\t\t\t\tDashboard content\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-4'>\r\n\t\t\t\t\t\tcol-4\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nexport const MainPageContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MainPage);\r\n\r\nexport default MainPageContainer;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport Dashboard from '../../modules/Dashboard/main/Main';\r\n\r\nconst Home=(props)=>(\r\n\t<Dashboard />\r\n);\r\n\r\nHome.propTypes={\r\n\ttitle:PropTypes.string.isRequired\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport {Link} from 'react-router-dom'; \r\n\r\nconst Menu = (props)=>{\r\n    console.log('menu', props);\r\n    const {items}=props;\r\n    console.log('items', items);\r\n    const mainItems = items.map((it, i)=>{\r\n        let Icon = it.icon;\r\n        let icon = Icon ? (\r\n            <Icon />\r\n        ) : '';\r\n        return(\r\n            <li class=\"menu-item\">\r\n                <Link to={it.link} className={'item-link'}>\r\n                    <span class={\"link-icon \" + (it.iconClass ? it.iconClass : '')}>\r\n                        {icon}\r\n                    </span> \r\n                    <span class=\"link-text\">{it.text}</span>\r\n                </Link>\r\n            </li>\r\n        );\r\n    });\r\n    return(\r\n        <React.Fragment>\r\n            <div class=\"main-menu\">\r\n                <nav class=\"main-menu-wrap\">\r\n                    <ul class=\"menu-ul\">\r\n                        <li class=\"menu-item\"><span class=\"group-title\">Medicine</span></li>\r\n                        {mainItems}\r\n                        <li class=\"menu-item\"><span class=\"group-title\">Apps</span></li>\r\n                        <li class=\"menu-item has-sub\"><a class=\"item-link\" href=\"#\"><span class=\"link-text\">Service pages</span> <span class=\"link-caret icofont-thin-right\"></span></a>\r\n                            <ul class=\"sub\">\r\n                                <li class=\"menu-item\"><a class=\"item-link\" href=\"invoices.html\"><span class=\"link-text\">Invoices</span></a></li>\r\n                                <li class=\"menu-item\"><a class=\"item-link\" href=\"pricing.html\"><span class=\"link-text\">Pricing</span></a></li>\r\n                                <li class=\"menu-item\"><a class=\"item-link\" href=\"edit-account.html\"><span class=\"link-text\">Edit account</span></a></li>\r\n                                <li class=\"menu-item\"><a class=\"item-link\" href=\"user-profile.html\"><span class=\"link-text\">User profile</span></a></li>\r\n                                <li class=\"menu-item\"><a class=\"item-link\" href=\"events-timeline.html\"><span class=\"link-text\">Events timeline</span></a></li>\r\n                            </ul>\r\n                        </li>\r\n                        <li class=\"menu-item has-sub\"><a class=\"item-link\" href=\"#\"><span class=\"link-text\">Sessions</span> <span class=\"link-caret icofont-thin-right\"></span></a>\r\n                            <ul class=\"sub\">\r\n                                <li class=\"menu-item\"><a class=\"item-link\" href=\"sign-in.html\"><span class=\"link-text\">Sign in</span></a></li>\r\n                                <li class=\"menu-item\"><a class=\"item-link\" href=\"sign-up.html\"><span class=\"link-text\">Sign up</span></a></li>\r\n                                <li class=\"menu-item\"><a class=\"item-link\" href=\"page-404.html\"><span class=\"link-text\">404</span></a></li>\r\n                                <li class=\"menu-item\"><a class=\"item-link\" href=\"page-500.html\"><span class=\"link-text\">500</span></a></li>\r\n                            </ul>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n            <div class=\"add-patient\">\r\n                <Link to={'/patient/register'} class={\"btn btn-primary\"} data-toggle=\"modal\" data-target=\"#add-patient\">\r\n                    <span class=\"btn-icon icofont-plus mr-2\"></span> \r\n                    Add Patient\r\n                </Link>\r\n            </div>\r\n            <div class=\"assistant-menu\"><a class=\"link\" href=\"#\"><span class=\"link-icon icofont-ui-settings\"></span>Settings </a><a class=\"link\" href=\"#\"><span class=\"link-icon icofont-question-square\"></span>FAQ &amp; Support</a></div>\r\n        </React.Fragment>\r\n    );\r\n} \r\n\r\nexport default Menu;\r\n\r\n","import React from 'react';\r\nimport {\r\n    MdNotifications\r\n} from 'react-icons/md';\r\nimport {\r\n    FiGrid as DashboardIcon\r\n} from 'react-icons/fi';\r\n\r\nimport '../styles/layout.css';\r\n\r\nimport Menu from './Menu';\r\n\r\nconst route='';\r\nconst menuItems = [{\r\n    text:'Dashboard',\r\n    accessRightTitle:'Dashboard',\r\n    link:route + '/',\r\n    icon:DashboardIcon\r\n},{\r\n    text:'Appointments',\r\n    accessRightTitle:'Appointments',\r\n    link:route+'/appointments',\r\n    iconClass: 'icofont-stethoscope-alt'\r\n},{\r\n    text:'Doctors',\r\n    accessRightTitle:'Doctors',\r\n    link:route+'/doctors',\r\n    iconClass: 'icofont-doctor'\r\n},{\r\n    text:'Patients',\r\n    accessRightTitle:'Patients',\r\n    link:route+'/patient',\r\n    iconClass: 'icofont-paralysis-disability'\r\n}];\r\n\r\nconst Layout = (props) => {\r\n    return (\r\n        <div class=\"page-box\">\r\n            <div class=\"app-container\">\r\n                <div id=\"navbar1\" class=\"app-navbar horizontal\">\r\n                    <div class=\"navbar-wrap\">\r\n                        <button class=\"no-style navbar-toggle navbar-open d-lg-none\">\r\n                            <span></span>\r\n                            <span></span>\r\n                            <span></span>\r\n                        </button>\r\n                        <div class=\"app-actions\">\r\n                            <div class=\"dropdown item\">\r\n                                <button class=\"no-style\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" data-offset=\"0, 10\">\r\n                                    <span class=\"d-flex align-items-center\">\r\n                                        <img src=\"/user.jpg\" alt=\"\" class=\"rounded-500 mr-1\" width='40' height='40'/> \r\n                                        <i class=\"icofont-simple-down\"></i>\r\n                                    </span>\r\n                                </button>\r\n                                <div class=\"dropdown-menu dropdown-menu-right dropdown-menu-w-180\">\r\n                                    <ul class=\"list\">\r\n                                        <li><a href=\"#\" class=\"align-items-center\"><span class=\"icon icofont-ui-home\"></span> Edit account</a></li>\r\n                                        <li><a href=\"#\" class=\"align-items-center\"><span class=\"icon icofont-ui-user\"></span> User profile</a></li>\r\n                                        <li><a href=\"#\" class=\"align-items-center\"><span class=\"icon icofont-ui-calendar\"></span> Calendar</a></li>\r\n                                        <li><a href=\"#\" class=\"align-items-center\"><span class=\"icon icofont-ui-settings\"></span> Settings</a></li>\r\n                                        <li><a href=\"#\" class=\"align-items-center\"><span class=\"icon icofont-logout\"></span> Log Out</a></li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"navbar2\" class=\"app-navbar vertical\">\r\n                    <div class=\"navbar-wrap\"><button class=\"no-style navbar-toggle navbar-close icofont-close-line d-lg-none\"></button>\r\n                        <div class=\"app-logo\">\r\n                            <div class=\"logo-wrap\">\r\n                                <img src=\"./assets/img/logo.png\" alt=\"\" width=\"147\" height=\"33\" class=\"logo-img\" />\r\n                            </div>\r\n                        </div>\r\n                        <Menu items={menuItems} />\r\n                    </div>\r\n                </div>\r\n                <main class=\"main-content\">\r\n                    {props.children}\r\n                </main>\r\n                <div class=\"app-footer\">\r\n                    <div class=\"footer-wrap\">\r\n                        <div class=\"row h-100 align-items-center\">\r\n                            <div class=\"col-12 col-md-6 d-none d-md-block\">\r\n                                <ul class=\"page-breadcrumbs\">\r\n                                    <li class=\"item\"><a href=\"#\" class=\"link\">Dashboards</a> <i class=\"separator icofont-thin-right\"></i></li>\r\n                                    <li class=\"item\"><a href=\"#\" class=\"link\">Default</a> <i class=\"separator icofont-thin-right\"></i></li>\r\n                                </ul>\r\n                            </div>\r\n                            <div class=\"col-12 col-md-6 text-right\">\r\n                                <div class=\"d-flex align-items-center justify-content-center justify-content-md-end\"><span>Version 1.0.0</span> <button class=\"no-style ml-2 settings-btn\" data-toggle=\"modal\" data-target=\"#settings\"><span class=\"icon icofont-ui-settings text-primary\"></span></button></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"content-overlay\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Layout;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Home from '../components/Home';\r\nimport Layout from '../components/Layout';\r\n\r\nconst App=(props)=>{\r\n\tconsole.log('App', props);\r\n\tconst routes=props.routes.map((route,index) => {\r\n\t\tif(route.routes && route.routes.length){\r\n\t\t\treturn(\r\n\t\t\t\t<Route path={route.path} key={route.path} render={(props)=>{\r\n\t\t\t\t\treturn(\t\r\n\t\t\t\t\t\t<route.component {...props} title={route.title} routes={route.routes} />\r\n\t\t\t\t\t);\r\n\t\t\t\t}} />\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t        \t<Route path={route.path} key={route.path} component={route.component} />\r\n\t        );\r\n\t\t}\r\n    });\r\n\r\n\treturn(\r\n\t\t<Layout>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path={'/'} component={Home} />\r\n\t\t\t\t{routes}\r\n\t\t\t</Switch>\r\n\t\t</Layout>\r\n\t);\r\n}\r\n\r\nApp.propTypes={\r\n\troutes:PropTypes.array\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Provider} from 'react-redux';\r\nimport {BrowserRouter, Router, Route} from 'react-router-dom';\r\nimport {MuiPickersUtilsProvider} from '@material-ui/pickers';\r\n//import DateFnsUtils from '@date-io/date-fns';\r\n\r\nimport App from './App';\r\n\r\nconst Root=(props)=>{\r\n\treturn(\r\n\t\t<Provider store={props.store}>\r\n\t\t\t<BrowserRouter basename={'/lms-client'}>\r\n\t\t\t\t\t<App {...props} />\r\n\t\t\t</BrowserRouter>\r\n\t\t</Provider>\r\n\t);\r\n}\r\n\r\nRoot.propTypes={\r\n\thistory:PropTypes.object.isRequired,\r\n\troutes:PropTypes.array.isRequired,\r\n\tstore:PropTypes.object.isRequired\r\n}\r\n\r\nexport default Root;","import {createBrowserHistory} from 'history';\n\nconst history=createBrowserHistory();\n\nhistory.listen((location)=>{\n\tconsole.log('history is listening: '+location);\n\t// do some stuff\n});\n\nexport default history;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n\tselect:{\r\n\t\twidth: '100%'\r\n\t}\r\n}));\r\n\r\nconst SelectMenu=({\r\n\toptions = [], \r\n\tvalue,\r\n\tclassName, \r\n\tchangeHandler = (v)=>{},\r\n\tmultiple = false, // Boolean: whether multiple or not\r\n\titemType = 'simple', // String: represents view type of option items. Values: 'simple' || 'checkbox'\r\n\tlabel = ''\r\n})=>{\r\n\tconst [option, setOption] = React.useState(value ? value : (multiple ? [] : ''));\r\n\tconst classes = useStyles();\r\n\tconst inputLabel = React.useRef(null);\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t    setLabelWidth(inputLabel.current.offsetWidth);\r\n\t}, []);\r\n\r\n\tconst ITEM_HEIGHT = 48;\r\n\tconst ITEM_PADDING_TOP = 8;\r\n\tconst MenuProps = {\r\n\t  PaperProps: {\r\n\t    style: {\r\n\t      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n\t      width: 250,\r\n\t    },\r\n\t  },\r\n\t};\r\n\r\n\tconst handleChange = event => {\r\n\t\tconsole.log('changed', event.target.value);\r\n\t   \tsetOption(event.target.value);\r\n\t   \tchangeHandler(event.target.value);\r\n\t};\r\n\r\n\t// preparing menu items\r\n\tlet menuItems = '';\r\n\tif(itemType === 'checkbox'){\r\n\t\tmenuItems = options.map((option, i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={option._id}>\r\n\t\t\t\t  \t<Checkbox checked={option.indexOf(option._id) > -1} />\r\n\t\t\t\t  \t<ListItemText primary={option.name} />\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t})\r\n\t}\r\n\tif(itemType === 'simple'){\r\n\t\tmenuItems = options.map((th,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={th._id}>{th.name}</MenuItem>\r\n\t\t\t)\r\n\t\t});\r\n\t}\r\n\r\n\treturn(\r\n    \t<FormControl variant=\"outlined\" margin=\"normal\" className={classes.select + ' ' + className}>\r\n    \t    <InputLabel ref={inputLabel} id={\"demo-simple-select-outlined-label\"}>\r\n    \t        {label}\r\n    \t    </InputLabel>\r\n    \t    <Select\r\n\t          \tlabelId=\"demo-simple-select-outlined-label\"\r\n\t          \tid=\"demo-simple-select-outlined\"\r\n\t          \tname={'category'}\r\n\t          \tvalue={option}\r\n\t          \tonChange={handleChange}\r\n\t          \tlabelWidth={labelWidth}\r\n\t          \tmultiple={multiple}\r\n    \t    >\r\n    \t        {menuItems}\r\n    \t    </Select>\r\n    \t</FormControl>\r\n\t)\r\n}\r\n\r\nconst Options = ({items, value, itemType})=>{\r\n\tif(itemType === 'checkbox'){\r\n\t\treturn items.map((option, i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={option._id}>\r\n\t\t\t\t  \t<Checkbox checked={value.indexOf(option._id) > -1} />\r\n\t\t\t\t  \t<ListItemText primary={option.name} />\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t})\r\n\t}\r\n\r\n\tif(itemType === 'simple'){\r\n\t\treturn items.map((th,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<MenuItem key={i} value={th._id}>{th.name}</MenuItem>\r\n\t\t\t)\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default SelectMenu;","import React, {Fragment} from 'react';\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tFormControl\r\n} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst useStyles = makeStyles(theme=>({\r\n\tinput:{\r\n\t\twidth: '100%'\r\n\t},\r\n\theader:{\r\n\t\tmarginBottom: theme.spacing(3)\r\n\t},\r\n\taddButton:{\r\n\t\tmarginTop: theme.spacing(2)\r\n\t}\r\n}));\r\n\r\nconst Paragraphs = ({items, changeHandler})=>{\r\n\tconst classes = useStyles();\r\n\tconst handler = (e)=>{\r\n\t\tlet result = [{\r\n\t\t\tcontent: e.target.value\r\n\t\t}];\r\n\t\tchangeHandler(result);\r\n\t}\r\n\treturn(\r\n\t\t<Fragment>\r\n\t\t\t<Typography component='h2' variant='h4' className={classes.header}>Main content</Typography>\r\n\t\t\t{items.map((p, i)=>(<Paragraph handler={handler} defaultValue={p.content}/>))}\r\n\t\t\t<Box textAlign='center'>\r\n\t\t\t\t<Fab variant='extended' color='primary' aria-label='add' size='small' className={classes.addButton}>\r\n\t\t\t\t\t<AddIcon /> \r\n\t\t\t\t\tmore paragraph \r\n\t\t\t\t</Fab>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nconst Paragraph = ({defaultValue='', handler})=>{\r\n\tconst classes = useStyles();\r\n\treturn(\r\n\t\t<TextField\r\n    \t\tvariant=\"outlined\"\r\n          \tid=\"outlined-multiline-static\"\r\n          \tmultiline\r\n          \trows=\"8\"\r\n          \tdefaultValue={defaultValue}\r\n          \tclassName={classes.input}\r\n          \tonChange={handler}\r\n        />\r\n\t);\r\n}\r\n\r\nexport default Paragraphs;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {SET_TITLE} from './index';\r\n\r\nconst withTitle=(Component)=>(title)=>{\r\n\t//console.log('with title', Component);\r\n\tconst ComponentWithTitle=(props)=>{\r\n\t\tprops.setTitle(title);\r\n\r\n\t\treturn(\r\n\t\t\t<Component />\r\n\t\t);\r\n\t}\r\n\r\n\tconst mapDispatchToProps=dispatch=>({\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\treturn connect(null, mapDispatchToProps)(ComponentWithTitle);\r\n}\r\n\r\nexport default withTitle;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems}=this.props;\r\n\t\tif(!(items && items.length)){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Category List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tcolumnNames={['Name']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id:item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttext: item.name\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/categories'}\r\n\t\t\t\t\theader={header}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Category'}\r\n\t\t\t\t\tsearchBoxPlaceholder={'search category'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Category\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/category/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Categories');","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Route, Link, Redirect} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport {\n\tButton,\n\tLinearProgress,\n\tCircularProgress\n} from '@material-ui/core';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\n\nimport Title from '../components/Title';\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES, SAVE_REQ, SAVE_RES} from './index';\nimport {SET_TITLE} from '../index';\n\nconst useStyles = makeStyles(theme => ({\n  \tcontainer: {\n    \tpaddingTop: theme.spacing(4),\n    \tpaddingBottom: theme.spacing(4),\n  \t},\n  \tpaper: {\n\t    padding: theme.spacing(2),\n\t    display: 'flex',\n\t    overflow: 'auto',\n\t    flexDirection: 'column',\n  \t},\n  \ttextField: {\n      \twidth: '100%'\n    },\n    themesSelect:{\n    \twidth:'100%'\n    },\n    button:{\n    \tfloat:'right'\n    }\n}));\n\nexport function FormCard({item, match, themes, update, action, saving}) {\n  \tconst classes = useStyles();\n  \tconst [redirect, setRedirect]=React.useState('');\n\n  \tconst submitHandler=e=>{\n  \t\tvar inputs=e.target.elements;\n  \t\tvar data={\n  \t\t\tname:inputs.name.value\n  \t\t}\n  \t\tif(action==='edit'){\n  \t\t\tdata.id=match.params.itemId;\t\n  \t\t}\n\n  \t\tupdate(data).then((json)=>{\n  \t\t\tif(json.result==='success'){\n  \t\t\t\tsetRedirect('/admin/categories');\n  \t\t\t}\n  \t\t});\n  \t\t\n  \t\te.preventDefault();\n  \t}\n\n  \tif(redirect){\n  \t\tconsole.log('redirecting',redirect);\n  \t\treturn(\n  \t\t\t<Redirect to={redirect} />\n  \t\t);\n  \t}\n\n  \treturn (\n\t    <Container maxWidth=\"lg\" className={classes.container}>\n\t      \t<Grid container spacing={3}>\n\t      \t\t<Grid item xs={6}>\n\t      \t\t\t<Link to={'/admin/categories'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\n\t      \t\t</Grid>\n\t        \t<Grid item xs={12}>\n\t          \t\t<Paper className={classes.paper}>\n\t\t\t\t\t    <form onSubmit={submitHandler}>\n\t\t\t\t\t    \t<Grid container spacing={3} >\n\t\t\t\t\t\t    \t<Grid item sm={12}>\n\t\t\t\t\t\t\t    \t<TextField\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\n\t\t\t\t\t    \t          \tclassName={classes.textField}\n\t\t\t\t\t    \t          \tlabel={\"Category name\"}\n\t\t\t\t\t    \t         \tmargin=\"normal\"\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\n\t\t\t\t\t    \t          \tname='name'\n\t\t\t\t\t    \t          \tdefaultValue={item.name}\n\t\t\t\t\t    \t          \trequired\n\t\t\t\t\t    \t        />\n\t\t\t\t\t    \t    </Grid>\n\t    \t            \t    <Grid item sm={12}>\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\n\t\t    \t            \t    </Button>\n\t\t    \t            \t</Grid>\n\t    \t            \t</Grid>\n\t\t\t\t    \t</form>\n\t           \t\t</Paper>\n\t         \t</Grid>\n\t       \t</Grid>\n\t    </Container>\n  \t);\n}\n\nclass Form extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\taction:''\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tconst {loadItem, match, setTitle}=this.props;\n\t\tif(match.params.itemId){\n\t\t\tthis.setState({action:'edit'});\n\t\t\tsetTitle('Edit category');\n\t\t\tloadItem(match.params.itemId);\n\t\t}else{\n\t\t\tthis.setState({action:'add'});\n\t\t\tsetTitle('Add category');\n\t\t}\n\t\t\n\t}\n\trender(){\n\t\tconsole.log('Edit Request',this.props);\n\t\tconst {match, item, themes, update, loadingItem, saving}=this.props;\n\t\tconst {action}=this.state;\n\t\tif(!loadingItem){\n\t\t\treturn(\n\t\t\t\t<FormCard action={action} item={action=='edit'?item:{}} match={match} themes={themes} update={update} saving={saving}/>\n\t\t\t);\n\t\t}else{\n\t\t\treturn(\n\t\t\t\t<LinearProgress />\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps=(state)=>{\n\tconst s=state.Admin.Category\n\treturn {\n\t\titems:s.items,\n\t\titem:s.item,\n\t\tloadingItem:s.loadingItem,\n\t\tsaving:s.saving\n\t}\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n\treturn {\n\t\tloadItem:(itemId)=>{\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\n\t\t\treturn fetch('/api/category/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:LOAD_ITEM_RES,\n\t\t\t\t\tpayload:{\n\t\t\t\t\t\titem:json\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetTitle:(title)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SET_TITLE,\n\t\t\t\tpayload:title\n\t\t\t});\n\t\t},\n\t\tupdate:(data)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SAVE_REQ\n\t\t\t});\n\t\t\treturn fetch('/api/category/store',{\n\t\t\t\tmethod:'POST',\n\t\t\t\tbody:JSON.stringify(data),\n\t\t\t\theaders: {\n\t\t\t        'Accept': 'application/json',\n\t\t\t        'Content-Type': 'application/json'\n\t\t\t    }\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:SAVE_RES,\n\t\t\t\t\tpayload:{\n\t\t\t\t\t\titem:json.data,\n\t\t\t\t\t\tresult:json.result\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn json;\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst ListContainer=connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Form);\n\nexport default ListContainer;","import Router from './Router';\nimport {defineModule} from '../../functions';\n\nconst actionPrefix='Admin/Category/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Categories','/categories', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={List} />\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems}=this.props;\r\n\t\tif(!(items && items.length)){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Category List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tcolumnNames={['Author', 'Name']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id:item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\t\t\t\turl: item.image.url,\r\n\t\t\t\t\t\t\t\twidth: '60px'\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.name\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/authors'}\r\n\t\t\t\t\theader={header}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Author'}\r\n\t\t\t\t\tsearchBoxPlaceholder={'search category'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Author\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/author/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/author/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Authors');","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Route, Link, Redirect} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport {\n\tButton,\n\tLinearProgress,\n\tCircularProgress,\n\tBox\n} from '@material-ui/core';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\n\nimport Title from '../components/Title';\nimport {fileUpload} from '../../functions';\n\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES, SAVE_REQ, SAVE_RES} from './index';\nimport {SET_TITLE} from '../index';\n\nconst useStyles = makeStyles(theme => ({\n  \tcontainer: {\n    \tpaddingTop: theme.spacing(4),\n    \tpaddingBottom: theme.spacing(4),\n  \t},\n  \tpaper: {\n\t    padding: theme.spacing(2),\n\t    display: 'flex',\n\t    overflow: 'auto',\n\t    flexDirection: 'column',\n  \t},\n  \ttextField: {\n      \twidth: '100%'\n    },\n    themesSelect:{\n    \twidth:'100%'\n    },\n    button:{\n    \tfloat:'right'\n    }\n}));\n\nexport function FormCard({item, match, themes, update, action, saving}) {\n  \tconst classes = useStyles();\n  \tconst [redirect, setRedirect]=React.useState('');\n  \tconst [firstname, setFirstname] = React.useState(item.firstname);\n  \tconst [lastname, setLastname] = React.useState(item.lastname);\n  \tconst [description, setDescription] = React.useState(item.description);\n  \tconst [image, setImage] = React.useState(null);\n\n  \tconst submitHandler=e=>{\n  \t\tlet data = new FormData();\n\n  \t\tdata.append('firstname', firstname);\n  \t\tdata.append('lastname', lastname);\n  \t\tdata.append('description', description);\n  \t\tdata.append('image', image);\n\n  \t\tif(action==='edit'){\n  \t\t\tdata.append('id', match.params.itemId);\t\n  \t\t}\n\n  \t\tupdate(data).then((json)=>{\n  \t\t\tif(json.result==='success'){\n  \t\t\t\tsetRedirect('/admin/authors');\n  \t\t\t}\n  \t\t});\n  \t\t\n  \t\te.preventDefault();\n  \t}\n\n  \tif(redirect){\n  \t\tconsole.log('redirecting',redirect);\n  \t\treturn(\n  \t\t\t<Redirect to={redirect} />\n  \t\t);\n  \t}\n\n  \treturn (\n\t    <Container maxWidth=\"lg\" className={classes.container}>\n\t      \t<Grid container spacing={3}>\n\t      \t\t<Grid item xs={6}>\n\t      \t\t\t<Link to={'/admin/authors'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\n\t      \t\t</Grid>\n\t        \t<Grid item xs={12}>\n\t          \t\t<Paper className={classes.paper}>\n\t\t\t\t\t    <form onSubmit={submitHandler}>\n\t\t\t\t\t    \t<Grid container spacing={3} >\n\t\t\t\t\t\t    \t<Grid item sm={6}>\n\t\t\t\t\t\t\t    \t<TextField\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\n\t\t\t\t\t    \t          \tclassName={classes.textField}\n\t\t\t\t\t    \t          \tlabel={\"Firstname\"}\n\t\t\t\t\t    \t         \tmargin=\"normal\"\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\n\t\t\t\t\t    \t          \tname='firstname'\n\t\t\t\t\t    \t          \tdefaultValue={firstname}\n\t\t\t\t\t    \t          \trequired\n\t\t\t\t\t    \t          \tonChange={e=>setFirstname(e.target.value)}\n\t\t\t\t\t    \t        />\n\t\t\t\t\t    \t    </Grid>\n\t\t\t\t\t    \t    <Grid item sm={6}>\n\t\t\t\t\t\t\t    \t<TextField\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\n\t\t\t\t\t    \t          \tclassName={classes.textField}\n\t\t\t\t\t    \t          \tlabel={\"Lastname\"}\n\t\t\t\t\t    \t         \tmargin=\"normal\"\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\n\t\t\t\t\t    \t          \tname='lastname'\n\t\t\t\t\t    \t          \tdefaultValue={lastname}\n\t\t\t\t\t    \t          \trequired\n\t\t\t\t\t    \t          \tonChange={e=>setLastname(e.target.value)}\n\t\t\t\t\t    \t        />\n\t\t\t\t\t    \t    </Grid>\n        \t            \t    <Grid item xs={12}>\n        \t            \t    \t<Image image={item.image} />\n    \t    \t            \t    <Button\n    \t    \t            \t      variant=\"contained\"\n    \t    \t            \t      component=\"label\"\n    \t    \t            \t    >\n    \t    \t            \t      \tUpload image\n    \t    \t            \t      \t<input\n    \t\t    \t            \t        type=\"file\"\n    \t\t    \t            \t        style={{ display: \"none\" }}\n    \t\t    \t            \t        onChange={(e)=>{setImage(e.target.files[0])}}\n    \t    \t            \t      \t/>\n        \t            \t    \t</Button>\n        \t            \t    </Grid>\n\t    \t            \t    <Grid item sm={12}>\n\t    \t            \t    \t<TextField\n\t    \t            \t    \t\tvariant=\"outlined\"\n\t            \t    \t          \tid=\"outlined-multiline-static\"\n\t            \t    \t          \tlabel=\"Description\"\n\t            \t    \t          \tmultiline\n\t            \t    \t          \trows=\"4\"\n\t            \t    \t          \tdefaultValue={description}\n\t            \t    \t          \tclassName={classes.textField}\n\t            \t    \t          \tonChange={(e)=>{setDescription(e.target.value)}}\n\t            \t    \t        />\n\t    \t            \t    </Grid>\n\t    \t            \t    <Grid item sm={12}>\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\n\t\t    \t            \t    </Button>\n\t\t    \t            \t</Grid>\n\t    \t            \t</Grid>\n\t\t\t\t    \t</form>\n\t           \t\t</Paper>\n\t         \t</Grid>\n\t       \t</Grid>\n\t    </Container>\n  \t);\n}\n\nconst Image = ({image})=>{\n\tif(!image){\n\t\treturn '';\n\t}\n\treturn(\n\t\t<Box width={60}>\n\t\t\t<img src={image.url}  />\n\t\t</Box>\n\t)\n}\n\nclass Form extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\taction:''\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tconst {loadItem, match, setTitle}=this.props;\n\t\tif(match.params.itemId){\n\t\t\tthis.setState({action:'edit'});\n\t\t\tsetTitle('Edit category');\n\t\t\tloadItem(match.params.itemId);\n\t\t}else{\n\t\t\tthis.setState({action:'add'});\n\t\t\tsetTitle('Add category');\n\t\t}\n\t\t\n\t}\n\trender(){\n\t\tconsole.log('Edit Request',this.props);\n\t\tconst {match, item, themes, update, loadingItem, saving}=this.props;\n\t\tconst {action}=this.state;\n\t\tif(!loadingItem){\n\t\t\treturn(\n\t\t\t\t<FormCard action={action} item={action=='edit'?item:{}} match={match} themes={themes} update={update} saving={saving}/>\n\t\t\t);\n\t\t}else{\n\t\t\treturn(\n\t\t\t\t<LinearProgress />\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps=(state)=>{\n\tconst s=state.Admin.Author\n\treturn {\n\t\titems:s.items,\n\t\titem:s.item,\n\t\tloadingItem:s.loadingItem,\n\t\tsaving:s.saving\n\t}\n}\n\nconst mapDispatchToProps=(dispatch)=>{\n\treturn {\n\t\tloadItem:(itemId)=>{\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\n\t\t\treturn fetch('/api/author/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\tdispatch({\n\t\t\t\t\ttype:LOAD_ITEM_RES,\n\t\t\t\t\tpayload:{\n\t\t\t\t\t\titem:json\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetTitle:(title)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SET_TITLE,\n\t\t\t\tpayload:title\n\t\t\t});\n\t\t},\n\t\tupdate:(data)=>{\n\t\t\tdispatch({\n\t\t\t\ttype:SAVE_REQ\n\t\t\t});\n\t\t\treturn fetch('/api/author/store',{\n\t\t\t\tmethod:'POST',\n\t\t\t\tbody:data\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\n\t\t\t\treturn fileUpload(data.get('image'), json.filename).then((uploadResponse)=>{\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype:SAVE_RES,\n\t\t\t\t\t\tpayload:{\n\t\t\t\t\t\t\titem:json.data,\n\t\t\t\t\t\t\tresult:json.result\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn json;\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst ListContainer=connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Form);\n\nexport default ListContainer;","import Router from './Router';\nimport {defineModule} from '../../functions';\n\nconst actionPrefix='Admin/Author/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Authors','/authors', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={List} />\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link, Redirect} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {\r\n\tGrid,\r\n\tBox\r\n} from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\tButton,\r\n\tLinearProgress,\r\n\tCircularProgress\r\n} from '@material-ui/core';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\n\r\nimport Title from '../components/Title';\r\nimport Selectmenu from '../components/Selectmenu';\r\nimport Paragraphs from './components/Paragraphs';\r\nimport {\r\n\tfileUpload,\r\n\tisObject\r\n} from '../../functions'; \r\n\r\nimport {\r\n\tLOAD_ITEM_REQ, \r\n\tLOAD_ITEM_RES, \r\n\tSAVE_REQ, \r\n\tSAVE_RES\r\n} from './index';\r\nimport {\r\n\tLOAD_ITEMS_REQ as LOAD_CATEGORIES_REQ, \r\n\tLOAD_ITEMS_RES as LOAD_CATEGORIES_RES\r\n} from '../Category';\r\nimport {\r\n\tLOAD_ITEMS_REQ as LOAD_AUTHORS_REQ,\r\n\tLOAD_ITEMS_RES as LOAD_AUTHORS_RES\r\n} from '../Author';\r\nimport {SET_TITLE} from '../index';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \tcontainer: {\r\n    \tpaddingTop: theme.spacing(4),\r\n    \tpaddingBottom: theme.spacing(4),\r\n  \t},\r\n  \tpaper: {\r\n\t    padding: theme.spacing(2),\r\n\t    display: 'flex',\r\n\t    overflow: 'auto',\r\n\t    flexDirection: 'column',\r\n  \t},\r\n  \ttextField: {\r\n      \twidth: '100%'\r\n    },\r\n    button:{\r\n    \tfloat:'right'\r\n    }\r\n}));\r\n\r\nexport function FormCard({item, match, categories = [], authors = [], update, action, saving}) {\r\n  \tconst classes = useStyles();\r\n  \tconst [redirect, setRedirect]=React.useState('');\r\n  \tconst [title, setTitle] = React.useState(item.title);\r\n  \tconst [category, setCategory] = React.useState(item.category || []);\r\n  \tconst [author, setAuthor] = React.useState(item.author ? (isObject(item.author) ? item.author._id : item.author) : '');\r\n  \tconst [subtitle, setSubtitle] = React.useState(item.subtitle || '');\r\n  \tconst [paragraphs, setParagraphs] = React.useState(item.paragraphs || [{content:''}]);\r\n  \tconst [image, setImage] = React.useState(null);\r\n\r\n  \tconst submitHandler=e=>{\r\n  \t\tvar inputs=e.target.elements;\r\n  \t\tvar data= new FormData();\r\n\r\n  \t\tdata.append('title', title);\r\n  \t\tdata.append('subtitle', subtitle);\r\n  \t\tdata.append('category', JSON.stringify(category));\r\n  \t\tdata.append('author', author);\r\n  \t\tdata.append('paragraphs', JSON.stringify(paragraphs));\r\n  \t\tdata.append('image', image);\r\n\r\n  \t\tif(action==='edit'){\r\n  \t\t\tdata.append('id', match.params.itemId);\t\r\n  \t\t}\r\n\r\n  \t\tupdate(data).then((json)=>{\r\n  \t\t\tif(json.result!=='success'){\r\n  \t\t\t\t// do something if saving was unsuccessful\r\n  \t\t\t}\r\n\t\t\tfileUpload(image, json.filename).then((uploadResponse)=>{\r\n\t\t\t\tif(uploadResponse.result !== 'success'){\r\n\t\t\t\t\t// do something if file uploading was unsuccessful\t\r\n\t\t\t\t}\r\n\t\t\t\tsetRedirect('/admin/articles');\r\n\t\t\t});\r\n  \t\t});\r\n  \t\t\r\n  \t\te.preventDefault();\r\n  \t}\r\n\r\n  \tif(redirect){\r\n  \t\tconsole.log('redirecting',redirect);\r\n  \t\treturn(\r\n  \t\t\t<Redirect to={redirect} />\r\n  \t\t);\r\n  \t}\r\n\r\n  \treturn (\r\n\t    <Container maxWidth=\"lg\" className={classes.container}>\r\n\t      \t<Grid container spacing={3}>\r\n\t      \t\t<Grid item xs={6}>\r\n\t      \t\t\t<Link to={'/admin/articles'}><Button variant='contained' color='primary'><ChevronLeft /> Back to list</Button></Link>\r\n\t      \t\t</Grid>\r\n\t        \t<Grid item xs={12}>\r\n\t          \t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t    <form onSubmit={submitHandler}>\r\n\t\t\t\t\t    \t<Grid container spacing={3} >\r\n\t\t\t\t\t\t    \t<Grid item sm={6}>\r\n\t\t\t\t\t\t\t    \t<TextField\r\n\t\t\t\t\t    \t          \tid=\"outlined-basic\"\r\n\t\t\t\t\t    \t          \tclassName={classes.textField}\r\n\t\t\t\t\t    \t          \tlabel={\"Title\"}\r\n\t\t\t\t\t    \t         \tmargin=\"normal\"\r\n\t\t\t\t\t    \t          \tvariant=\"outlined\"\r\n\t\t\t\t\t    \t          \tname='title'\r\n\t\t\t\t\t    \t          \tdefaultValue={title}\r\n\t\t\t\t\t    \t          \trequired\r\n\t\t\t\t\t    \t          \tonChange={(e)=>{setTitle(e.target.value)}}\r\n\t\t\t\t\t    \t        />\r\n\t\t\t\t\t    \t    </Grid>\r\n\t\t\t\t\t    \t    <Grid item sm={6}>\r\n\t    \t        \t\t    \t<Selectmenu \r\n\t    \t        \t\t    \t\toptions={categories} \r\n\t    \t        \t\t    \t\tvalue={category.map((c, i)=>(c._id))} \r\n\t    \t        \t\t    \t\tclassName={classes.selectCategory} \r\n\t    \t        \t\t    \t\tmultiple={true}\r\n\t    \t        \t\t    \t\tchangeHandler={(val)=>setCategory(val)}\r\n\t    \t        \t\t    \t\tlabel = {\"Category\"}\r\n\t    \t        \t\t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={6}>\r\n\t    \t        \t\t    \t<Selectmenu \r\n\t    \t        \t\t    \t\toptions={authors} \r\n\t    \t        \t\t    \t\tvalue={author} \r\n\t    \t        \t\t    \t\tclassName={classes.selectCategory}\r\n\t    \t        \t\t    \t\tchangeHandler={setAuthor}\r\n\t    \t        \t\t    \t\tlabel = {\"Author\"}\r\n\t    \t        \t\t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item xs={6}>\r\n\t    \t            \t    \t<Image image={item.image} />\r\n\t\t    \t            \t    <Button\r\n\t\t    \t            \t      variant=\"contained\"\r\n\t\t    \t            \t      component=\"label\"\r\n\t\t    \t            \t    >\r\n\t\t    \t            \t      \tUpload image\r\n\t\t    \t            \t      \t<input\r\n\t\t\t    \t            \t        type=\"file\"\r\n\t\t\t    \t            \t        style={{ display: \"none\" }}\r\n\t\t\t    \t            \t        onChange={(e)=>{setImage(e.target.files[0])}}\r\n\t\t    \t            \t      \t/>\r\n\t    \t            \t    \t</Button>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<TextField\r\n\t    \t            \t    \t\tvariant=\"outlined\"\r\n\t            \t    \t          \tid=\"outlined-multiline-static\"\r\n\t            \t    \t          \tlabel=\"Subtitle\"\r\n\t            \t    \t          \tmultiline\r\n\t            \t    \t          \trows=\"2\"\r\n\t            \t    \t          \tdefaultValue={subtitle}\r\n\t            \t    \t          \tclassName={classes.textField}\r\n\t            \t    \t          \tonChange={(e)=>{setSubtitle(e.target.value)}}\r\n\t            \t    \t        />\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t    \t            \t    \t<Paragraphs \r\n\t    \t            \t    \t\titems={paragraphs}\r\n\t    \t            \t    \t\tchangeHandler={(val)=>setParagraphs(val)} \r\n\t    \t            \t    \t/>\r\n\t    \t            \t    </Grid>\r\n\t    \t            \t    <Grid item sm={12}>\r\n\t\t    \t            \t    <Button type='submit' variant=\"contained\" color=\"primary\" className={classes.button} disabled={saving}>\r\n\t\t    \t            \t        {saving ? <CircularProgress size={'1rem'} /> : 'Save'}\r\n\t\t    \t            \t    </Button>\r\n\t\t    \t            \t</Grid>\r\n\t    \t            \t</Grid>\r\n\t\t\t\t    \t</form>\r\n\t           \t\t</Paper>\r\n\t         \t</Grid>\r\n\t       \t</Grid>\r\n\t    </Container>\r\n  \t);\r\n}\r\n\r\nclass Form extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taction:this.props.match.params.itemId ? 'edit' : 'add'\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {loadItem, match, setTitle, loadCategories, categories, loadAuthors, authors}=this.props;\r\n\t\tif(match.params.itemId){\r\n\t\t\tsetTitle('Edit article');\r\n\t\t\tloadItem(match.params.itemId);\r\n\t\t}else{\r\n\t\t\tsetTitle('Add article');\r\n\t\t}\r\n\t\t\r\n\t\tif(!categories.length){\r\n\t\t\tloadCategories();\r\n\t\t}\r\n\r\n\t\tif(!authors.length){\r\n\t\t\tloadAuthors();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Edit item',this.props);\r\n\t\tconst {match, item, update, loadingItem, saving, categories, authors}=this.props;\r\n\t\tconst {action}=this.state;\r\n\t\t\r\n\t\tif(loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<LinearProgress />\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t<FormCard \r\n\t\t\t\taction={action} \r\n\t\t\t\titem={action==='edit'?item:{}} \r\n\t\t\t\tmatch={match} \r\n\t\t\t\tcategories={categories}\r\n\t\t\t\tauthors={authors}\r\n\t\t\t\tupdate={update} \r\n\t\t\t\tsaving={saving}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Image = ({image})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<Box width={300}>\r\n\t\t\t<img src={image.url}  />\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Article;\r\n\tconst c=state.Admin.Category;\r\n\tconst a=state.Admin.Author;\r\n\treturn {\r\n\t\titems:s.items,\r\n\t\titem:s.item,\r\n\t\tloadingItem:s.loadingItem,\r\n\t\tsaving:s.saving,\r\n\t\tcategories:c.items,\r\n\t\tauthors: a.items\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(itemId)=>{\r\n\t\t\tdispatch({type:LOAD_ITEM_REQ});\r\n\t\t\treturn fetch('/api/article/get?id='+itemId).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTitle:(title)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SET_TITLE,\r\n\t\t\t\tpayload:title\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdate:(data)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SAVE_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/store',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:data,\r\n\t\t\t\t// headers:{\r\n\t\t\t\t// \t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t// }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SAVE_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem:json.data,\r\n\t\t\t\t\t\tresult:json.result\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn json;\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadCategories:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_CATEGORIES_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/category/get').then((res)=>res.ok?res.json():[]).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_CATEGORIES_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadAuthors:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOAD_AUTHORS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/author/get').then((res)=>res.ok ? res.json() : []).then((authors)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: LOAD_AUTHORS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems: authors\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Form);\r\n\r\nexport default ListContainer;","import Router from './Router';\nimport {defineModule} from '../../functions';\n\nconst actionPrefix='Admin/Article/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\tshouldLoadItems:true,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\tshouldLoadItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Articles','/articles', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={List} />\n\t\t\t<Route exact path={props.match.path+'/edit/:itemId'} component={Form} />\n\t\t\t<Route exact path={props.match.path+'/add'} component={Form} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES, DELETE_RES} from './index';\r\nimport {ALERT} from '../index'; \r\nimport withTitle from '../withTitle';\r\n\r\nconst TableList = lazy(()=>import('../components/TableList'));\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\tconst {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<Suspense fallback={'Loading...'}>\r\n\t\t\t\t<TableList\r\n\t\t\t\t\tloading={loadingItems}\r\n\t\t\t\t\tcolumnNames={['Article', 'Title', 'Category', 'Author']}\r\n\t\t\t\t\trows={items.map((item, i)=>{\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t_id: item._id,\r\n\t\t\t\t\t\t\tcolumns:[{\r\n\t\t\t\t\t\t\t\ttype:'image',\r\n\t\t\t\t\t\t\t\turl: item.image ? item.image.url : ''\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.title\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.category.map((c,i)=>c.name).join(',')\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\ttext: item.author ? item.author.name : 'Blogger'\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tpath={match ? match.path : '/admin/articles'}\r\n\t\t\t\t\tonDelete={onDelete}\r\n\t\t\t\t\taddItemText={'Add Article'}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Admin.Article;\r\n\treturn {\r\n\t\t...s\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/get').then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ALERT,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\ttype:'error',\r\n\t\t\t\t\t\ttext: 'Connection with server failed...'\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn [];\r\n\t\t\t}).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDelete:(deleteId)=>{\r\n\t\t\tvar b={\r\n\t\t\t\tid:deleteId\r\n\t\t\t}\r\n\t\t\treturn fetch('/api/article/delete',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify(b),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.ok?res.json():{}).then((json)=>{\r\n\t\t\t\tif(json.result && json.result==='success'){\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype:DELETE_RES,\r\n\t\t\t\t\t\tpayload:{item:json.data}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default withTitle(ListContainer)('Articles');","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\nimport {ListContainer as ArticlesList} from '../Article/List';\r\nimport {SET_TITLE} from '../index';\r\nimport withTitle from '../withTitle';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  }\r\n}));\r\n\r\nconst Dashboard = (props)=>{\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  console.log('Dashboard',props);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ArticlesList header={\"Articles\"} />\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Paper className={classes.paper}>\r\n              Some Dashboard Content\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nDashboard.propTypes = {\r\n\r\n}\r\n\r\nexport default Dashboard;","import Dashboard from './Dashboard';\r\nimport {defineModule} from '../../functions';\r\n\r\nconst FIRST_ACTION='Dashboard/FirstAction';\r\n\r\nexport const reducer=(state={name:'DEFAULT'}, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase FIRST_ACTION:\r\n\t\t\treturn {name:'Javlonbek'}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default defineModule('Dashboard', '/', Dashboard, reducer);","import React from 'react';\r\nimport RactDOM from 'react-dom';\r\nimport {connect} from 'react-redux'\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport {Collapse} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nimport {ALERT_CLOSE} from '../index';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n\tcollapse:{\r\n\t\tposition:'absolute',\r\n\t\ttop: '0.8rem',\r\n\t\tright:'0.8rem',\r\n\t\tzIndex:9999\r\n\t}\r\n}))\r\n\r\nconst CustomAlert =({type, text, close, open})=>{\r\n\tconst classes=useStyles();\r\n\tconsole.log('alert rendering', open);\r\n\tif(!type){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tsetTimeout(()=>close(), 5000);\r\n\r\n\treturn(\r\n\t\t<Collapse in={open} className={classes.collapse} >\r\n\t\t\t<Alert severity={type} onClose={()=>close()}>{text.toString()}</Alert>\r\n\t\t</Collapse>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state=>{\r\n\treturn {\r\n\t\t...state.Admin.alert\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n\treturn{\r\n\t\tclose:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:ALERT_CLOSE\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst CustomAlertContainer = connect(mapStateToProps, mapDispatchToProps)(CustomAlert);\r\n\r\nexport default CustomAlertContainer;\r\n\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport {\r\n  Layers as LayersIcon,\r\n  ExitToApp as LogOutIcon\r\n} from '@material-ui/icons';\r\n\r\nimport {LOG_OUT} from './index';\r\n\r\nfunction Copyright() {\r\n  return(\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" to=\"/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport const MainListItems = ({items, accessRights})=>{\r\n  items=items.map((menuItem, i)=>{\r\n    if((accessRights && accessRights.length && accessRights.indexOf(menuItem.accessRightTitle)>=0) || !menuItem.accessRightTitle){\r\n      let Icon=menuItem.icon;\r\n      return(\r\n        <ListItem button key={i} >\r\n          <ListItemIcon>\r\n            <Icon />\r\n          </ListItemIcon>\r\n          <Link to={menuItem.link}>\r\n            <ListItemText primary={menuItem.text} />\r\n          </Link>\r\n        </ListItem>\r\n      );\r\n    }else{\r\n      return\r\n    }\r\n  });\r\n  return(\r\n    <div>\r\n      {items}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AdminLayout(props) {\r\n  console.log('Layout',props);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h4\" color=\"inherit\" noWrap className={classes.title}>\r\n            {props.title}\r\n          </Typography>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={0} color={\"secondary\"}>\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          <IconButton color=\"inherit\" title=\"Log out\" onClick={(e)=>{props.logOut().then(()=>{props.history.goBack()})}}>\r\n              <LogOutIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <MainListItems items={props.menuItems} accessRights={props.rights}/>\r\n        </List>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        {props.children}\r\n        <Copyright />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Dashboard.propTypes={\r\n// \tname:PropTypes.string\r\n// }\r\n\r\nconst mapStateToProps=(state)=>{\r\n\treturn {\r\n    title:state.Admin.title,\r\n    menuItems:state.Admin.menuItems,\r\n    rights:state.Admin.user.rights,\r\n    user:state.Admin.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n    logOut:()=>{\r\n      dispatch({\r\n        type:LOG_OUT\r\n      });\r\n      return fetch('/api/user/logout').then((res)=>{\r\n        console.log('logged out');\r\n        return '';\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nconst LayoutContainer=connect(mapStateToProps, mapDispatchToProps)(AdminLayout);\r\n\r\nexport default LayoutContainer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {CircularProgress} from '@material-ui/core';\r\n\r\nimport Alert from './components/Alert';\r\n\r\nimport {SIGN_IN_REQ, SIGN_IN_RES, ALERT} from './index';\r\nimport {alertError} from '../functions';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        RJ\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nclass Login extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\temail:'',\r\n\t\t\tpassword:''\r\n\t\t}\r\n\t}\r\n\tchangeHandler=(name,value)=>{\r\n\t\tthis.setState({[name]:value});\r\n\t}\r\n\tsubmitHandler=()=>{\r\n\t\tconst {signIn} = this.props;\r\n\t\tsignIn(this.state.email,this.state.password);\r\n\t}\r\n\trender(){\r\n\t\tconst {signIn,user,match}=this.props;\r\n\t\tconst {email,password}=this.state;\r\n\r\n\t\tconsole.log('Login', this.props);\r\n\r\n\t\tif(user && user.loggedIn){\r\n\t\t\tlet redirectUrl=window.localStorage.getItem('lastVisitedPath');\r\n\t\t\treturn(\r\n\t\t\t\t<Redirect to={redirectUrl ? redirectUrl : '/admin'} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t  \t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t    <CssBaseline />\r\n\t\t\t    <LoginForm changeHandler={this.changeHandler} submitHandler={this.submitHandler} failed={user.loginAttempted} authenticating={user.authenticating} />\r\n\t\t\t    <Alert />\r\n\t\t\t    <Box mt={8}>\r\n\t\t\t      \t<Copyright />\r\n\t\t\t    </Box>\r\n\t\t  \t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst LoginForm=({changeHandler,submitHandler, failed, authenticating})=>{\r\n\tconst classes = useStyles();\r\n\treturn(\r\n\t\t<div className={classes.paper}>\r\n\t\t  \t<Avatar className={classes.avatar}>\r\n\t\t    \t<LockOutlinedIcon />\r\n\t\t  \t</Avatar>\r\n\t\t  \t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t    \tSign in\r\n\t\t  \t</Typography>\r\n\t\t  \t<form className={classes.form} onSubmit={(e)=>{e.preventDefault(); submitHandler(); }}>\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tid=\"email\"\r\n\t\t\t      \tlabel=\"Email Address\"\r\n\t\t\t      \tname=\"username\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tautoFocus\r\n\t\t\t      \tonChange={(e)=>changeHandler('email',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <TextField\r\n\t\t\t    \terror={failed}\r\n\t\t\t      \tvariant=\"outlined\"\r\n\t\t\t      \tmargin=\"normal\"\r\n\t\t\t      \trequired\r\n\t\t\t      \tfullWidth\r\n\t\t\t      \tname=\"password\"\r\n\t\t\t      \tlabel=\"Password\"\r\n\t\t\t      \ttype=\"password\"\r\n\t\t\t      \tid=\"password\"\r\n\t\t\t      \tautoComplete=\"off\"\r\n\t\t\t      \tonChange={(e)=>changeHandler('password',e.target.value)}\r\n\t\t\t    />\r\n\t\t\t    <FormControlLabel\r\n\t\t\t      control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n\t\t\t      label={\"Remember me\"}\r\n\t\t\t    />\r\n\t\t\t    <Button\r\n\t\t\t      type=\"submit\"\r\n\t\t\t      fullWidth\r\n\t\t\t      variant=\"contained\"\r\n\t\t\t      color=\"primary\"\r\n\t\t\t      className={classes.submit}\r\n\t\t\t      disabled={authenticating}\r\n\t\t\t    >\r\n\t\t\t    \t{authenticating ? <CircularProgress /> : 'Sign In' }\r\n\t\t\t    </Button>\r\n\t\t\t    <Grid container>\r\n\t\t\t      <Grid item xs>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          Forgot password?\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t      <Grid item>\r\n\t\t\t        <Link href=\"#\" variant=\"body2\">\r\n\t\t\t          {\"Don't have an account? Sign Up\"}\r\n\t\t\t        </Link>\r\n\t\t\t      </Grid>\r\n\t\t\t    </Grid>\r\n\t\t  \t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps=state=>{\r\n\treturn {\r\n\t\tuser:state.Admin.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=dispatch=>{\r\n\treturn {\r\n\t\tsignIn:(username,password)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:SIGN_IN_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/admin/login',{\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tbody:JSON.stringify({username,password}),\r\n\t\t\t\theaders: {\r\n\t\t\t        'Accept': 'application/json',\r\n\t\t\t        'Content-Type': 'application/json'\r\n\t\t\t    }\r\n\t\t\t}).then((res)=>res.json()).then((json)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SIGN_IN_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\t...json.user,\r\n\t\t\t\t\t\tloginAttempted: true\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif(json.result==='success'){\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}).catch((err)=>{\r\n\t\t\t\t// end sign in request\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:SIGN_IN_RES,\r\n\t\t\t\t\tpayload:{}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// alert error\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:ALERT,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\ttype:'error',\r\n\t\t\t\t\t\ttext: 'Connection with server failed...'\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\talert:(options)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ALERT,\r\n\t\t\t\tpayload: options\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst LoginContainer=connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\nexport default LoginContainer;","import { colors } from '@material-ui/core';\n\nconst white = '#FFFFFF';\nconst black = '#000000';\n\nexport default {\n  black,\n  white,\n  primary: {\n    contrastText: white,\n    dark: colors.indigo[900],\n    main: colors.indigo[500],\n    light: colors.indigo[100]\n  },\n  secondary: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue['A400'],\n    light: colors.blue['A400']\n  },\n  success: {\n    contrastText: white,\n    dark: colors.green[900],\n    main: colors.green[600],\n    light: colors.green[400]\n  },\n  info: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue[600],\n    light: colors.blue[400]\n  },\n  warning: {\n    contrastText: white,\n    dark: colors.orange[900],\n    main: colors.orange[600],\n    light: colors.orange[400]\n  },\n  error: {\n    contrastText: white,\n    dark: colors.red[900],\n    main: colors.red[600],\n    light: colors.red[400]\n  },\n  text: {\n    primary: colors.blueGrey[900],\n    secondary: colors.blueGrey[600],\n    link: colors.blue[600]\n  },\n  background: {\n    default: '#F4F6F8',\n    paper: white\n  },\n  icon: colors.blueGrey[600],\n  divider: colors.grey[200]\n};\n","import palette from './palette';\n\nexport default {\n  h1: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '35px',\n    letterSpacing: '-0.24px',\n    lineHeight: '40px'\n  },\n  h2: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '29px',\n    letterSpacing: '-0.24px',\n    lineHeight: '32px'\n  },\n  h3: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '24px',\n    letterSpacing: '-0.06px',\n    lineHeight: '28px'\n  },\n  h4: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '20px',\n    letterSpacing: '-0.06px',\n    lineHeight: '24px'\n  },\n  h5: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  h6: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '20px'\n  },\n  subtitle1: {\n    color: palette.text.primary,\n    fontSize: '16px',\n    letterSpacing: '-0.05px',\n    lineHeight: '25px'\n  },\n  subtitle2: {\n    color: palette.text.secondary,\n    fontWeight: 400,\n    fontSize: '14px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body1: {\n    color: palette.text.primary,\n    fontSize: '15px',\n    letterSpacing: '-0.05px',\n    lineHeight: '21px'\n  },\n  body2: {\n    color: palette.text.secondary,\n    fontSize: '13px',\n    letterSpacing: '-0.04px',\n    lineHeight: '18px'\n  },\n  button: {\n    color: palette.text.primary,\n    fontSize: '14px'\n  },\n  caption: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    letterSpacing: '0.33px',\n    lineHeight: '13px'\n  },\n  overline: {\n    color: palette.text.secondary,\n    fontSize: '11px',\n    fontWeight: 500,\n    letterSpacing: '0.33px',\n    lineHeight: '13px',\n    textTransform: 'uppercase'\n  }\n};\n","import MuiButton from './MuiButton';\nimport MuiIconButton from './MuiIconButton';\nimport MuiPaper from './MuiPaper';\nimport MuiTableCell from './MuiTableCell';\nimport MuiTableHead from './MuiTableHead';\nimport MuiTypography from './MuiTypography';\n\nexport default {\n  MuiButton,\n  MuiIconButton,\n  MuiPaper,\n  MuiTableCell,\n  MuiTableHead,\n  MuiTypography\n};\n","export default {\n  contained: {\n    boxShadow:\n      '0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)',\n    backgroundColor: '#FFFFFF'\n  }\n};\n","import palette from '../palette';\n\nexport default {\n  root: {\n    color: palette.icon,\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.03)'\n    }\n  }\n};\n","export default {\n  elevation1: {\n    boxShadow: '0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)'\n  }\n};\n","import palette from '../palette';\nimport typography from '../typography';\n\nexport default {\n  root: {\n    ...typography.body1,\n    borderBottom: `1px solid ${palette.divider}`\n  }\n};\n","import { colors } from '@material-ui/core';\n\nexport default {\n  root: {\n    backgroundColor: colors.grey[50]\n  }\n};\n","export default {\n  gutterBottom: {\n    marginBottom: 8\n  }\n};\n","import { createMuiTheme } from '@material-ui/core';\n\nimport palette from './palette';\nimport typography from './typography';\nimport overrides from './overrides';\n\nconst theme = createMuiTheme({\n  palette,\n  typography,\n  overrides,\n  zIndex: {\n    appBar: 1200,\n    drawer: 1100\n  }\n});\n\nexport default theme;\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nimport Login from './Login';\r\n\r\nimport theme from './theme';\r\nimport { SIGN_IN_REQ, SIGN_IN_RES, ALERT } from './index.js';\r\n\r\nexport default function withAuth(ComponentToProtect, protectedModule = '', path = '') {\r\n    class ProtectedComponent extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                redirect: false,\r\n                loading: true,\r\n                hasAccessRight: true\r\n            };\r\n        }\r\n        componentDidMount() {\r\n            this.getUser().then((user) => {\r\n                var hasAccessRight = true;\r\n                var redirect = false;\r\n\r\n                if (user && user._id) {\r\n                    if (protectedModule && !(user.rights.indexOf(protectedModule) >= 0)) {\r\n                        hasAccessRight = false;\r\n                    }\r\n                } else {\r\n                    redirect = true;\r\n                }\r\n\r\n                this.setState({\r\n                    redirect,\r\n                    loading: false,\r\n                    hasAccessRight\r\n                });\r\n            });\r\n        }\r\n        getUser = () => {\r\n            // checks the state whether there exists an active user, if no, active user should be fetched from backend\r\n            return new Promise((resolve, reject) => {\r\n                if (this.props.user && this.props.user.loggedIn) {\r\n                    resolve(this.props.user);\r\n                } else {\r\n                    this.props.getActiveUser().then((user) => {\r\n                        resolve(user);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        render() {\r\n            console.log('withAuth', protectedModule);\r\n            const { redirect, loading, hasAccessRight } = this.state;\r\n            const props = this.props;\r\n\r\n            if (props.location.pathname === (props.match.path + '/login')) {\r\n                return (\r\n                    <ThemeProvider theme={theme}>\r\n            <Login />\r\n          </ThemeProvider>\r\n                );\r\n            }\r\n\r\n            if (loading) {\r\n                return <LinearProgress />;\r\n            }\r\n\r\n            if (!hasAccessRight) {\r\n                console.log('has no access right', props.user.rights);\r\n                props.history.goBack();\r\n            }\r\n\r\n            if (!props.user.loggedIn && redirect) {\r\n                window.localStorage.setItem('lastVisitedPath', this.props.location.pathname);\r\n                console.log('redirecting', props.match.path + \"/login\");\r\n                return <Redirect to={'/admin/login'} />;\r\n            }\r\n\r\n            return (\r\n                <React.Fragment>\r\n          <ComponentToProtect {...this.props} />\r\n        </React.Fragment>\r\n            );\r\n        }\r\n    }\r\n\r\n    const mapStateToProps = state => {\r\n        return {\r\n            user: state.Admin.user\r\n        }\r\n    }\r\n\r\n    const mapDispatchToProps = dispatch => {\r\n        return {\r\n            getActiveUser: () => {\r\n                dispatch({ type: SIGN_IN_REQ });\r\n                return fetch('/user/active').then((res) => res.json()).then((json) => {\r\n                    dispatch({\r\n                        type: SIGN_IN_RES,\r\n                        payload: json.user\r\n                    });\r\n                    return json.user;\r\n                }).catch((err) => {\r\n                    // end request\r\n                    dispatch({\r\n                        type: SIGN_IN_RES,\r\n                        payload: {}\r\n                    });\r\n\r\n                    // error\r\n                    console.error(err);\r\n                    dispatch({\r\n                        type: ALERT,\r\n                        payload: {\r\n                            type: 'error',\r\n                            text: 'Connection with server failed...'\r\n                        }\r\n                    });\r\n                    return {}\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(ProtectedComponent)\r\n}","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nimport Alert from './components/Alert';\r\nimport Layout from './Layout';\r\nimport withAuth from './withAuth';\r\nimport theme from './theme';\r\n\r\nclass Admin extends React.Component{\r\n\trender(){\r\n\t\tconst props=this.props;\r\n\r\n    \treturn(\r\n    \t\t<ThemeProvider theme={theme}>\r\n    \t\t\t<Alert />\r\n\t    \t\t<Layout {...props} >\r\n\t\t\t\t\t<Routes routes={props.routes} match={props.match} />\r\n\t\t\t\t</Layout>\r\n\t\t\t</ThemeProvider>\r\n    \t);\r\n\t}\r\n}\r\n\r\nconst Routes=({routes, match})=>{\r\n\treturn  routes.map((route,index) => {\r\n\t\treturn(\r\n        \t<Route exact={route.path === match.path + '/'} path={route.path} key={route.path} component={withAuth(route.component, route.title)} title={route.title} />\r\n        );\r\n    });\r\n}\r\n \r\nexport default withAuth(Admin);","import {\r\n\tDashboardOutlined as DashboardIcon,\r\n\tVerifiedUserOutlined as EmployeeIcon,\r\n\tExtensionOutlined as ExtensionIcon,\r\n\tLocalOfferOutlined as ProductIcon,\r\n\tDescriptionOutlined as ArticleIcon\r\n} from '@material-ui/icons';\r\n\r\nimport Dashboard, {reducer as dashboardReducer} from './Dashboard';\r\nimport Category, {reducer as categoryReducer} from './Category';\r\nimport Article, {reducer as articleReducer} from './Article';\r\nimport Author, {reducer as authorReducer} from './Author';\r\n\r\nimport Admin from './Admin';\r\nimport {defineModule} from '../functions';\r\n\r\nexport const SIGN_IN_REQ='Admin/SignInReq';\r\nexport const SIGN_IN_RES='Admin/SignInRes';\r\nexport const SET_TITLE='Admin/SetTitle';\r\nexport const LOG_OUT='Admin/LogOut';\r\nexport const ALERT='Admin/Alert';\r\nexport const ALERT_CLOSE='Admin/AlertClose';\r\n\r\nconst route='/admin';\r\n\r\nconst defaultState={\r\n\ttitle:'Dashboard',\r\n\tmenuItems:[{\r\n\t\ttext:'Dashboard',\r\n\t\taccessRightTitle:'Dashboard',\r\n\t\tlink:route,\r\n\t\ticon:DashboardIcon\r\n\t},{\r\n\t\ttext:'Authors',\r\n\t\taccessRightTitle:'Authors',\r\n\t\tlink:route+'/authors',\r\n\t\ticon:EmployeeIcon\r\n\t},{\r\n\t\ttext:'Articles',\r\n\t\taccessRightTitle:'Articles',\r\n\t\tlink:route+'/articles',\r\n\t\ticon:ArticleIcon\r\n\t},{\r\n\t\ttext:'Categories',\r\n\t\taccessRightTitle:'Categories',\r\n\t\tlink:route+'/categories',\r\n\t\ticon:ExtensionIcon\r\n\t}]\r\n};\r\n\r\nconst defaultUserState={\r\n\tloggedIn:false, \r\n\tauthenticating:false,\r\n\tloginAttempted:false\r\n}\r\nconst userReducer=(state=defaultUserState,action)=>{\r\n\tswitch(action.type){\r\n\t\tcase SIGN_IN_REQ:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tauthenticating:true\r\n\t\t\t}\r\n\t\tcase SIGN_IN_RES:\r\n\t\t\tvar p=action.payload;\r\n\t\t\tif(p && p.username){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t\tloggedIn:true,\r\n\t\t\t\t\tauthenticating:false\r\n\t\t\t\t};\r\n\t\t\t}else{\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t\tloginFailed:true,\r\n\t\t\t\t\tauthenticating:false,\r\n\t\t\t\t\tloggedIn:false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase LOG_OUT:\r\n\t\t\treturn defaultState\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nconst defaultAlertState={\r\n\ttype:'',\r\n\ttext: 'asd',\r\n\topen:true\r\n}\r\nconst alertReducer=(state=defaultAlertState, action)=>{\r\n\tswitch(action.type){\r\n\t\tcase ALERT:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\topen: true\r\n\t\t\t}\r\n\t\tcase ALERT_CLOSE:\r\n\t\t\treturn{\r\n\t\t\t\topen:false,\r\n\t\t\t\ttype:''\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const reducer=(state=defaultState, action)=>{\r\n\treturn {\r\n\t\t...defaultState,\r\n\t\tDashboard:dashboardReducer(state.Dashboard, action),\r\n\t\tCategory:categoryReducer(state.Category, action),\r\n\t\tArticle: articleReducer(state.Article, action),\r\n\t\tAuthor: authorReducer(state.Author, action),\r\n\t\tuser:userReducer(state.user,action),\r\n\t\talert:alertReducer(state.alert, action),\r\n\t\ttitle:((s,a)=>{\r\n\t\t\tif(a.type===SET_TITLE){\r\n\t\t\t\treturn a.payload;\r\n\t\t\t}else{\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t})(state.title, action)\r\n\t}\r\n}\r\n\r\nexport const children={\r\n\tDashboard,\r\n\tCategory,\r\n\tArticle,\r\n\tAuthor\r\n}\r\n\r\nexport default defineModule('Admin',route, Admin, reducer, children);","import React from 'react';\r\n\r\nconst Image = ({image, className=''})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className={'bg-image ' + className} style={{backgroundImage: 'url('+image.url+')'}}>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Image;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {\r\n\tFiBookmark,\r\n\tFiMoreHorizontal\r\n} from 'react-icons/fi';\r\nimport {\r\n\tPopover,\r\n\tPopoverBody\r\n} from 'reactstrap';\r\n\r\nimport Image from './Image';\r\n\r\nconst ArticleItem = ({article})=>{\r\n\treturn(\r\n\t\t<div className='article-item article-item-v1 col-12 d-flex mb-3'>\r\n\t\t\t<div className='content-box'>\r\n\t\t\t\t<span className=\"text-uppercase reason-text\">Recommended for you</span>\r\n\t\t\t\t<Link to={'/article/'+article.slug}>\r\n\t\t\t\t\t<h2 className='h5 title'>{article.title}</h2>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Subtitle link={'/article/'+article.slug} subtitle={article.subtitle} />\r\n\t\t\t\t<div className='d-flex align-items-center'>\r\n\t\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t\t<Author author={article.author} />\r\n\t\t\t\t\t\t<div className='fs-12'>\r\n\t\t\t\t\t\t\t<span className='date'>Mar 31, 2020</span>\r\n\t\t\t\t\t\t\t<span className='dot-separator px-1'></span>\r\n\t\t\t\t\t\t\t<span className='read-time'>8 min read </span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span className='bookmark-button mr-2'>\r\n\t\t\t\t\t\t<FiBookmark />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className='actions-button'>\r\n\t\t\t\t\t\t<FiMoreHorizontal />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='image-box'>\r\n\t\t\t\t<Image image={article.image} className={'article-image'} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst Author = ({author}) =>{\r\n\tconst [popoverOpen, setPopoverOpen] = React.useState(false);\r\n\tif(!author){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='author'>\r\n\t\t\t<span id={author.slug} className={\"author-name\"}>{author.name} </span>\r\n\t\t\t<span className=\"author-group\">in The Ascend </span>\r\n\t\t\t<Popover \r\n\t\t\t\tplacement='top' \r\n\t\t\t\tisOpen={popoverOpen} \r\n\t\t\t\ttarget={author.slug} \r\n\t\t\t\ttoggle={()=>setPopoverOpen(!popoverOpen)}\r\n\t\t\t\ttrigger={'hover'}\r\n\t\t\t>\r\n\t\t\t\t<PopoverBody>\r\n\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t<div className='flex-1 mr-2'>\r\n\t\t\t\t\t\t\t<h2 className='h6'>{author.name}</h2>\r\n\t\t\t\t\t\t\t<p className='author-description text-faded'>{author.description}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='author-image-box'>\r\n\t\t\t\t\t\t\t<Image className='author-image' image={author.image} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</PopoverBody>\r\n\t\t\t</Popover>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Subtitle = ({subtitle, link}) =>{\r\n\tif(!subtitle){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<Link to={link}>\r\n\t\t\t<p className='subtitle mb-2 text-faded'>{subtitle}</p>\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport default ArticleItem;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport ArticleItem from '../components/ArticleItem';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES} from '../index';\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\tconst {items, loadingItems}=this.props;\r\n\r\n\t\tif(loadingItems){\r\n\t\t\treturn(\r\n\t\t\t\t<div>Loading...</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tlet itemsToDisplay = items.map((article, i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<ArticleItem article={article} /> \r\n\t\t\t)\r\n\t\t});\r\n\t\treturn(\r\n\t\t\t<div className='row'>\r\n\t\t\t\t{itemsToDisplay}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {\r\n\t\titems: s.items,\r\n\t\tloadingItems: s.loadingItems,\r\n\t\tshouldLoadItems: s.shouldLoadItems\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/article/get').then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\t\t\t\treturn [];\r\n\t\t\t}).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default ListContainer;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport ArticlesList from './ArticlesList';\r\n\r\nclass MainPage extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\t//const {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='container py-5'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-8'>\r\n\t\t\t\t\t\t<ArticlesList />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-4'>\r\n\t\t\t\t\t\tcol-4\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nexport const MainPageContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MainPage);\r\n\r\nexport default MainPageContainer;","import React from 'react';\r\nimport {\r\n\tIoMdStar as StarIcon\r\n} from 'react-icons/io';\r\n\r\nimport Image from './Image';\r\n\r\n\r\nconst AuthorV1 = ({author}) =>{\r\n\tif(!author){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='author-v1 d-flex align-items-center'>\r\n\t\t\t<div className='author-image-box mr-2'>\r\n\t\t\t\t<Image className='author-image rounded-circle' image={author.image} />\r\n\t\t\t</div>\r\n\t\t\t<div className='mr-2'>\r\n\t\t\t\t<div className='d-flex align-items-center mb-1'>\r\n\t\t\t\t\t<h2 className='h6 m-0 mr-2'>{author.name}</h2>\r\n\t\t\t\t\t<div className='btn btn-sm py-0 border rounded'> Follow </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='text-faded text-small'>\r\n\t\t\t\t\t<span>Feb 2 </span> \r\n\t\t\t\t\t<span className='dot-separator'></span> \r\n\t\t\t\t\t<span> 5 min read</span>\r\n\t\t\t\t\t<span className='star'> <StarIcon /></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AuthorV1;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport AuthorV1 from '../components/AuthorV1';\r\n\r\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES} from '../index';\r\n\r\nclass Article extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.props.loadItem(this.props.slug);\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Article',this.props);\r\n\t\tconst {match, item, loadingItem, slug}=this.props;\r\n\r\n\t\tif(loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<span>Loading...</span>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h2 className='h3 mb-3'>{item.title}</h2>\r\n\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t<AuthorV1 author={item.author} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Image image={item.image} />\r\n\t\t\t\t\t<Content parts={item.paragraphs} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Image = ({image})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='article-image my-3'>\r\n\t\t\t<img src={image.url} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Content = ({parts})=>{\r\n\tif(!parts || !parts.length){\r\n\t\treturn '';\r\n\t}\r\n\tparts = parts.map((p,i)=>{\r\n\t\treturn(\r\n\t\t\t<p>{p.content}</p>\r\n\t\t);\r\n\t});\r\n\treturn(\r\n\t\t<div className='content'>\r\n\t\t\t{parts}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nArticle.propTypes={\r\n\tloadItem: PropTypes.func,\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {\r\n\t\titem: s.item,\r\n\t\tloadingItem : s.loadingItem\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(articleSlug)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEM_REQ\r\n\t\t\t});\r\n\t\t\tconst url = '/api/article/get?slug=' + articleSlug\r\n\t\t\treturn fetch(url).then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\t\t\t\treturn {};\r\n\t\t\t}).then((item)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ArticleContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Article);\r\n\r\nexport default ArticleContainer;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {FaAngleLeft} from 'react-icons/fa';\r\n\r\nconst BackButton = ({link, className=''})=>{\r\n\tif(!link){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className={className}>\r\n\t\t\t<Link to={link}>\r\n\t\t\t\t<FaAngleLeft /> Back to list\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default BackButton;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Article from './Article';\r\nimport BackButton from '../components/BackButton';\r\n\r\nclass MainPage extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Article Single',this.props);\r\n\t\t//const {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='container py-5'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-8 m-auto'>\r\n\t\t\t\t\t\t<BackButton link={'/article'} className={'text-primary'}/>\r\n\t\t\t\t\t\t<Article slug={this.props.match.params.slug}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nexport const MainPageContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MainPage);\r\n\r\nexport default MainPageContainer;","import Router from './Router';\nimport {defineModule} from '../functions';\n\nconst actionPrefix='Article/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\tshouldLoadItems:true,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\tshouldLoadItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Article','/article', Router, reducer);","import React from 'react';\nimport {Route} from 'react-router-dom';\n\nimport Main from './main/Main';\nimport ArticleSingle from './article-single/ArticleSingle';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<div>\n\t\t\t<Route exact path={props.match.path} component={Main} />\n\t\t\t<Route exact path={props.match.path+'/:slug'} component={ArticleSingle} />\n\t\t</div>\n\t)\n}\n\nexport default Router;","import React, {useState, Fragment} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Link} from 'react-router-dom';\r\n\r\n// function DeleteConfirmationDialog(props) {\r\n//   const { onClose,  open, ...other} = props;\r\n\r\n//   \treturn (\r\n// \t    <Dialog\r\n// \t      \tdisableBackdropClick\r\n// \t      \tdisableEscapeKeyDown\r\n// \t      \tmaxWidth=\"xs\"\r\n// \t     \taria-labelledby=\"confirmation-dialog-title\"\r\n// \t      \topen={open}\r\n// \t      \t{...other}\r\n// \t    >\r\n// \t      \t<DialogContent dividers>\r\n// \t      \t\tAre you sure to delete this item? You will not be able to recover this\r\n// \t      \t</DialogContent>\r\n// \t      \t<DialogActions>\r\n// \t        \t<Button autoFocus onClick={(e)=>onClose('cancel')} color=\"primary\">\r\n// \t          \t\tCancel\r\n// \t        \t</Button>\r\n// \t        \t<Button onClick={(e)=>onClose('ok')} color=\"primary\">\r\n// \t          \t\tOk\r\n// \t        \t</Button>\r\n// \t      \t</DialogActions>\r\n// \t    </Dialog>\r\n//   \t);\r\n// }\r\n\r\nconst TableCard=(props)=>{\r\n\tconst {columnNames, rows, loading, handleDelete, path, addItemText, searchBoxPlaceholder} = props;\r\n  \tconst [rowsPerPage, setRowsPerPage] = useState(10);\r\n  \tconst [page, setPage] = useState(0);\r\n\r\n  \t// var header=props.header?(\r\n  \t// \t<CardHeader title={props.header} >\r\n  \t// \t</CardHeader>\r\n  \t// ) : '';\r\n\r\n  \tconst handlePageChange = (event, page) => {\r\n  \t  setPage(page);\r\n  \t};\r\n\r\n  \tconst handleRowsPerPageChange = event => {\r\n  \t  setRowsPerPage(event.target.value);\r\n  \t};\r\n\r\n  \treturn(\r\n  \t\t<div class=\"card mb-0\">\r\n  \t\t    <div class=\"card-body\">\r\n  \t\t        <div class=\"table-responsive\">\r\n  \t\t            <MyTable columnNames={columnNames} rows={rows} loading={loading} handleDelete={handleDelete} path={path} />\r\n  \t\t        </div>\r\n  \t\t        <Pagination />\r\n  \t\t    </div>\r\n  \t\t</div>\r\n  \t);\r\n}\r\nTableCard.propTypes={\r\n\trequests:PropTypes.array,\r\n\tloading:PropTypes.bool,\r\n\tshowDeleteDialog:PropTypes.func,\r\n\theader:PropTypes.string\r\n}\r\n\r\n// const AddItemButton = ({text, link, className})=>{\r\n// \tif(!text) return '';\r\n// \treturn(\r\n// \t\t<Link to={link}>\r\n// \t\t\t<Button\r\n// \t\t\t\tclassName={className}\r\n// \t\t\t  \tcolor={\"primary\"}\r\n// \t\t\t  \tvariant=\"contained\"\r\n// \t\t\t>\r\n// \t\t\t\t<AddIcon />\r\n// \t\t\t  \t{text}\r\n// \t\t\t</Button>\r\n// \t\t</Link>\r\n// \t);\r\n// }\r\n\r\nconst MyTable=({columnNames, rows, handleDelete, path, loading})=>{\r\n\tconst [selectedItems, setSelectedItems] = useState([]);\r\n\tlet tableRows=[];\r\n\tlet tableCols=[];\r\n\r\n\tconst handleSelectOne = (event, id) => {\r\n  \t  \tconst selectedIndex = selectedItems.indexOf(id);\r\n  \t  \tlet newSelectedItems = [];\r\n\r\n  \t  \tif (selectedIndex === -1) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems, id);\r\n  \t  \t} else if (selectedIndex === 0) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems.slice(1));\r\n  \t  \t} else if (selectedIndex === selectedItems.length - 1) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(selectedItems.slice(0, -1));\r\n  \t  \t} else if (selectedIndex > 0) {\r\n  \t    \tnewSelectedItems = newSelectedItems.concat(\r\n\t  \t      \tselectedItems.slice(0, selectedIndex),\r\n\t  \t      \tselectedItems.slice(selectedIndex + 1)\r\n  \t    \t);\r\n  \t\t}\r\n\r\n  \t  \tsetSelectedItems(newSelectedItems);\r\n  \t};\r\n\r\n  \tconst handleSelectAll = event => {\r\n  \t\tvar items=rows;\r\n  \t  \tlet selectedItems;\r\n  \t  \tif (event.target.checked) {\r\n  \t    \tselectedItems = items.map(i => i._id);\r\n  \t  \t} else {\r\n  \t    \tselectedItems = [];\r\n  \t  \t}\r\n  \t  \tsetSelectedItems(selectedItems);\r\n  \t};\r\n\r\n\tif(!rows || loading){\r\n\t\ttableRows = (\r\n\t\t\t<tr>\r\n\t\t\t\t<td colSpan={columnNames.length + 2} className={'text-center py-4'} >\r\n\t\t\t\t\t<span>Loading...</span>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t);\r\n\t}else{\r\n\t\ttableRows=rows.map((row,i)=>{\r\n\t\t\treturn(\r\n\t\t\t\t<Row \r\n\t\t\t\t\tkey={i} \r\n\t\t\t\t\trow={row} \r\n\t\t\t\t\tpath={path} \r\n\t\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\t// prepare columns\r\n\t// tableCols.push(\r\n \t//      \t<TableCell key={-1}>\r\n \t//      \t  \t<Checkbox\r\n\t//       \t    checked={selectedItems.length === rows.length}\r\n\t//       \t    color={\"primary\"}\r\n\t//       \t    indeterminate={\r\n\t//       \t      selectedItems.length > 0 &&\r\n\t//       \t      selectedItems.length < rows.length\r\n\t//       \t    }\r\n\t//       \t    onChange={handleSelectAll}\r\n \t//      \t  \t/>\r\n \t//      \t</TableCell>\r\n\t// );\r\n\tcolumnNames.map((col, i)=>{\r\n\t\ttableCols.push(\r\n\t\t\t<th scope=\"col\" key={i} >{col}</th>\r\n\t\t);\r\n\t});\r\n\r\n\treturn(\r\n\t\t<table class=\"table table-hover\">\r\n\t\t    <thead>\r\n\t\t    \t<tr className='bg-primary text-white'>\r\n\t\t        \t{tableCols}\r\n\t\t        </tr>\r\n\t\t    </thead>\r\n\t\t    <tbody>\r\n\t\t    \t{tableRows}\r\n\t\t    </tbody>\r\n\t\t</table>\r\n\t);\r\n}\r\n\r\nconst Pagination = (props)=>{\r\n\treturn(\r\n\t\t<nav class=\"mt-4\">\r\n\t\t    <ul class=\"pagination\">\r\n\t\t        <li class=\"page-item disabled\"><a class=\"page-link\" href=\"#\" aria-label=\"Previous\" tabindex=\"-1\" aria-disabled=\"true\"><span class=\"icofont-simple-left\"></span></a></li>\r\n\t\t        <li class=\"page-item active\" aria-current=\"page\"><a class=\"page-link\" href=\"#\">1 </a></li>\r\n\t\t        <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2 </a></li>\r\n\t\t        <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3 </a></li>\r\n\t\t        <li class=\"page-item\"><a class=\"page-link\" href=\"#\" aria-label=\"Next\"><span class=\"icofont-simple-right\"></span></a></li>\r\n\t\t    </ul>\r\n\t\t</nav>\r\n\t);\r\n}\r\n\r\nconst Row=({row, path, handleDelete})=>{\r\n\tlet columns = row.columns.map((r, ind)=>{\r\n\t\tlet cellStyle={}\r\n\t\tif(r.width){ cellStyle.width = r.width; }\r\n\t\tif(r.type && r.type === 'image'){\r\n\t\t\treturn(\r\n\t\t\t\t<td key={ind} style={cellStyle}>\r\n\t\t\t\t\t<img src={r.url} className={r.className}/>\r\n\t\t\t\t</td>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif(r.type === 'component'){\r\n\t\t\tlet Cell = r.component;\r\n\r\n\t\t\treturn(\r\n\t\t\t\t<td key={ind}>\r\n\t\t\t\t\t{Cell}\r\n\t\t\t\t</td>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif(r.type === 'actions'){\r\n\t\t\treturn(\r\n\t\t\t\t<td>\r\n\t\t\t\t    <div class=\"actions\">\r\n\t\t\t\t    \t<Link to={path + '/view'} class={\"btn btn-dark btn-sm btn-square rounded-pill\"}>\r\n\t\t\t\t    \t\t<span class=\"btn-icon icofont-external-link\"></span> \r\n\t\t\t\t    \t</Link>\r\n\t\t\t\t    \t<Link to={path + '/edit/' + row._id} class={\"btn btn-info btn-sm btn-square rounded-pill\"}>\r\n\t\t\t\t    \t\t<span class=\"btn-icon icofont-ui-edit\"></span>\r\n\t\t\t\t    \t</Link> \r\n\t\t\t\t    \t<button class=\"btn btn-error btn-sm btn-square rounded-pill\" onClick={(e)=>handleDelete(e, row.id)}>\r\n\t\t\t\t    \t\t<span class=\"btn-icon icofont-ui-delete\"></span>\r\n\t\t\t\t    \t</button>\r\n\t\t\t\t    </div>\r\n\t\t\t\t</td>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<td>\r\n\t\t\t    <div className={r.className ? r.className : ''}>{r.text} </div>\r\n\t\t\t</td>\r\n\t\t);\r\n\t});\r\n\r\n\treturn(\r\n\t\t<tr>\r\n\t\t\t{columns}\r\n\t\t</tr>\r\n\t);\r\n}\r\n\r\nconst TableList = (props)=>{\r\n\tconst [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n\tconst [deleteId, setDeleteId] = useState(null);\r\n\r\n\t// handler when delete button is clicked\r\n\tconst handleDelete = (event, deleteId)=>{\r\n\t\tsetDeleteDialogOpen(true);\r\n\t\tsetDeleteId(deleteId);\r\n\t}\r\n\r\n\t//handler when deletion is confirmed on dialog\r\n\tconst onClose = (action)=>{\r\n\t\tsetDeleteDialogOpen(false);\r\n\t\tif(action==='ok' && props.onDelete){\r\n\t\t\tprops.onDelete(deleteId);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn(\r\n\t\t<Fragment>\r\n\t\t\t<TableCard {...props} handleDelete={handleDelete} />\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default TableList;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport Table from '../../../core/components/shared/Table';\r\n\r\nimport {LOAD_ITEMS_REQ, LOAD_ITEMS_RES} from '../index';\r\n\r\nclass List extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst {items, loadItems, shouldLoadItems}=this.props;\r\n\t\tif(shouldLoadItems){\r\n\t\t\tloadItems();\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Articles List',this.props);\r\n\t\tconst {items, loadingItems}=this.props;\r\n\r\n\t\tif(loadingItems){\r\n\t\t\treturn(\r\n\t\t\t\t<div>Loading...</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tconst columnNames=['Photo', 'Name', 'ID', 'Age', 'Address', 'Number', 'Last visit', 'Actions'];\r\n\r\n\t\tconst rows=items.map((p, i)=>{\r\n\t\t\tlet Phone = (\r\n\t\t\t\t<div class=\"d-flex align-items-center nowrap text-primary\">\r\n\t\t\t\t\t<span class=\"icofont-ui-cell-phone p-0 mr-2\"></span>\r\n\t\t\t\t\t{p.phone}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\tid: p.id,\r\n\t\t\t\tcolumns:[{\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\turl: '../assets/content/user-40-1.jpg',\r\n\t\t\t\t\twidth: '40px',\r\n\t\t\t\t\tclassName:'rounded-500'\r\n\t\t\t\t},{\r\n\t\t\t\t\tclassName: 'strong',\r\n\t\t\t\t\ttext: (p.lastname + ' ' + p.firstname).trim()\r\n\t\t\t\t},{\r\n\t\t\t\t\tclassName: 'text-muted',\r\n\t\t\t\t\ttext: '10021'\r\n\t\t\t\t},{\r\n\t\t\t\t\tclassName: 'text-muted text-nowrap',\r\n\t\t\t\t\ttext: '42'\r\n\t\t\t\t},{\r\n\t\t\t\t\tclassName: 'address-col',\r\n\t\t\t\t\ttext: p.address\r\n\t\t\t\t},{\r\n\t\t\t\t\ttype: 'component',\r\n\t\t\t\t\tcomponent: Phone\r\n\t\t\t\t},{\r\n\t\t\t\t\tclassName: 'text-muted text-nowrap',\r\n\t\t\t\t\ttext: '18 Dec 2019'\r\n\t\t\t\t},{\r\n\t\t\t\t\ttype: 'actions'\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn(\r\n\t\t\t<div class=\"page-content\">\r\n\t\t\t    <Table\r\n            \t\tloading={false}\r\n            \t\tcolumnNames={columnNames}\r\n            \t\trows={rows}\r\n            \t\tpath={'/patient'}\r\n            \t\tonDelete={(id)=>{console.log('deleting', id);}}\r\n            \t/>\r\n\t\t\t    <div class=\"add-action-box\">\r\n\t\t\t    \t<button class=\"btn btn-primary btn-lg btn-square rounded-pill\" data-toggle=\"modal\" data-target=\"#add-patient\">\r\n\t\t\t    \t\t<span class=\"btn-icon icofont-plus\"></span>\r\n\t\t\t    \t</button>\r\n\t\t\t    </div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nList.propTypes={\r\n\tname:PropTypes.string\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Patient;\r\n\treturn {\r\n\t\titems: s.items,\r\n\t\tloadingItems: s.loadingItems,\r\n\t\tshouldLoadItems: s.shouldLoadItems\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItems:()=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEMS_REQ\r\n\t\t\t});\r\n\t\t\treturn fetch('/api/patients').then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\t\t\t\treturn [];\r\n\t\t\t}).then((items)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEMS_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titems\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ListContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(List);\r\n\r\nexport default ListContainer;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport PatientsList from './PatientsList';\r\n\r\nclass MainPage extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Patients List',this.props);\r\n\t\t//const {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='container py-5'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-12'>\r\n\t\t\t\t\t\t<header class=\"page-header\">\r\n\t\t\t\t\t\t    <h1 class=\"page-title\">Patients </h1>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t<PatientsList />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nexport const MainPageContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MainPage);\r\n\r\nexport default MainPageContainer;","import React from 'react';\r\n\r\nconst Image = ({image, className=''})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className={'bg-image ' + className} style={{backgroundImage: 'url('+image.url+')'}}>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Image;","import React from 'react';\r\nimport {\r\n\tIoMdStar as StarIcon\r\n} from 'react-icons/io';\r\n\r\nimport Image from './Image';\r\n\r\n\r\nconst AuthorV1 = ({author}) =>{\r\n\tif(!author){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='author-v1 d-flex align-items-center'>\r\n\t\t\t<div className='author-image-box mr-2'>\r\n\t\t\t\t<Image className='author-image rounded-circle' image={author.image} />\r\n\t\t\t</div>\r\n\t\t\t<div className='mr-2'>\r\n\t\t\t\t<div className='d-flex align-items-center mb-1'>\r\n\t\t\t\t\t<h2 className='h6 m-0 mr-2'>{author.name}</h2>\r\n\t\t\t\t\t<div className='btn btn-sm py-0 border rounded'> Follow </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='text-faded text-small'>\r\n\t\t\t\t\t<span>Feb 2 </span> \r\n\t\t\t\t\t<span className='dot-separator'></span> \r\n\t\t\t\t\t<span> 5 min read</span>\r\n\t\t\t\t\t<span className='star'> <StarIcon /></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AuthorV1;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport AuthorV1 from '../components/AuthorV1';\r\n\r\nimport {LOAD_ITEM_REQ, LOAD_ITEM_RES} from '../index';\r\n\r\nclass Article extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.props.loadItem(this.props.slug);\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Article',this.props);\r\n\t\tconst {match, item, loadingItem, slug}=this.props;\r\n\r\n\t\tif(loadingItem){\r\n\t\t\treturn(\r\n\t\t\t\t<span>Loading...</span>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h2 className='h3 mb-3'>{item.title}</h2>\r\n\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t<AuthorV1 author={item.author} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Image image={item.image} />\r\n\t\t\t\t\t<Content parts={item.paragraphs} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst Image = ({image})=>{\r\n\tif(!image){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className='article-image my-3'>\r\n\t\t\t<img src={image.url} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Content = ({parts})=>{\r\n\tif(!parts || !parts.length){\r\n\t\treturn '';\r\n\t}\r\n\tparts = parts.map((p,i)=>{\r\n\t\treturn(\r\n\t\t\t<p>{p.content}</p>\r\n\t\t);\r\n\t});\r\n\treturn(\r\n\t\t<div className='content'>\r\n\t\t\t{parts}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nArticle.propTypes={\r\n\tloadItem: PropTypes.func,\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {\r\n\t\titem: s.item,\r\n\t\tloadingItem : s.loadingItem\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {\r\n\t\tloadItem:(articleSlug)=>{\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:LOAD_ITEM_REQ\r\n\t\t\t});\r\n\t\t\tconst url = '/api/article/get?slug=' + articleSlug\r\n\t\t\treturn fetch(url).then((res)=>{\r\n\t\t\t\tif(res.ok) return res.json();\r\n\t\t\t\treturn {};\r\n\t\t\t}).then((item)=>{\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype:LOAD_ITEM_RES,\r\n\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\titem\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const ArticleContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Article);\r\n\r\nexport default ArticleContainer;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {FaAngleLeft} from 'react-icons/fa';\r\n\r\nconst BackButton = ({link, className=''})=>{\r\n\tif(!link){\r\n\t\treturn '';\r\n\t}\r\n\treturn(\r\n\t\t<div className={className}>\r\n\t\t\t<Link to={link}>\r\n\t\t\t\t<FaAngleLeft /> Back to list\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default BackButton;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Article from './Article';\r\nimport BackButton from '../components/BackButton';\r\n\r\nclass MainPage extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Article Single',this.props);\r\n\t\t//const {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='container py-5'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-8 m-auto'>\r\n\t\t\t\t\t\t<BackButton link={'/article'} className={'text-primary'}/>\r\n\t\t\t\t\t\t<Article slug={this.props.match.params.slug}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nexport const MainPageContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MainPage);\r\n\r\nexport default MainPageContainer;","import React from 'react';\r\nimport {DatePicker} from '@material-ui/pickers';\r\n\r\nconst Datepicker = (props)=>{\r\n\tconst [selectedDate, setSelectedDate] = React.useState(Date.now());\r\n\treturn(\r\n\t\t<DatePicker\r\n\t\t\tvalue={selectedDate}\r\n\t\t\tonChange={setSelectedDate}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Datepicker;","import React from 'react';\r\nimport {\r\n\tInput,\r\n\tCustomInput\r\n} from 'reactstrap';\r\n\r\nimport Datepicker from '../../../core/components/shared/Datepicker';\r\n\r\nconst Form=(props)=>{\r\n\treturn(\r\n\t\t<form>\r\n\t\t    <div className=\"form-group avatar-box d-flex align-items-center\">\r\n\t\t    \t<img src=\"../assets/content/anonymous-400.jpg\" width=\"40\" height=\"40\" alt=\"\" className=\"rounded-500 mr-4\" /> \r\n\t\t    \t<div className=\"custom-file\">\r\n\t\t    \t  <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" />\r\n\t\t    \t  <label className=\"custom-file-label\" for=\"customFile\">Upload picture</label>\r\n\t\t    \t</div>\r\n\t\t    </div>\r\n\t\t    <div className=\"form-group\">\r\n\t\t    \t<div className='row'>\r\n\t\t    \t\t<div className='col-12 col-lg-4'>\r\n\t\t    \t\t\t<input className=\"form-control\" type=\"text\" placeholder=\"Name\" />\r\n\t\t    \t\t</div>\r\n\t\t    \t\t<div className='col-12 col-lg-4'>\r\n\t\t    \t\t\t<input className=\"form-control\" type=\"text\" placeholder=\"Lastname\" />\r\n\t\t    \t\t</div>\r\n\t\t    \t\t<div className='col-12 col-lg-4'>\r\n\t\t    \t\t\t<input className=\"form-control\" type=\"text\" placeholder=\"Middlename\" />\r\n\t\t    \t\t</div>\r\n\t\t    \t</div>\r\n\t\t    </div>\r\n\t\t    <div className=\"form-group\">\r\n\t\t    \t<div className='row'>\r\n\t\t    \t\t<div className='col-12 col-lg-2'>\r\n\t\t    \t\t\t<input className=\"form-control\" type=\"number\" placeholder=\"ID\" />\r\n\t\t    \t\t</div>\r\n\t\t    \t\t<div className='col-12 col-lg-2'>\r\n\t\t    \t\t\t<Input type='select'>\r\n\t\t    \t\t\t\t<option selected disabled className='d-none'>Gender</option>\r\n\t\t    \t\t\t\t<option>Male</option>\r\n\t\t    \t\t\t\t<option>Female</option>\r\n\t\t    \t\t\t</Input>\r\n\t\t    \t\t</div>\r\n\t\t    \t\t<div className='col-12 col-lg-4'>\r\n\t\t    \t\t\t<Datepicker />\r\n\t\t    \t\t</div>\r\n\t\t    \t</div>\r\n\t\t    </div>\r\n\t\t    <div className=\"row\">\r\n\t\t        <div className=\"col-12 col-sm-6\">\r\n\t\t            <div className=\"form-group\"><input className=\"form-control\" type=\"number\" placeholder=\"Age\" /></div>\r\n\t\t        </div>\r\n\t\t        <div className=\"col-12 col-sm-6\">\r\n\t\t            <div className=\"form-group\">\r\n\t\t                \r\n\t\t            </div>\r\n\t\t        </div>\r\n\t\t    </div>\r\n\t\t    <div className=\"form-group mb-0\"><textarea className=\"form-control\" placeholder=\"Address\" rows=\"3\"></textarea></div>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nexport default Form;","import React, {useState, lazy, Suspense} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Route, Link} from 'react-router-dom';\r\n\r\nimport PatientForm from './PatientForm';\r\n\r\nclass PatientRegisterPage extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log('Patient registration',this.props);\r\n\t\t//const {match, items, loadingItems, showDeleteDialog, onDelete, deleteDialogOpen, deleteId, header}=this.props;\r\n\t\treturn(\r\n\t\t\t<div className='container py-5'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-12'>\r\n\t\t\t\t\t\t<PatientForm />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n\tconst s=state.Article;\r\n\treturn {}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\treturn {}\r\n}\r\n\r\nexport const PageContainer=connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(PatientRegisterPage);\r\n\r\nexport default PageContainer;","import Router from './Router';\nimport {defineModule} from '../functions';\n\nconst actionPrefix='Patient/';\nexport const LOAD_ITEMS_REQ=actionPrefix+'LoadItemsReq';\nexport const LOAD_ITEMS_RES=actionPrefix+'LoadItemsRes';\nexport const LOAD_ITEM_REQ=actionPrefix+'LoadItemReq';\nexport const LOAD_ITEM_RES=actionPrefix+'LoadItemRes';\nexport const SAVE_REQ=actionPrefix+'SaveReq';\nexport const SAVE_RES=actionPrefix+'SaveRes';\nexport const SHOW_DELETE_DIALOG=actionPrefix+'ShowDeleteDialog';\nexport const CLOSE_DELETE_DIALOG=actionPrefix+'CloseDeleteDialog';\nexport const DELETE_RES=actionPrefix+'DeleteRes';\n\nconst defaultState={\n\titems:[],\n\tloadingItems:false,\n\tshouldLoadItems:true,\n\titem:{},\n\tloadingItem:false,\n\tdeleteDialogOpen:false,\n\tdeleteId:'',\n\tsaving:false\n}\n\nexport const reducer=(state=defaultState, action)=>{\n\tswitch(action.type){\n\t\tcase LOAD_ITEM_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItem:true\n\t\t\t}\n\t\tcase LOAD_ITEM_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem,\n\t\t\t\tloadingItem:false\n\t\t\t}\n\t\tcase LOAD_ITEMS_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:true\n\t\t\t}\n\t\tcase LOAD_ITEMS_RES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingItems:false,\n\t\t\t\tshouldLoadItems:false,\n\t\t\t\titems:action.payload.items\n\t\t\t}\n\t\tcase SAVE_REQ:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsaving:true\n\t\t\t}\n\t\tcase SAVE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\tvar match=false;\n\t\t\tvar items=state.items.map((r,i)=>{\n\t\t\t\tif(r && r._id === item._id){\n\t\t\t\t\tmatch=true;\n\t\t\t\t\treturn item;\n\t\t\t\t}else{\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!match){\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems,\n\t\t\t\tsaving:false\n\t\t\t}\n\t\tcase SHOW_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:true,\n\t\t\t\tdeleteId:action.payload.deleteId\n\t\t\t}\n\t\tcase CLOSE_DELETE_DIALOG:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tdeleteDialogOpen:false\n\t\t\t}\n\t\tcase DELETE_RES:\n\t\t\tvar item=action.payload.item;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems:state.items.filter((r)=>r._id !== item._id)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default defineModule('Patient','/patient', Router, reducer);","import Admin from './Admin';\r\nimport Article from './Article'; // 31.03.2020\r\nimport Dashboard from './Dashboard';\r\nimport Patient from './Patient';\r\n\r\nexport default {\r\n\tArticle,\r\n\tDashboard,\r\n\tPatient\r\n}","import React from 'react';\nimport {Route, Switch} from 'react-router-dom';\n\nimport Main from './main/Main';\nimport ArticleSingle from './article-single/ArticleSingle';\nimport Register from './register/Register';\n\nconst Router=(props)=>{\n\treturn(\n\t\t<Switch>\n\t\t\t<Route exact path={props.match.path} component={Main} />\n\t\t\t<Route exact path={props.match.path + '/register'} component={Register} />\n\t\t\t<Route exact path={props.match.path + '/view/:slug'} component={ArticleSingle} />\n\t\t</Switch>\n\t);\n}\n\nexport default Router;","import {createStore,applyMiddleware,combineReducers} from 'redux';\r\nimport {createLogger} from 'redux-logger';\r\nimport modules from './modules';\r\nimport {flatModules} from './modules/functions';\r\n\r\nconst createAppStore = (reducer) => {\r\n  let middleware = [];\r\n  if (process.env.NODE_ENV === 'development') {\r\n    const logger=createLogger();\r\n    middleware = [...middleware, logger];\r\n  } else {\r\n    middleware = [...middleware];\r\n  }\r\n  //middleware.push(thunk)\r\n  const store = createStore(\r\n    reducer,\r\n    applyMiddleware(...middleware)\r\n  );\r\n  return store\r\n}\r\n\r\nexport const combineModuleReducers = modules => {\r\n  const reducers = {}\r\n  const flat = flatModules(modules)\r\n  for (let i = 0; i < flat.length; i++) {\r\n    const red = flat[i].reducer\r\n    if (typeof(red) !== 'function') {\r\n      throw new Error('Module ' + i + ' does not define reducer!')\r\n    }\r\n\r\n    reducers[flat[i].MODULE] = red\r\n\r\n    // if(typeof(flat[i].children) === 'object'){\r\n    //   for(let j in flat[i].children){\r\n    //     if(typeof(flat[i].children[j].reducer) !== 'function'){\r\n    //       throw new Error('Module ' + j + ' does not define reducer!')\r\n    //     }\r\n\r\n    //     reducers[j] = flat[i].children[j].reducer\r\n    //   }\r\n    // }\r\n  }\r\n  return reducers\r\n}\r\n\r\nexport default createAppStore(combineReducers(combineModuleReducers(modules)));","import modules from './modules';\r\nimport {flatModules} from './modules/functions'; \r\nimport store from './store';\r\nimport App from './core/containers/App';\r\nimport Home from './core/components/Home';\r\n\r\nconst getRoutes = (modules, store, App, Home, title = 'Главная') => flatModules(modules).map(x => {\r\n  console.log('x',x);\r\n  if (!x.component) {\r\n    throw new Error('Component for module ' + x + ' is not defined')\r\n  }\r\n\r\n  const route = {\r\n    path: x.path,\r\n    title: x.title,\r\n    component: x.component,\r\n    onEnter: x.onEnter\r\n      ? routeParams => {\r\n        x.onEnter(routeParams, store.dispatch)\r\n      }\r\n      : null\r\n  }\r\n\r\n  if(x.children){\r\n    // if(!x.children.Index || !typeof(x.children.Index.component)){\r\n    //   throw new Error('Component for index route of \"' + x.title + '\" is not defined')\r\n    // }\r\n\r\n    // route.indexRoute = {\r\n    //   component: x.children.Index.component\r\n    // }\r\n\r\n    route.routes = Object.keys(x.children).map(y => {\r\n      const cm = x.children[y]\r\n      if (!cm.component) {\r\n        throw new Error('Component for module ' + x + '/' + y + ' is not defined')\r\n      }\r\n\r\n      return {\r\n        path: x.path + cm.path,\r\n        title: cm.title,\r\n        component: cm.component,\r\n        onEnter: cm.onEnter\r\n          ? routeParams => {\r\n            cm.onEnter(routeParams, store.dispatch)\r\n          }\r\n          : null\r\n      }\r\n    });\r\n  }\r\n  return route;\r\n});\r\n\r\nexport default getRoutes(modules, store, App, Home);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  console.log('env',process.env.NODE_ENV);\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {AppContainer} from 'react-hot-loader';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './core/styles/template.css';\nimport './core/styles/index.css';\n\nimport Root from './core/containers/Root';\nimport history from './core/history';\nimport store from './store';\nimport routes from './routes';\n\nimport * as serviceWorker from './serviceWorker';\n\n//console.log('routes',routes);\n//console.log('store',store);\n\nReactDOM.render(\n\t<AppContainer>\n\t\t<Root\n\t\t\tstore={store}\n\t\t\thistory={history}\n\t\t\troutes={routes} />\n\t</AppContainer>,\n\tdocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}