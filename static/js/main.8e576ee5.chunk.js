(this["webpackJsonpreact-cms"]=this["webpackJsonpreact-cms"]||[]).push([[2],{133:function(e,t,a){"use strict";a(1),a(64)},260:function(e,t,a){e.exports=a(296)},265:function(e,t,a){},266:function(e,t,a){},293:function(e,t,a){},296:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(18),i=a.n(l),c=a(247),o=(a(79),a(265),a(266),a(10)),s=a(9),m=a(63),u=a(11),d=a(12),p=a(13),h=a(14),g=a(19),f=a(61),E=a(366),b=a(326),v=function(e){var t=e.image,a=e.className,n=void 0===a?"":a;return t?r.a.createElement("div",{className:"bg-image "+n,style:{backgroundImage:"url("+t.url+")"}}):""},y=function(e){var t=e.author,a=r.a.useState(!1),n=Object(g.a)(a,2),l=n[0],i=n[1];return t?r.a.createElement("div",{className:"author"},r.a.createElement("span",{id:t.slug,className:"author-name"},t.name," "),r.a.createElement("span",{className:"author-group"},"in The Ascend "),r.a.createElement(E.a,{placement:"top",isOpen:l,target:t.slug,toggle:function(){return i(!l)},trigger:"hover"},r.a.createElement(b.a,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"flex-1 mr-2"},r.a.createElement("h2",{className:"h6"},t.name),r.a.createElement("p",{className:"author-description text-faded"},t.description)),r.a.createElement("div",{className:"author-image-box"},r.a.createElement(v,{className:"author-image",image:t.image})))))):""},O=function(e){var t=e.subtitle,a=e.link;return t?r.a.createElement(s.b,{to:a},r.a.createElement("p",{className:"subtitle mb-2 text-faded"},t)):""},j=function(e){var t=e.article;return r.a.createElement("div",{className:"article-item article-item-v1 col-12 d-flex mb-3"},r.a.createElement("div",{className:"content-box"},r.a.createElement("span",{className:"text-uppercase reason-text"},"Recommended for you"),r.a.createElement(s.b,{to:"/article/"+t.slug},r.a.createElement("h2",{className:"h5 title"},t.title)),r.a.createElement(O,{link:"/article/"+t.slug,subtitle:t.subtitle}),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"flex-1"},r.a.createElement(y,{author:t.author}),r.a.createElement("div",{className:"fs-12"},r.a.createElement("span",{className:"date"},"Mar 31, 2020"),r.a.createElement("span",{className:"dot-separator px-1"}),r.a.createElement("span",{className:"read-time"},"8 min read "))),r.a.createElement("span",{className:"bookmark-button mr-2"},r.a.createElement(f.a,null)),r.a.createElement("span",{className:"actions-button"},r.a.createElement(f.c,null)))),r.a.createElement("div",{className:"image-box"},r.a.createElement(v,{image:t.image,className:"article-image"})))},x=a(7),N=a(81),I=function(e){var t=e.author;return t?r.a.createElement("div",{className:"author-v1 d-flex align-items-center"},r.a.createElement("div",{className:"author-image-box mr-2"},r.a.createElement(v,{className:"author-image rounded-circle",image:t.image})),r.a.createElement("div",{className:"mr-2"},r.a.createElement("div",{className:"d-flex align-items-center mb-1"},r.a.createElement("h2",{className:"h6 m-0 mr-2"},t.name),r.a.createElement("div",{className:"btn btn-sm py-0 border rounded"}," Follow ")),r.a.createElement("div",{className:"text-faded text-small"},r.a.createElement("span",null,"Feb 2 "),r.a.createElement("span",{className:"dot-separator"}),r.a.createElement("span",null," 5 min read"),r.a.createElement("span",{className:"star"}," ",r.a.createElement(N.a,null))))):""},k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.loadItem(this.props.slug)}},{key:"render",value:function(){console.log("Article",this.props);var e=this.props,t=(e.match,e.item),a=e.loadingItem;e.slug;return a?r.a.createElement("span",null,"Loading..."):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"h3 mb-3"},t.title),r.a.createElement("div",{className:"d-flex"},r.a.createElement(I,{author:t.author})),r.a.createElement(A,{image:t.image}),r.a.createElement(w,{parts:t.paragraphs})))}}]),a}(r.a.Component),A=function(e){var t=e.image;return t?r.a.createElement("div",{className:"article-image my-3"},r.a.createElement("img",{src:t.url})):""},w=function(e){var t=e.parts;return t&&t.length?(t=t.map((function(e,t){return r.a.createElement("p",null,e.content)})),r.a.createElement("div",{className:"content"},t)):""},D=Object(o.b)((function(e){var t=e.Article;return{item:t.item,loadingItem:t.loadingItem}}),(function(e){return{loadItem:function(t){return e({type:B}),fetch("/api/article/get?slug="+t).then((function(e){return e.ok?e.json():{}})).then((function(t){e({type:_,payload:{item:t}})}))}}}))(k),S=a(82),C=function(e){var t=e.link,a=e.className,n=void 0===a?"":a;return t?r.a.createElement("div",{className:n},r.a.createElement(s.b,{to:t},r.a.createElement(S.a,null)," Back to list")):""},L=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("Article Single",this.props),r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8 m-auto"},r.a.createElement(C,{link:"/article",className:"text-primary"}),r.a.createElement(D,{slug:this.props.match.params.slug}))))}}]),a}(r.a.Component),R=Object(o.b)((function(e){e.Article;return{}}),(function(e){return{}}))(L),T=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{title:e,path:t,component:a,reducer:n,onEnter:l,children:r}},F=function(e){return Object.keys(e).map((function(t){var a=Array.isArray(e[t])?e[t]:[e[t]];return a.forEach((function(e){return e.MODULE=t})),a})).reduce((function(e,t){return e.concat(t)}))},P=function(e,t){return console.log("uploading",t),new Promise((function(a,n){if(!t)return a({result:"success",message:"no need for uploading to cloud"});var r=new FormData;r.append("app","medium"),r.append("filename",t),r.append("file",e),fetch("https://cloud.javelin.uz/file-upload.php",{method:"POST",body:r,headers:{Accept:"application/json"}}).then((function(e){e.ok&&a(e.json()),a({result:"error",message:"request to cloud failed"})})).catch((function(e){console.error("Error on file uploading: ",e),a({result:"error",message:"Error on file uploading: "+e})}))}))},B="Dashboard/LoadItemReq",_="Dashboard/LoadItemRes",q={items:[],loadingItems:!1,shouldLoadItems:!0,item:{},loadingItem:!1,deleteDialogOpen:!1,deleteId:"",saving:!1},M=T("Dashboard","/dashboard",(function(e){return r.a.createElement("div",null,r.a.createElement(m.b,{exact:!0,path:e.match.path,component:W}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/:slug",component:R}))}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(x.a)({},e,{loadingItem:!0});case _:var a=t.payload.item;return Object(x.a)({},e,{item:a,loadingItem:!1});case"Dashboard/LoadItemsReq":return Object(x.a)({},e,{loadingItems:!0});case"Dashboard/LoadItemsRes":return Object(x.a)({},e,{loadingItems:!1,shouldLoadItems:!1,items:t.payload.items});case"Dashboard/SaveReq":return Object(x.a)({},e,{saving:!0});case"Dashboard/SaveRes":a=t.payload.item;var n=!1,r=e.items.map((function(e,t){return e&&e._id===a._id?(n=!0,a):e}));return n||r.push(a),Object(x.a)({},e,{items:r,saving:!1});case"Dashboard/ShowDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!0,deleteId:t.payload.deleteId});case"Dashboard/CloseDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!1});case"Dashboard/DeleteRes":a=t.payload.item;return Object(x.a)({},e,{items:e.items.filter((function(e){return e._id!==a._id}))});default:return e}})),H=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.items,e.loadItems);e.shouldLoadItems&&t()}},{key:"render",value:function(){console.log("Articles List",this.props);var e=this.props,t=e.items;if(e.loadingItems)return r.a.createElement("div",null,"Loading...");var a=t.map((function(e,t){return r.a.createElement(j,{article:e})}));return r.a.createElement("div",{className:"row"},a)}}]),a}(r.a.Component),z=(Object(o.b)((function(e){var t=e.Article;return{items:t.items,loadingItems:t.loadingItems,shouldLoadItems:t.shouldLoadItems}}),(function(e){return{loadItems:function(){return e({type:"Dashboard/LoadItemsReq"}),fetch("/api/article/get").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:"Dashboard/LoadItemsRes",payload:{items:t}})}))}}}))(H),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("Articles List",this.props),r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8"},"Dashboard content"),r.a.createElement("div",{className:"col-4"},"col-4")))}}]),a}(r.a.Component)),W=Object(o.b)((function(e){e.Article;return{}}),(function(e){return{}}))(z),U=function(e){return r.a.createElement(W,null)},J=(a(293),function(e){console.log("menu",e);var t=e.items;console.log("items",t);var a=t.map((function(e,t){var a=e.icon,n=a?r.a.createElement(a,null):"";return r.a.createElement("li",{class:"menu-item"},r.a.createElement(s.b,{to:e.link,className:"item-link"},r.a.createElement("span",{class:"link-icon "+(e.iconClass?e.iconClass:"")},n),r.a.createElement("span",{class:"link-text"},e.text)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"main-menu"},r.a.createElement("nav",{class:"main-menu-wrap"},r.a.createElement("ul",{class:"menu-ul"},r.a.createElement("li",{class:"menu-item"},r.a.createElement("span",{class:"group-title"},"Medicine")),a,r.a.createElement("li",{class:"menu-item"},r.a.createElement("span",{class:"group-title"},"Apps")),r.a.createElement("li",{class:"menu-item has-sub"},r.a.createElement("a",{class:"item-link",href:"#"},r.a.createElement("span",{class:"link-text"},"Service pages")," ",r.a.createElement("span",{class:"link-caret icofont-thin-right"})),r.a.createElement("ul",{class:"sub"},r.a.createElement("li",{class:"menu-item"},r.a.createElement("a",{class:"item-link",href:"invoices.html"},r.a.createElement("span",{class:"link-text"},"Invoices"))),r.a.createElement("li",{class:"menu-item"},r.a.createElement("a",{class:"item-link",href:"pricing.html"},r.a.createElement("span",{class:"link-text"},"Pricing"))),r.a.createElement("li",{class:"menu-item"},r.a.createElement("a",{class:"item-link",href:"edit-account.html"},r.a.createElement("span",{class:"link-text"},"Edit account"))),r.a.createElement("li",{class:"menu-item"},r.a.createElement("a",{class:"item-link",href:"user-profile.html"},r.a.createElement("span",{class:"link-text"},"User profile"))),r.a.createElement("li",{class:"menu-item"},r.a.createElement("a",{class:"item-link",href:"events-timeline.html"},r.a.createElement("span",{class:"link-text"},"Events timeline"))))),r.a.createElement("li",{class:"menu-item has-sub"},r.a.createElement("a",{class:"item-link",href:"#"},r.a.createElement("span",{class:"link-text"},"Sessions")," ",r.a.createElement("span",{class:"link-caret icofont-thin-right"})),r.a.createElement("ul",{class:"sub"},r.a.createElement("li",{class:"menu-item"},r.a.createElement("a",{class:"item-link",href:"sign-in.html"},r.a.createElement("span",{class:"link-text"},"Sign in"))),r.a.createElement("li",{class:"menu-item"},r.a.createElement("a",{class:"item-link",href:"sign-up.html"},r.a.createElement("span",{class:"link-text"},"Sign up"))),r.a.createElement("li",{class:"menu-item"},r.a.createElement("a",{class:"item-link",href:"page-404.html"},r.a.createElement("span",{class:"link-text"},"404"))),r.a.createElement("li",{class:"menu-item"},r.a.createElement("a",{class:"item-link",href:"page-500.html"},r.a.createElement("span",{class:"link-text"},"500")))))))),r.a.createElement("div",{class:"add-patient"},r.a.createElement(s.b,{to:"/patient/register",class:"btn btn-primary","data-toggle":"modal","data-target":"#add-patient"},r.a.createElement("span",{class:"btn-icon icofont-plus mr-2"}),"Add Patient")),r.a.createElement("div",{class:"assistant-menu"},r.a.createElement("a",{class:"link",href:"#"},r.a.createElement("span",{class:"link-icon icofont-ui-settings"}),"Settings "),r.a.createElement("a",{class:"link",href:"#"},r.a.createElement("span",{class:"link-icon icofont-question-square"}),"FAQ & Support")))}),V=[{text:"Dashboard",accessRightTitle:"Dashboard",link:"/",icon:f.b},{text:"Appointments",accessRightTitle:"Appointments",link:"/appointments",iconClass:"icofont-stethoscope-alt"},{text:"Doctors",accessRightTitle:"Doctors",link:"/doctors",iconClass:"icofont-doctor"},{text:"Patients",accessRightTitle:"Patients",link:"/patient",iconClass:"icofont-paralysis-disability"}],G=function(e){return r.a.createElement("div",{class:"page-box"},r.a.createElement("div",{class:"app-container"},r.a.createElement("div",{id:"navbar1",class:"app-navbar horizontal"},r.a.createElement("div",{class:"navbar-wrap"},r.a.createElement("button",{class:"no-style navbar-toggle navbar-open d-lg-none"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("div",{class:"app-actions"},r.a.createElement("div",{class:"dropdown item"},r.a.createElement("button",{class:"no-style",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false","data-offset":"0, 10"},r.a.createElement("span",{class:"d-flex align-items-center"},r.a.createElement("img",{src:"/user.jpg",alt:"",class:"rounded-500 mr-1",width:"40",height:"40"}),r.a.createElement("i",{class:"icofont-simple-down"}))),r.a.createElement("div",{class:"dropdown-menu dropdown-menu-right dropdown-menu-w-180"},r.a.createElement("ul",{class:"list"},r.a.createElement("li",null,r.a.createElement("a",{href:"#",class:"align-items-center"},r.a.createElement("span",{class:"icon icofont-ui-home"})," Edit account")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",class:"align-items-center"},r.a.createElement("span",{class:"icon icofont-ui-user"})," User profile")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",class:"align-items-center"},r.a.createElement("span",{class:"icon icofont-ui-calendar"})," Calendar")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",class:"align-items-center"},r.a.createElement("span",{class:"icon icofont-ui-settings"})," Settings")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",class:"align-items-center"},r.a.createElement("span",{class:"icon icofont-logout"})," Log Out")))))))),r.a.createElement("div",{id:"navbar2",class:"app-navbar vertical"},r.a.createElement("div",{class:"navbar-wrap"},r.a.createElement("button",{class:"no-style navbar-toggle navbar-close icofont-close-line d-lg-none"}),r.a.createElement("div",{class:"app-logo"},r.a.createElement("div",{class:"logo-wrap"},r.a.createElement("img",{src:"./assets/img/logo.png",alt:"",width:"147",height:"33",class:"logo-img"}))),r.a.createElement(J,{items:V}))),r.a.createElement("main",{class:"main-content"},e.children),r.a.createElement("div",{class:"app-footer"},r.a.createElement("div",{class:"footer-wrap"},r.a.createElement("div",{class:"row h-100 align-items-center"},r.a.createElement("div",{class:"col-12 col-md-6 d-none d-md-block"},r.a.createElement("ul",{class:"page-breadcrumbs"},r.a.createElement("li",{class:"item"},r.a.createElement("a",{href:"#",class:"link"},"Dashboards")," ",r.a.createElement("i",{class:"separator icofont-thin-right"})),r.a.createElement("li",{class:"item"},r.a.createElement("a",{href:"#",class:"link"},"Default")," ",r.a.createElement("i",{class:"separator icofont-thin-right"})))),r.a.createElement("div",{class:"col-12 col-md-6 text-right"},r.a.createElement("div",{class:"d-flex align-items-center justify-content-center justify-content-md-end"},r.a.createElement("span",null,"Version 1.0.0")," ",r.a.createElement("button",{class:"no-style ml-2 settings-btn","data-toggle":"modal","data-target":"#settings"},r.a.createElement("span",{class:"icon icofont-ui-settings text-primary"}))))))),r.a.createElement("div",{class:"content-overlay"})))},Y=function(e){console.log("App",e);var t=e.routes.map((function(e,t){return e.routes&&e.routes.length?r.a.createElement(m.b,{path:e.path,key:e.path,render:function(t){return r.a.createElement(e.component,Object.assign({},t,{title:e.title,routes:e.routes}))}}):r.a.createElement(m.b,{path:e.path,key:e.path,component:e.component})}));return r.a.createElement(G,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:U}),t))},Q=function(e){return r.a.createElement(o.a,{store:e.store},r.a.createElement(s.a,{basename:"/lms-client"},r.a.createElement(Y,e)))},X=a(35),$=Object(X.a)();$.listen((function(e){console.log("history is listening: "+e)}));var K=$,Z=a(160),ee=a(91),te=(a(294),a(355)),ae=a(356),ne=a(357),re=a(358),le=a(5),ie=a(330),ce=a(64),oe=a(338),se=a(339),me=a(131),ue=a(343),de=a(365),pe=a(337),he=a(340),ge=a(341),fe=a(342),Ee=a(52),be=a.n(Ee),ve=(a(133),a(298)),ye=a(310),Oe=a(368),je=a(299),xe=a(331),Ne=a(334),Ie=Object(ie.a)((function(e){return{select:{width:"100%"}}})),ke=function(e){var t=e.options,a=void 0===t?[]:t,n=e.value,l=e.className,i=e.changeHandler,c=void 0===i?function(e){}:i,o=e.multiple,s=void 0!==o&&o,m=e.itemType,u=void 0===m?"simple":m,d=e.label,p=void 0===d?"":d,h=r.a.useState(n||(s?[]:"")),f=Object(g.a)(h,2),E=f[0],b=f[1],v=Ie(),y=r.a.useRef(null),O=r.a.useState(0),j=Object(g.a)(O,2),x=j[0],N=j[1];r.a.useEffect((function(){N(y.current.offsetWidth)}),[]);var I="";return"checkbox"===u&&(I=a.map((function(e,t){return r.a.createElement(xe.a,{key:t,value:e._id},r.a.createElement(Oe.a,{checked:e.indexOf(e._id)>-1}),r.a.createElement(Ne.a,{primary:e.name}))}))),"simple"===u&&(I=a.map((function(e,t){return r.a.createElement(xe.a,{key:t,value:e._id},e.name)}))),r.a.createElement(ve.a,{variant:"outlined",margin:"normal",className:v.select+" "+l},r.a.createElement(je.a,{ref:y,id:"demo-simple-select-outlined-label"},p),r.a.createElement(ye.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",name:"category",value:E,onChange:function(e){console.log("changed",e.target.value),b(e.target.value),c(e.target.value)},labelWidth:x,multiple:s},I))},Ae=a(336),we=a(237),De=a.n(we),Se=Object(ie.a)((function(e){return{input:{width:"100%"},header:{marginBottom:e.spacing(3)},addButton:{marginTop:e.spacing(2)}}})),Ce=function(e){var t=e.defaultValue,a=void 0===t?"":t,n=e.handler,l=Se();return r.a.createElement(pe.a,{variant:"outlined",id:"outlined-multiline-static",multiline:!0,rows:"8",defaultValue:a,className:l.input,onChange:n})},Le=function(e){var t=e.items,a=e.changeHandler,l=Se(),i=function(e){var t=[{content:e.target.value}];a(t)};return r.a.createElement(n.Fragment,null,r.a.createElement(ce.a,{component:"h2",variant:"h4",className:l.header},"Main content"),t.map((function(e,t){return r.a.createElement(Ce,{handler:i,defaultValue:e.content})})),r.a.createElement(de.a,{textAlign:"center"},r.a.createElement(Ae.a,{variant:"extended",color:"primary","aria-label":"add",size:"small",className:l.addButton},r.a.createElement(De.a,null),"more paragraph")))},Re=function(e){return function(t){return Object(o.b)(null,(function(e){return{setTitle:function(t){e({type:Aa,payload:t})}}}))((function(a){return a.setTitle(t),r.a.createElement(e,null)}))}},Te=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1)]).then(a.bind(null,387))})),Fe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.items,a=e.loadItems;t&&t.length||a()}},{key:"render",value:function(){console.log("Category List",this.props);var e=this.props,t=e.match,a=e.items,l=(e.loadingItems,e.showDeleteDialog,e.onDelete),i=(e.deleteDialogOpen,e.deleteId,e.header);return r.a.createElement(n.Suspense,{fallback:"Loading..."},r.a.createElement(Te,{columnNames:["Name"],rows:a.map((function(e,t){return{_id:e._id,columns:[{text:e.name}]}})),path:t?t.path:"/admin/categories",header:i,onDelete:l,addItemText:"Add Category",searchBoxPlaceholder:"search category"}))}}]),a}(r.a.Component),Pe=Re(Object(o.b)((function(e){var t=e.Admin.Category;return Object(x.a)({},t)}),(function(e){return{loadItems:function(){return e({type:He}),fetch("/api/category/get").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:ze,payload:{items:t}})}))},onDelete:function(t){var a={id:t};return fetch("/api/category/delete",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){t.result&&"success"===t.result&&e({type:Ge,payload:{item:t.data}})}))}}}))(Fe))("Categories"),Be=Object(ie.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},textField:{width:"100%"},themesSelect:{width:"100%"},button:{float:"right"}}}));function _e(e){var t=e.item,a=e.match,n=(e.themes,e.update),l=e.action,i=e.saving,c=Be(),o=r.a.useState(""),u=Object(g.a)(o,2),d=u[0],p=u[1];return d?(console.log("redirecting",d),r.a.createElement(m.a,{to:d})):r.a.createElement(oe.a,{maxWidth:"lg",className:c.container},r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(s.b,{to:"/admin/categories"},r.a.createElement(he.a,{variant:"contained",color:"primary"},r.a.createElement(be.a,null)," Back to list"))),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(me.a,{className:c.paper},r.a.createElement("form",{onSubmit:function(e){var t={name:e.target.elements.name.value};"edit"===l&&(t.id=a.params.itemId),n(t).then((function(e){"success"===e.result&&p("/admin/categories")})),e.preventDefault()}},r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,sm:12},r.a.createElement(pe.a,{id:"outlined-basic",className:c.textField,label:"Category name",margin:"normal",variant:"outlined",name:"name",defaultValue:t.name,required:!0})),r.a.createElement(se.a,{item:!0,sm:12},r.a.createElement(he.a,{type:"submit",variant:"contained",color:"primary",className:c.button,disabled:i},i?r.a.createElement(ge.a,{size:"1rem"}):"Save"))))))))}var qe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={action:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadItem,a=e.match,n=e.setTitle;a.params.itemId?(this.setState({action:"edit"}),n("Edit category"),t(a.params.itemId)):(this.setState({action:"add"}),n("Add category"))}},{key:"render",value:function(){console.log("Edit Request",this.props);var e=this.props,t=e.match,a=e.item,n=e.themes,l=e.update,i=e.loadingItem,c=e.saving,o=this.state.action;return i?r.a.createElement(fe.a,null):r.a.createElement(_e,{action:o,item:"edit"==o?a:{},match:t,themes:n,update:l,saving:c})}}]),a}(r.a.Component),Me=Object(o.b)((function(e){var t=e.Admin.Category;return{items:t.items,item:t.item,loadingItem:t.loadingItem,saving:t.saving}}),(function(e){return{loadItem:function(t){return e({type:We}),fetch("/api/category/get?id="+t).then((function(e){return e.ok?e.json():{}})).then((function(t){e({type:Ue,payload:{item:t}})}))},setTitle:function(t){e({type:Aa,payload:t})},update:function(t){return e({type:Je}),fetch("/api/category/store",{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){return e({type:Ve,payload:{item:t.data,result:t.result}}),t}))}}}))(qe),He="Admin/Category/LoadItemsReq",ze="Admin/Category/LoadItemsRes",We="Admin/Category/LoadItemReq",Ue="Admin/Category/LoadItemRes",Je="Admin/Category/SaveReq",Ve="Admin/Category/SaveRes",Ge="Admin/Category/DeleteRes",Ye={items:[],loadingItems:!1,item:{},loadingItem:!1,deleteDialogOpen:!1,deleteId:"",saving:!1},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return Object(x.a)({},e,{loadingItem:!0});case Ue:var a=t.payload.item;return Object(x.a)({},e,{item:a,loadingItem:!1});case He:return Object(x.a)({},e,{loadingItems:!0});case ze:return Object(x.a)({},e,{loadingItems:!1,items:t.payload.items});case Je:return Object(x.a)({},e,{saving:!0});case Ve:a=t.payload.item;var n=!1,r=e.items.map((function(e,t){return e&&e._id===a._id?(n=!0,a):e}));return n||r.push(a),Object(x.a)({},e,{items:r,saving:!1});case"Admin/Category/ShowDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!0,deleteId:t.payload.deleteId});case"Admin/Category/CloseDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!1});case Ge:a=t.payload.item;return Object(x.a)({},e,{items:e.items.filter((function(e){return e._id!==a._id}))});default:return e}},Xe=T("Categories","/categories",(function(e){return r.a.createElement("div",null,r.a.createElement(m.b,{exact:!0,path:e.match.path,component:Pe}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/edit/:itemId",component:Me}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/add",component:Me}))}),Qe),$e=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1)]).then(a.bind(null,387))})),Ke=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.items,a=e.loadItems;t&&t.length||a()}},{key:"render",value:function(){console.log("Category List",this.props);var e=this.props,t=e.match,a=e.items,l=(e.loadingItems,e.showDeleteDialog,e.onDelete),i=(e.deleteDialogOpen,e.deleteId,e.header);return r.a.createElement(n.Suspense,{fallback:"Loading..."},r.a.createElement($e,{columnNames:["Author","Name"],rows:a.map((function(e,t){return{_id:e._id,columns:[{type:"image",url:e.image.url,width:"60px"},{text:e.name}]}})),path:t?t.path:"/admin/authors",header:i,onDelete:l,addItemText:"Add Author",searchBoxPlaceholder:"search category"}))}}]),a}(r.a.Component),Ze=Re(Object(o.b)((function(e){var t=e.Admin.Author;return Object(x.a)({},t)}),(function(e){return{loadItems:function(){return e({type:lt}),fetch("/api/author/get").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:it,payload:{items:t}})}))},onDelete:function(t){var a={id:t};return fetch("/api/author/delete",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){t.result&&"success"===t.result&&e({type:ut,payload:{item:t.data}})}))}}}))(Ke))("Authors"),et=Object(ie.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},textField:{width:"100%"},themesSelect:{width:"100%"},button:{float:"right"}}}));function tt(e){var t=e.item,a=e.match,n=(e.themes,e.update),l=e.action,i=e.saving,c=et(),o=r.a.useState(""),u=Object(g.a)(o,2),d=u[0],p=u[1],h=r.a.useState(t.firstname),f=Object(g.a)(h,2),E=f[0],b=f[1],v=r.a.useState(t.lastname),y=Object(g.a)(v,2),O=y[0],j=y[1],x=r.a.useState(t.description),N=Object(g.a)(x,2),I=N[0],k=N[1],A=r.a.useState(null),w=Object(g.a)(A,2),D=w[0],S=w[1];return d?(console.log("redirecting",d),r.a.createElement(m.a,{to:d})):r.a.createElement(oe.a,{maxWidth:"lg",className:c.container},r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(s.b,{to:"/admin/authors"},r.a.createElement(he.a,{variant:"contained",color:"primary"},r.a.createElement(be.a,null)," Back to list"))),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(me.a,{className:c.paper},r.a.createElement("form",{onSubmit:function(e){var t=new FormData;t.append("firstname",E),t.append("lastname",O),t.append("description",I),t.append("image",D),"edit"===l&&t.append("id",a.params.itemId),n(t).then((function(e){"success"===e.result&&p("/admin/authors")})),e.preventDefault()}},r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,sm:6},r.a.createElement(pe.a,{id:"outlined-basic",className:c.textField,label:"Firstname",margin:"normal",variant:"outlined",name:"firstname",defaultValue:E,required:!0,onChange:function(e){return b(e.target.value)}})),r.a.createElement(se.a,{item:!0,sm:6},r.a.createElement(pe.a,{id:"outlined-basic",className:c.textField,label:"Lastname",margin:"normal",variant:"outlined",name:"lastname",defaultValue:O,required:!0,onChange:function(e){return j(e.target.value)}})),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(at,{image:t.image}),r.a.createElement(he.a,{variant:"contained",component:"label"},"Upload image",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){S(e.target.files[0])}}))),r.a.createElement(se.a,{item:!0,sm:12},r.a.createElement(pe.a,{variant:"outlined",id:"outlined-multiline-static",label:"Description",multiline:!0,rows:"4",defaultValue:I,className:c.textField,onChange:function(e){k(e.target.value)}})),r.a.createElement(se.a,{item:!0,sm:12},r.a.createElement(he.a,{type:"submit",variant:"contained",color:"primary",className:c.button,disabled:i},i?r.a.createElement(ge.a,{size:"1rem"}):"Save"))))))))}var at=function(e){var t=e.image;return t?r.a.createElement(de.a,{width:60},r.a.createElement("img",{src:t.url})):""},nt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={action:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadItem,a=e.match,n=e.setTitle;a.params.itemId?(this.setState({action:"edit"}),n("Edit category"),t(a.params.itemId)):(this.setState({action:"add"}),n("Add category"))}},{key:"render",value:function(){console.log("Edit Request",this.props);var e=this.props,t=e.match,a=e.item,n=e.themes,l=e.update,i=e.loadingItem,c=e.saving,o=this.state.action;return i?r.a.createElement(fe.a,null):r.a.createElement(tt,{action:o,item:"edit"==o?a:{},match:t,themes:n,update:l,saving:c})}}]),a}(r.a.Component),rt=Object(o.b)((function(e){var t=e.Admin.Author;return{items:t.items,item:t.item,loadingItem:t.loadingItem,saving:t.saving}}),(function(e){return{loadItem:function(t){return e({type:ct}),fetch("/api/author/get?id="+t).then((function(e){return e.ok?e.json():{}})).then((function(t){e({type:ot,payload:{item:t}})}))},setTitle:function(t){e({type:Aa,payload:t})},update:function(t){return e({type:st}),fetch("/api/author/store",{method:"POST",body:t}).then((function(e){return e.ok?e.json():{}})).then((function(a){return P(t.get("image"),a.filename).then((function(t){return e({type:mt,payload:{item:a.data,result:a.result}}),a}))}))}}}))(nt),lt="Admin/Author/LoadItemsReq",it="Admin/Author/LoadItemsRes",ct="Admin/Author/LoadItemReq",ot="Admin/Author/LoadItemRes",st="Admin/Author/SaveReq",mt="Admin/Author/SaveRes",ut="Admin/Author/DeleteRes",dt={items:[],loadingItems:!1,item:{},loadingItem:!1,deleteDialogOpen:!1,deleteId:"",saving:!1},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return Object(x.a)({},e,{loadingItem:!0});case ot:var a=t.payload.item;return Object(x.a)({},e,{item:a,loadingItem:!1});case lt:return Object(x.a)({},e,{loadingItems:!0});case it:return Object(x.a)({},e,{loadingItems:!1,items:t.payload.items});case st:return Object(x.a)({},e,{saving:!0});case mt:a=t.payload.item;var n=!1,r=e.items.map((function(e,t){return e&&e._id===a._id?(n=!0,a):e}));return n||r.push(a),Object(x.a)({},e,{items:r,saving:!1});case"Admin/Author/ShowDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!0,deleteId:t.payload.deleteId});case"Admin/Author/CloseDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!1});case ut:a=t.payload.item;return Object(x.a)({},e,{items:e.items.filter((function(e){return e._id!==a._id}))});default:return e}},ht=T("Authors","/authors",(function(e){return r.a.createElement("div",null,r.a.createElement(m.b,{exact:!0,path:e.match.path,component:Ze}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/edit/:itemId",component:rt}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/add",component:rt}))}),pt),gt=Object(ie.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},textField:{width:"100%"},button:{float:"right"}}}));function ft(e){var t,a=e.item,n=e.match,l=e.categories,i=void 0===l?[]:l,c=e.authors,o=void 0===c?[]:c,u=e.update,d=e.action,p=e.saving,h=gt(),f=r.a.useState(""),E=Object(g.a)(f,2),b=E[0],v=E[1],y=r.a.useState(a.title),O=Object(g.a)(y,2),j=O[0],x=O[1],N=r.a.useState(a.category||[]),I=Object(g.a)(N,2),k=I[0],A=I[1],w=r.a.useState(a.author?(t=a.author)&&"object"===typeof t&&t.constructor===Object?a.author._id:a.author:""),D=Object(g.a)(w,2),S=D[0],C=D[1],L=r.a.useState(a.subtitle||""),R=Object(g.a)(L,2),T=R[0],F=R[1],B=r.a.useState(a.paragraphs||[{content:""}]),_=Object(g.a)(B,2),q=_[0],M=_[1],H=r.a.useState(null),z=Object(g.a)(H,2),W=z[0],U=z[1];return b?(console.log("redirecting",b),r.a.createElement(m.a,{to:b})):r.a.createElement(oe.a,{maxWidth:"lg",className:h.container},r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(s.b,{to:"/admin/articles"},r.a.createElement(he.a,{variant:"contained",color:"primary"},r.a.createElement(be.a,null)," Back to list"))),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(me.a,{className:h.paper},r.a.createElement("form",{onSubmit:function(e){e.target.elements;var t=new FormData;t.append("title",j),t.append("subtitle",T),t.append("category",JSON.stringify(k)),t.append("author",S),t.append("paragraphs",JSON.stringify(q)),t.append("image",W),"edit"===d&&t.append("id",n.params.itemId),u(t).then((function(e){e.result,P(W,e.filename).then((function(e){e.result,v("/admin/articles")}))})),e.preventDefault()}},r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,sm:6},r.a.createElement(pe.a,{id:"outlined-basic",className:h.textField,label:"Title",margin:"normal",variant:"outlined",name:"title",defaultValue:j,required:!0,onChange:function(e){x(e.target.value)}})),r.a.createElement(se.a,{item:!0,sm:6},r.a.createElement(ke,{options:i,value:k.map((function(e,t){return e._id})),className:h.selectCategory,multiple:!0,changeHandler:function(e){return A(e)},label:"Category"})),r.a.createElement(se.a,{item:!0,sm:6},r.a.createElement(ke,{options:o,value:S,className:h.selectCategory,changeHandler:C,label:"Author"})),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(bt,{image:a.image}),r.a.createElement(he.a,{variant:"contained",component:"label"},"Upload image",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){U(e.target.files[0])}}))),r.a.createElement(se.a,{item:!0,sm:12},r.a.createElement(pe.a,{variant:"outlined",id:"outlined-multiline-static",label:"Subtitle",multiline:!0,rows:"2",defaultValue:T,className:h.textField,onChange:function(e){F(e.target.value)}})),r.a.createElement(se.a,{item:!0,sm:12},r.a.createElement(Le,{items:q,changeHandler:function(e){return M(e)}})),r.a.createElement(se.a,{item:!0,sm:12},r.a.createElement(he.a,{type:"submit",variant:"contained",color:"primary",className:h.button,disabled:p},p?r.a.createElement(ge.a,{size:"1rem"}):"Save"))))))))}var Et=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={action:n.props.match.params.itemId?"edit":"add"},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadItem,a=e.match,n=e.setTitle,r=e.loadCategories,l=e.categories,i=e.loadAuthors,c=e.authors;a.params.itemId?(n("Edit article"),t(a.params.itemId)):n("Add article"),l.length||r(),c.length||i()}},{key:"render",value:function(){console.log("Edit item",this.props);var e=this.props,t=e.match,a=e.item,n=e.update,l=e.loadingItem,i=e.saving,c=e.categories,o=e.authors,s=this.state.action;return l?r.a.createElement(fe.a,null):r.a.createElement(ft,{action:s,item:"edit"===s?a:{},match:t,categories:c,authors:o,update:n,saving:i})}}]),a}(r.a.Component),bt=function(e){var t=e.image;return t?r.a.createElement(de.a,{width:300},r.a.createElement("img",{src:t.url})):""},vt=Object(o.b)((function(e){var t=e.Admin.Article,a=e.Admin.Category,n=e.Admin.Author;return{items:t.items,item:t.item,loadingItem:t.loadingItem,saving:t.saving,categories:a.items,authors:n.items}}),(function(e){return{loadItem:function(t){return e({type:yt}),fetch("/api/article/get?id="+t).then((function(e){return e.ok?e.json():{}})).then((function(t){e({type:Ot,payload:{item:t}})}))},setTitle:function(t){e({type:Aa,payload:t})},update:function(t){return e({type:jt}),fetch("/api/article/store",{method:"POST",body:t}).then((function(e){return e.ok?e.json():{}})).then((function(t){return e({type:xt,payload:{item:t.data,result:t.result}}),t}))},loadCategories:function(){return e({type:He}),fetch("/api/category/get").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:ze,payload:{items:t}})}))},loadAuthors:function(){return e({type:lt}),fetch("/api/author/get").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:it,payload:{items:t}})}))}}}))(Et),yt="Admin/Article/LoadItemReq",Ot="Admin/Article/LoadItemRes",jt="Admin/Article/SaveReq",xt="Admin/Article/SaveRes",Nt={items:[],loadingItems:!1,shouldLoadItems:!0,item:{},loadingItem:!1,deleteDialogOpen:!1,deleteId:"",saving:!1},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return Object(x.a)({},e,{loadingItem:!0});case Ot:var a=t.payload.item;return Object(x.a)({},e,{item:a,loadingItem:!1});case"Admin/Article/LoadItemsReq":return Object(x.a)({},e,{loadingItems:!0});case"Admin/Article/LoadItemsRes":return Object(x.a)({},e,{loadingItems:!1,shouldLoadItems:!1,items:t.payload.items});case jt:return Object(x.a)({},e,{saving:!0});case xt:a=t.payload.item;var n=!1,r=e.items.map((function(e,t){return e&&e._id===a._id?(n=!0,a):e}));return n||r.push(a),Object(x.a)({},e,{items:r,saving:!1});case"Admin/Article/ShowDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!0,deleteId:t.payload.deleteId});case"Admin/Article/CloseDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!1});case"Admin/Article/DeleteRes":a=t.payload.item;return Object(x.a)({},e,{items:e.items.filter((function(e){return e._id!==a._id}))});default:return e}},kt=T("Articles","/articles",(function(e){return r.a.createElement("div",null,r.a.createElement(m.b,{exact:!0,path:e.match.path,component:St}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/edit/:itemId",component:vt}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/add",component:vt}))}),It),At=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1)]).then(a.bind(null,387))})),wt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.items,e.loadItems);e.shouldLoadItems&&t()}},{key:"render",value:function(){console.log("Articles List",this.props);var e=this.props,t=e.match,a=e.items,l=e.loadingItems,i=(e.showDeleteDialog,e.onDelete);e.deleteDialogOpen,e.deleteId,e.header;return r.a.createElement(n.Suspense,{fallback:"Loading..."},r.a.createElement(At,{loading:l,columnNames:["Article","Title","Category","Author"],rows:a.map((function(e,t){return{_id:e._id,columns:[{type:"image",url:e.image?e.image.url:""},{text:e.title},{text:e.category.map((function(e,t){return e.name})).join(",")},{text:e.author?e.author.name:"Blogger"}]}})),path:t?t.path:"/admin/articles",onDelete:i,addItemText:"Add Article"}))}}]),a}(r.a.Component),Dt=Object(o.b)((function(e){var t=e.Admin.Article;return Object(x.a)({},t)}),(function(e){return{loadItems:function(){return e({type:"Admin/Article/LoadItemsReq"}),fetch("/api/article/get").then((function(t){return t.ok?t.json():(e({type:Da,payload:{type:"error",text:"Connection with server failed..."}}),[])})).then((function(t){e({type:"Admin/Article/LoadItemsRes",payload:{items:t}})}))},onDelete:function(t){var a={id:t};return fetch("/api/article/delete",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():{}})).then((function(t){t.result&&"success"===t.result&&e({type:"Admin/Article/DeleteRes",payload:{item:t.data}})}))}}}))(wt),St=Re(Dt)("Articles");var Ct=Object(ie.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"DEFAULT"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Dashboard/FirstAction":return{name:"Javlonbek"};default:return e}},Rt=T("Dashboard","/",(function(e){var t=Ct();Object(le.a)(t.paper,t.fixedHeight);return console.log("Dashboard",e),r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt,{header:"Articles"}),r.a.createElement(oe.a,{maxWidth:"lg",className:t.container},r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(me.a,{className:t.paper},"Some Dashboard Content")))))}),Lt),Tt=a(354),Ft=a(367),Pt=a(344),Bt=Object(ie.a)((function(e){return{collapse:{position:"absolute",top:"0.8rem",right:"0.8rem",zIndex:9999}}})),_t=Object(o.b)((function(e){return Object(x.a)({},e.Admin.alert)}),(function(e){return{close:function(){e({type:Sa})}}}))((function(e){var t=e.type,a=e.text,n=e.close,l=e.open,i=Bt();return console.log("alert rendering",l),t?(setTimeout((function(){return n()}),5e3),r.a.createElement(Pt.a,{in:l,className:i.collapse},r.a.createElement(Ft.a,{severity:t,onClose:function(){return n()}},a.toString()))):null})),qt=a(80),Mt=a(346),Ht=a(351),zt=a(347),Wt=a(348),Ut=a(306),Jt=a(352),Vt=a(333),Gt=a(349),Yt=a(154),Qt=a.n(Yt),Xt=a(155),$t=a.n(Xt),Kt=a(297),Zt=a(345),ea=a(350);function ta(){return r.a.createElement(ce.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(s.b,{color:"inherit",to:"/"},"RJ")," ",(new Date).getFullYear(),".")}var aa=Object(ie.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(x.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(qt.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),na=function(e){var t=e.items,a=e.accessRights;return t=t.map((function(e,t){if(a&&a.length&&a.indexOf(e.accessRightTitle)>=0||!e.accessRightTitle){var n=e.icon;return r.a.createElement(Kt.a,{button:!0,key:t},r.a.createElement(Zt.a,null,r.a.createElement(n,null)),r.a.createElement(s.b,{to:e.link},r.a.createElement(Ne.a,{primary:e.text})))}})),r.a.createElement("div",null,t)};var ra=Object(o.b)((function(e){return{title:e.Admin.title,menuItems:e.Admin.menuItems,rights:e.Admin.user.rights,user:e.Admin.user}}),(function(e){return{logOut:function(){return e({type:wa}),fetch("/api/user/logout").then((function(e){return console.log("logged out"),""}))}}}))((function(e){console.log("Layout",e);var t=aa(),a=r.a.useState(!0),n=Object(g.a)(a,2),l=n[0],i=n[1];return Object(le.a)(t.paper,t.fixedHeight),r.a.createElement("div",{className:t.root},r.a.createElement(Mt.a,null),r.a.createElement(zt.a,{position:"absolute",className:Object(le.a)(t.appBar,l&&t.appBarShift)},r.a.createElement(Wt.a,{className:t.toolbar},r.a.createElement(Vt.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},className:Object(le.a)(t.menuButton,l&&t.menuButtonHidden)},r.a.createElement(Qt.a,null)),r.a.createElement(ce.a,{component:"h1",variant:"h4",color:"inherit",noWrap:!0,className:t.title},e.title),r.a.createElement(Vt.a,{color:"inherit"},r.a.createElement(Gt.a,{badgeContent:0,color:"secondary"},r.a.createElement($t.a,null))),r.a.createElement(Vt.a,{color:"inherit",title:"Log out",onClick:function(t){e.logOut().then((function(){e.history.goBack()}))}},r.a.createElement(ea.a,null)))),r.a.createElement(Ht.a,{variant:"permanent",classes:{paper:Object(le.a)(t.drawerPaper,!l&&t.drawerPaperClose)},open:l},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(Vt.a,{onClick:function(){i(!1)}},r.a.createElement(be.a,null))),r.a.createElement(Jt.a,null),r.a.createElement(Ut.a,null,r.a.createElement(na,{items:e.menuItems,accessRights:e.rights}))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),e.children,r.a.createElement(ta,null)))})),la=a(370),ia=a(353),ca=a(246),oa=a.n(ca);function sa(){return r.a.createElement(ce.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(ue.a,{color:"inherit",href:"https://material-ui.com/"},"RJ")," ",(new Date).getFullYear(),".")}var ma=Object(ie.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ua=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).changeHandler=function(e,t){n.setState(Object(qt.a)({},e,t))},n.submitHandler=function(){(0,n.props.signIn)(n.state.email,n.state.password)},n.state={email:"",password:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.signIn,e.user),a=(e.match,this.state);a.email,a.password;if(console.log("Login",this.props),t&&t.loggedIn){var n=window.localStorage.getItem("lastVisitedPath");return r.a.createElement(m.a,{to:n||"/admin"})}return r.a.createElement(oe.a,{component:"main",maxWidth:"xs"},r.a.createElement(Mt.a,null),r.a.createElement(da,{changeHandler:this.changeHandler,submitHandler:this.submitHandler,failed:t.loginAttempted,authenticating:t.authenticating}),r.a.createElement(_t,null),r.a.createElement(de.a,{mt:8},r.a.createElement(sa,null)))}}]),a}(r.a.Component),da=function(e){var t=e.changeHandler,a=e.submitHandler,n=e.failed,l=e.authenticating,i=ma();return r.a.createElement("div",{className:i.paper},r.a.createElement(la.a,{className:i.avatar},r.a.createElement(oa.a,null)),r.a.createElement(ce.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:i.form,onSubmit:function(e){e.preventDefault(),a()}},r.a.createElement(pe.a,{error:n,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"username",autoComplete:"off",autoFocus:!0,onChange:function(e){return t("email",e.target.value)}}),r.a.createElement(pe.a,{error:n,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:function(e){return t("password",e.target.value)}}),r.a.createElement(ia.a,{control:r.a.createElement(Oe.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(he.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,disabled:l},l?r.a.createElement(ge.a,null):"Sign In"),r.a.createElement(se.a,{container:!0},r.a.createElement(se.a,{item:!0,xs:!0},r.a.createElement(ue.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(se.a,{item:!0},r.a.createElement(ue.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up")))))},pa=Object(o.b)((function(e){return{user:e.Admin.user}}),(function(e){return{signIn:function(t,a){return e({type:Ia}),fetch("/admin/login",{method:"POST",body:JSON.stringify({username:t,password:a}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:ka,payload:Object(x.a)({},t.user,{loginAttempted:!0})}),t.result})).catch((function(t){e({type:ka,payload:{}}),e({type:Da,payload:{type:"error",text:"Connection with server failed..."}})}))},alert:function(t){e({type:Da,payload:t})}}}))(ua),ha=a(248),ga=a(16),fa="#FFFFFF",Ea={black:"#000000",white:fa,primary:{contrastText:fa,dark:ga.a.indigo[900],main:ga.a.indigo[500],light:ga.a.indigo[100]},secondary:{contrastText:fa,dark:ga.a.blue[900],main:ga.a.blue.A400,light:ga.a.blue.A400},success:{contrastText:fa,dark:ga.a.green[900],main:ga.a.green[600],light:ga.a.green[400]},info:{contrastText:fa,dark:ga.a.blue[900],main:ga.a.blue[600],light:ga.a.blue[400]},warning:{contrastText:fa,dark:ga.a.orange[900],main:ga.a.orange[600],light:ga.a.orange[400]},error:{contrastText:fa,dark:ga.a.red[900],main:ga.a.red[600],light:ga.a.red[400]},text:{primary:ga.a.blueGrey[900],secondary:ga.a.blueGrey[600],link:ga.a.blue[600]},background:{default:"#F4F6F8",paper:fa},icon:ga.a.blueGrey[600],divider:ga.a.grey[200]},ba={h1:{color:Ea.text.primary,fontWeight:500,fontSize:"35px",letterSpacing:"-0.24px",lineHeight:"40px"},h2:{color:Ea.text.primary,fontWeight:500,fontSize:"29px",letterSpacing:"-0.24px",lineHeight:"32px"},h3:{color:Ea.text.primary,fontWeight:500,fontSize:"24px",letterSpacing:"-0.06px",lineHeight:"28px"},h4:{color:Ea.text.primary,fontWeight:500,fontSize:"20px",letterSpacing:"-0.06px",lineHeight:"24px"},h5:{color:Ea.text.primary,fontWeight:500,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"20px"},h6:{color:Ea.text.primary,fontWeight:500,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"20px"},subtitle1:{color:Ea.text.primary,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"25px"},subtitle2:{color:Ea.text.secondary,fontWeight:400,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body1:{color:Ea.text.primary,fontSize:"15px",letterSpacing:"-0.05px",lineHeight:"21px"},body2:{color:Ea.text.secondary,fontSize:"13px",letterSpacing:"-0.04px",lineHeight:"18px"},button:{color:Ea.text.primary,fontSize:"14px"},caption:{color:Ea.text.secondary,fontSize:"11px",letterSpacing:"0.33px",lineHeight:"13px"},overline:{color:Ea.text.secondary,fontSize:"11px",fontWeight:500,letterSpacing:"0.33px",lineHeight:"13px",textTransform:"uppercase"}},va={MuiButton:{contained:{boxShadow:"0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)",backgroundColor:"#FFFFFF"}},MuiIconButton:{root:{color:Ea.icon,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"}}},MuiPaper:{elevation1:{boxShadow:"0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)"}},MuiTableCell:{root:Object(x.a)({},ba.body1,{borderBottom:"1px solid ".concat(Ea.divider)})},MuiTableHead:{root:{backgroundColor:ga.a.grey[50]}},MuiTypography:{gutterBottom:{marginBottom:8}}},ya=Object(ha.a)({palette:Ea,typography:ba,overrides:va,zIndex:{appBar:1200,drawer:1100}});function Oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],function(a){Object(h.a)(l,a);var n=Object(p.a)(l);function l(e){var t;return Object(u.a)(this,l),(t=n.call(this,e)).getUser=function(){return new Promise((function(e,a){t.props.user&&t.props.user.loggedIn?e(t.props.user):t.props.getActiveUser().then((function(t){e(t)}))}))},t.state={redirect:!1,loading:!0,hasAccessRight:!0},t}return Object(d.a)(l,[{key:"componentDidMount",value:function(){var e=this;this.getUser().then((function(a){var n=!0,r=!1;a&&a._id?!t||a.rights.indexOf(t)>=0||(n=!1):r=!0,e.setState({redirect:r,loading:!1,hasAccessRight:n})}))}},{key:"render",value:function(){console.log("withAuth",t);var a=this.state,n=a.redirect,l=a.loading,i=a.hasAccessRight,c=this.props;return c.location.pathname===c.match.path+"/login"?r.a.createElement(Tt.a,{theme:ya},r.a.createElement(pa,null)):l?r.a.createElement(fe.a,null):(i||(console.log("has no access right",c.user.rights),c.history.goBack()),!c.user.loggedIn&&n?(window.localStorage.setItem("lastVisitedPath",this.props.location.pathname),console.log("redirecting",c.match.path+"/login"),r.a.createElement(m.a,{to:"/admin/login"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(e,this.props)))}}]),l}(n.Component)),l=function(e){return{user:e.Admin.user}},i=function(e){return{getActiveUser:function(){return e({type:Ia}),fetch("/user/active").then((function(e){return e.json()})).then((function(t){return e({type:ka,payload:t.user}),t.user})).catch((function(t){return e({type:ka,payload:{}}),console.error(t),e({type:Da,payload:{type:"error",text:"Connection with server failed..."}}),{}}))}}};return Object(o.b)(l,i)(a)}var ja=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props;return r.a.createElement(Tt.a,{theme:ya},r.a.createElement(_t,null),r.a.createElement(ra,e,r.a.createElement(xa,{routes:e.routes,match:e.match})))}}]),a}(r.a.Component),xa=function(e){var t=e.routes,a=e.match;return t.map((function(e,t){return r.a.createElement(m.b,{exact:e.path===a.path+"/",path:e.path,key:e.path,component:Oa(e.component,e.title),title:e.title})}))},Na=Oa(ja),Ia="Admin/SignInReq",ka="Admin/SignInRes",Aa="Admin/SetTitle",wa="Admin/LogOut",Da="Admin/Alert",Sa="Admin/AlertClose",Ca={title:"Dashboard",menuItems:[{text:"Dashboard",accessRightTitle:"Dashboard",link:"/admin",icon:te.a},{text:"Authors",accessRightTitle:"Authors",link:"/admin/authors",icon:ae.a},{text:"Articles",accessRightTitle:"Articles",link:"/admin/articles",icon:ne.a},{text:"Categories",accessRightTitle:"Categories",link:"/admin/categories",icon:re.a}]},La={loggedIn:!1,authenticating:!1,loginAttempted:!1},Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ia:return Object(x.a)({},e,{authenticating:!0});case ka:var a=t.payload;return a&&a.username?Object(x.a)({},e,{},t.payload,{loggedIn:!0,authenticating:!1}):Object(x.a)({},e,{},t.payload,{loginFailed:!0,authenticating:!1,loggedIn:!1});case wa:return Ca;default:return e}},Ta={type:"",text:"asd",open:!0},Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Da:return Object(x.a)({},e,{},t.payload,{open:!0});case Sa:return{open:!1,type:""};default:return e}},Pa=(T("Admin","/admin",Na,(function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,n=arguments.length>1?arguments[1]:void 0;return Object(x.a)({},Ca,{Dashboard:Lt(a.Dashboard,n),Category:Qe(a.Category,n),Article:It(a.Article,n),Author:pt(a.Author,n),user:Ra(a.user,n),alert:Fa(a.alert,n),title:(e=a.title,t=n,t.type===Aa?t.payload:e)})}),{Dashboard:Rt,Category:Xe,Article:kt,Author:ht}),function(e){var t=e.image,a=e.className,n=void 0===a?"":a;return t?r.a.createElement("div",{className:"bg-image "+n,style:{backgroundImage:"url("+t.url+")"}}):""}),Ba=function(e){var t=e.author,a=r.a.useState(!1),n=Object(g.a)(a,2),l=n[0],i=n[1];return t?r.a.createElement("div",{className:"author"},r.a.createElement("span",{id:t.slug,className:"author-name"},t.name," "),r.a.createElement("span",{className:"author-group"},"in The Ascend "),r.a.createElement(E.a,{placement:"top",isOpen:l,target:t.slug,toggle:function(){return i(!l)},trigger:"hover"},r.a.createElement(b.a,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"flex-1 mr-2"},r.a.createElement("h2",{className:"h6"},t.name),r.a.createElement("p",{className:"author-description text-faded"},t.description)),r.a.createElement("div",{className:"author-image-box"},r.a.createElement(Pa,{className:"author-image",image:t.image})))))):""},_a=function(e){var t=e.subtitle,a=e.link;return t?r.a.createElement(s.b,{to:a},r.a.createElement("p",{className:"subtitle mb-2 text-faded"},t)):""},qa=function(e){var t=e.article;return r.a.createElement("div",{className:"article-item article-item-v1 col-12 d-flex mb-3"},r.a.createElement("div",{className:"content-box"},r.a.createElement("span",{className:"text-uppercase reason-text"},"Recommended for you"),r.a.createElement(s.b,{to:"/article/"+t.slug},r.a.createElement("h2",{className:"h5 title"},t.title)),r.a.createElement(_a,{link:"/article/"+t.slug,subtitle:t.subtitle}),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"flex-1"},r.a.createElement(Ba,{author:t.author}),r.a.createElement("div",{className:"fs-12"},r.a.createElement("span",{className:"date"},"Mar 31, 2020"),r.a.createElement("span",{className:"dot-separator px-1"}),r.a.createElement("span",{className:"read-time"},"8 min read "))),r.a.createElement("span",{className:"bookmark-button mr-2"},r.a.createElement(f.a,null)),r.a.createElement("span",{className:"actions-button"},r.a.createElement(f.c,null)))),r.a.createElement("div",{className:"image-box"},r.a.createElement(Pa,{image:t.image,className:"article-image"})))},Ma=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.items,e.loadItems);e.shouldLoadItems&&t()}},{key:"render",value:function(){console.log("Articles List",this.props);var e=this.props,t=e.items;if(e.loadingItems)return r.a.createElement("div",null,"Loading...");var a=t.map((function(e,t){return r.a.createElement(qa,{article:e})}));return r.a.createElement("div",{className:"row"},a)}}]),a}(r.a.Component),Ha=Object(o.b)((function(e){var t=e.Article;return{items:t.items,loadingItems:t.loadingItems,shouldLoadItems:t.shouldLoadItems}}),(function(e){return{loadItems:function(){return e({type:Ka}),fetch("/api/article/get").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:Za,payload:{items:t}})}))}}}))(Ma),za=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("Articles List",this.props),r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8"},r.a.createElement(Ha,null)),r.a.createElement("div",{className:"col-4"},"col-4")))}}]),a}(r.a.Component),Wa=Object(o.b)((function(e){e.Article;return{}}),(function(e){return{}}))(za),Ua=function(e){var t=e.author;return t?r.a.createElement("div",{className:"author-v1 d-flex align-items-center"},r.a.createElement("div",{className:"author-image-box mr-2"},r.a.createElement(Pa,{className:"author-image rounded-circle",image:t.image})),r.a.createElement("div",{className:"mr-2"},r.a.createElement("div",{className:"d-flex align-items-center mb-1"},r.a.createElement("h2",{className:"h6 m-0 mr-2"},t.name),r.a.createElement("div",{className:"btn btn-sm py-0 border rounded"}," Follow ")),r.a.createElement("div",{className:"text-faded text-small"},r.a.createElement("span",null,"Feb 2 "),r.a.createElement("span",{className:"dot-separator"}),r.a.createElement("span",null," 5 min read"),r.a.createElement("span",{className:"star"}," ",r.a.createElement(N.a,null))))):""},Ja=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.loadItem(this.props.slug)}},{key:"render",value:function(){console.log("Article",this.props);var e=this.props,t=(e.match,e.item),a=e.loadingItem;e.slug;return a?r.a.createElement("span",null,"Loading..."):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"h3 mb-3"},t.title),r.a.createElement("div",{className:"d-flex"},r.a.createElement(Ua,{author:t.author})),r.a.createElement(Va,{image:t.image}),r.a.createElement(Ga,{parts:t.paragraphs})))}}]),a}(r.a.Component),Va=function(e){var t=e.image;return t?r.a.createElement("div",{className:"article-image my-3"},r.a.createElement("img",{src:t.url})):""},Ga=function(e){var t=e.parts;return t&&t.length?(t=t.map((function(e,t){return r.a.createElement("p",null,e.content)})),r.a.createElement("div",{className:"content"},t)):""},Ya=Object(o.b)((function(e){var t=e.Article;return{item:t.item,loadingItem:t.loadingItem}}),(function(e){return{loadItem:function(t){return e({type:en}),fetch("/api/article/get?slug="+t).then((function(e){return e.ok?e.json():{}})).then((function(t){e({type:tn,payload:{item:t}})}))}}}))(Ja),Qa=function(e){var t=e.link,a=e.className,n=void 0===a?"":a;return t?r.a.createElement("div",{className:n},r.a.createElement(s.b,{to:t},r.a.createElement(S.a,null)," Back to list")):""},Xa=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("Article Single",this.props),r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8 m-auto"},r.a.createElement(Qa,{link:"/article",className:"text-primary"}),r.a.createElement(Ya,{slug:this.props.match.params.slug}))))}}]),a}(r.a.Component),$a=Object(o.b)((function(e){e.Article;return{}}),(function(e){return{}}))(Xa),Ka="Article/LoadItemsReq",Za="Article/LoadItemsRes",en="Article/LoadItemReq",tn="Article/LoadItemRes",an={items:[],loadingItems:!1,shouldLoadItems:!0,item:{},loadingItem:!1,deleteDialogOpen:!1,deleteId:"",saving:!1},nn=T("Article","/article",(function(e){return r.a.createElement("div",null,r.a.createElement(m.b,{exact:!0,path:e.match.path,component:Wa}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/:slug",component:$a}))}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case en:return Object(x.a)({},e,{loadingItem:!0});case tn:var a=t.payload.item;return Object(x.a)({},e,{item:a,loadingItem:!1});case Ka:return Object(x.a)({},e,{loadingItems:!0});case Za:return Object(x.a)({},e,{loadingItems:!1,shouldLoadItems:!1,items:t.payload.items});case"Article/SaveReq":return Object(x.a)({},e,{saving:!0});case"Article/SaveRes":a=t.payload.item;var n=!1,r=e.items.map((function(e,t){return e&&e._id===a._id?(n=!0,a):e}));return n||r.push(a),Object(x.a)({},e,{items:r,saving:!1});case"Article/ShowDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!0,deleteId:t.payload.deleteId});case"Article/CloseDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!1});case"Article/DeleteRes":a=t.payload.item;return Object(x.a)({},e,{items:e.items.filter((function(e){return e._id!==a._id}))});default:return e}})),rn=function(e){var t=e.columnNames,a=e.rows,l=e.loading,i=e.handleDelete,c=e.path,o=(e.addItemText,e.searchBoxPlaceholder,Object(n.useState)(10)),s=Object(g.a)(o,2),m=(s[0],s[1],Object(n.useState)(0)),u=Object(g.a)(m,2);u[0],u[1];return r.a.createElement("div",{class:"card mb-0"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"table-responsive"},r.a.createElement(ln,{columnNames:t,rows:a,loading:l,handleDelete:i,path:c})),r.a.createElement(cn,null)))},ln=function(e){var t=e.columnNames,a=e.rows,l=e.handleDelete,i=e.path,c=e.loading,o=Object(n.useState)([]),s=Object(g.a)(o,2),m=(s[0],s[1],[]),u=[];return m=!a||c?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:t.length+2,className:"text-center py-4"},r.a.createElement("span",null,"Loading..."))):a.map((function(e,t){return r.a.createElement(on,{key:t,row:e,path:i,handleDelete:l})})),t.map((function(e,t){u.push(r.a.createElement("th",{scope:"col",key:t},e))})),r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"bg-primary text-white"},u)),r.a.createElement("tbody",null,m))},cn=function(e){return r.a.createElement("nav",{class:"mt-4"},r.a.createElement("ul",{class:"pagination"},r.a.createElement("li",{class:"page-item disabled"},r.a.createElement("a",{class:"page-link",href:"#","aria-label":"Previous",tabindex:"-1","aria-disabled":"true"},r.a.createElement("span",{class:"icofont-simple-left"}))),r.a.createElement("li",{class:"page-item active","aria-current":"page"},r.a.createElement("a",{class:"page-link",href:"#"},"1 ")),r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",href:"#"},"2 ")),r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",href:"#"},"3 ")),r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",href:"#","aria-label":"Next"},r.a.createElement("span",{class:"icofont-simple-right"})))))},on=function(e){var t=e.row,a=e.path,n=e.handleDelete,l=t.columns.map((function(e,l){var i={};if(e.width&&(i.width=e.width),e.type&&"image"===e.type)return r.a.createElement("td",{key:l,style:i},r.a.createElement("img",{src:e.url,className:e.className}));if("component"===e.type){var c=e.component;return r.a.createElement("td",{key:l},c)}return"actions"===e.type?r.a.createElement("td",null,r.a.createElement("div",{class:"actions"},r.a.createElement(s.b,{to:a+"/view",class:"btn btn-dark btn-sm btn-square rounded-pill"},r.a.createElement("span",{class:"btn-icon icofont-external-link"})),r.a.createElement(s.b,{to:a+"/edit/"+t._id,class:"btn btn-info btn-sm btn-square rounded-pill"},r.a.createElement("span",{class:"btn-icon icofont-ui-edit"})),r.a.createElement("button",{class:"btn btn-error btn-sm btn-square rounded-pill",onClick:function(e){return n(e,t.id)}},r.a.createElement("span",{class:"btn-icon icofont-ui-delete"})))):r.a.createElement("td",null,r.a.createElement("div",{className:e.className?e.className:""},e.text," "))}));return r.a.createElement("tr",null,l)},sn=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),l=(a[0],a[1]),i=Object(n.useState)(null),c=Object(g.a)(i,2),o=(c[0],c[1]);return r.a.createElement(n.Fragment,null,r.a.createElement(rn,Object.assign({},e,{handleDelete:function(e,t){l(!0),o(t)}})))},mn=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.items,e.loadItems);e.shouldLoadItems&&t()}},{key:"render",value:function(){console.log("Articles List",this.props);var e=this.props,t=e.items;if(e.loadingItems)return r.a.createElement("div",null,"Loading...");var a=t.map((function(e,t){var a=r.a.createElement("div",{class:"d-flex align-items-center nowrap text-primary"},r.a.createElement("span",{class:"icofont-ui-cell-phone p-0 mr-2"}),e.phone);return{id:e.id,columns:[{type:"image",url:"../assets/content/user-40-1.jpg",width:"40px",className:"rounded-500"},{className:"strong",text:(e.lastname+" "+e.firstname).trim()},{className:"text-muted",text:"10021"},{className:"text-muted text-nowrap",text:"42"},{className:"address-col",text:e.address},{type:"component",component:a},{className:"text-muted text-nowrap",text:"18 Dec 2019"},{type:"actions"}]}}));return r.a.createElement("div",{class:"page-content"},r.a.createElement(sn,{loading:!1,columnNames:["Photo","Name","ID","Age","Address","Number","Last visit","Actions"],rows:a,path:"/patient",onDelete:function(e){console.log("deleting",e)}}),r.a.createElement("div",{class:"add-action-box"},r.a.createElement("button",{class:"btn btn-primary btn-lg btn-square rounded-pill","data-toggle":"modal","data-target":"#add-patient"},r.a.createElement("span",{class:"btn-icon icofont-plus"}))))}}]),a}(r.a.Component),un=Object(o.b)((function(e){var t=e.Patient;return{items:t.items,loadingItems:t.loadingItems,shouldLoadItems:t.shouldLoadItems}}),(function(e){return{loadItems:function(){return e({type:Dn}),fetch("/api/patients").then((function(e){return e.ok?e.json():[]})).then((function(t){e({type:Sn,payload:{items:t}})}))}}}))(mn),dn=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("Patients List",this.props),r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-12"},r.a.createElement("header",{class:"page-header"},r.a.createElement("h1",{class:"page-title"},"Patients ")),r.a.createElement(un,null))))}}]),a}(r.a.Component),pn=Object(o.b)((function(e){e.Article;return{}}),(function(e){return{}}))(dn),hn=function(e){var t=e.image,a=e.className,n=void 0===a?"":a;return t?r.a.createElement("div",{className:"bg-image "+n,style:{backgroundImage:"url("+t.url+")"}}):""},gn=function(e){var t=e.author;return t?r.a.createElement("div",{className:"author-v1 d-flex align-items-center"},r.a.createElement("div",{className:"author-image-box mr-2"},r.a.createElement(hn,{className:"author-image rounded-circle",image:t.image})),r.a.createElement("div",{className:"mr-2"},r.a.createElement("div",{className:"d-flex align-items-center mb-1"},r.a.createElement("h2",{className:"h6 m-0 mr-2"},t.name),r.a.createElement("div",{className:"btn btn-sm py-0 border rounded"}," Follow ")),r.a.createElement("div",{className:"text-faded text-small"},r.a.createElement("span",null,"Feb 2 "),r.a.createElement("span",{className:"dot-separator"}),r.a.createElement("span",null," 5 min read"),r.a.createElement("span",{className:"star"}," ",r.a.createElement(N.a,null))))):""},fn=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.loadItem(this.props.slug)}},{key:"render",value:function(){console.log("Article",this.props);var e=this.props,t=(e.match,e.item),a=e.loadingItem;e.slug;return a?r.a.createElement("span",null,"Loading..."):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"h3 mb-3"},t.title),r.a.createElement("div",{className:"d-flex"},r.a.createElement(gn,{author:t.author})),r.a.createElement(En,{image:t.image}),r.a.createElement(bn,{parts:t.paragraphs})))}}]),a}(r.a.Component),En=function(e){var t=e.image;return t?r.a.createElement("div",{className:"article-image my-3"},r.a.createElement("img",{src:t.url})):""},bn=function(e){var t=e.parts;return t&&t.length?(t=t.map((function(e,t){return r.a.createElement("p",null,e.content)})),r.a.createElement("div",{className:"content"},t)):""},vn=Object(o.b)((function(e){var t=e.Article;return{item:t.item,loadingItem:t.loadingItem}}),(function(e){return{loadItem:function(t){return e({type:Cn}),fetch("/api/article/get?slug="+t).then((function(e){return e.ok?e.json():{}})).then((function(t){e({type:Ln,payload:{item:t}})}))}}}))(fn),yn=function(e){var t=e.link,a=e.className,n=void 0===a?"":a;return t?r.a.createElement("div",{className:n},r.a.createElement(s.b,{to:t},r.a.createElement(S.a,null)," Back to list")):""},On=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("Article Single",this.props),r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8 m-auto"},r.a.createElement(yn,{link:"/article",className:"text-primary"}),r.a.createElement(vn,{slug:this.props.match.params.slug}))))}}]),a}(r.a.Component),jn=Object(o.b)((function(e){e.Article;return{}}),(function(e){return{}}))(On),xn=a(363),Nn=a(364),In=function(e){var t=r.a.useState(Date.now()),a=Object(g.a)(t,2),n=a[0],l=a[1];return r.a.createElement(Nn.a,{value:n,onChange:l})},kn=function(e){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group avatar-box d-flex align-items-center"},r.a.createElement("img",{src:"../assets/content/anonymous-400.jpg",width:"40",height:"40",alt:"",className:"rounded-500 mr-4"}),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile"}),r.a.createElement("label",{className:"custom-file-label",for:"customFile"},"Upload picture"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-4"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Name"})),r.a.createElement("div",{className:"col-12 col-lg-4"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Lastname"})),r.a.createElement("div",{className:"col-12 col-lg-4"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Middlename"})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-2"},r.a.createElement("input",{className:"form-control",type:"number",placeholder:"ID"})),r.a.createElement("div",{className:"col-12 col-lg-2"},r.a.createElement(xn.a,{type:"select"},r.a.createElement("option",{selected:!0,disabled:!0,className:"d-none"},"Gender"),r.a.createElement("option",null,"Male"),r.a.createElement("option",null,"Female"))),r.a.createElement("div",{className:"col-12 col-lg-4"},r.a.createElement(In,null)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"number",placeholder:"Age"}))),r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement("div",{className:"form-group"}))),r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement("textarea",{className:"form-control",placeholder:"Address",rows:"3"})))},An=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("Patient registration",this.props),r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-12"},r.a.createElement(kn,null))))}}]),a}(r.a.Component),wn=Object(o.b)((function(e){e.Article;return{}}),(function(e){return{}}))(An),Dn="Patient/LoadItemsReq",Sn="Patient/LoadItemsRes",Cn="Patient/LoadItemReq",Ln="Patient/LoadItemRes",Rn={items:[],loadingItems:!1,shouldLoadItems:!0,item:{},loadingItem:!1,deleteDialogOpen:!1,deleteId:"",saving:!1},Tn={Article:nn,Dashboard:M,Patient:T("Patient","/patient",(function(e){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:e.match.path,component:pn}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/register",component:wn}),r.a.createElement(m.b,{exact:!0,path:e.match.path+"/view/:slug",component:jn}))}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cn:return Object(x.a)({},e,{loadingItem:!0});case Ln:var a=t.payload.item;return Object(x.a)({},e,{item:a,loadingItem:!1});case Dn:return Object(x.a)({},e,{loadingItems:!0});case Sn:return Object(x.a)({},e,{loadingItems:!1,shouldLoadItems:!1,items:t.payload.items});case"Patient/SaveReq":return Object(x.a)({},e,{saving:!0});case"Patient/SaveRes":a=t.payload.item;var n=!1,r=e.items.map((function(e,t){return e&&e._id===a._id?(n=!0,a):e}));return n||r.push(a),Object(x.a)({},e,{items:r,saving:!1});case"Patient/ShowDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!0,deleteId:t.payload.deleteId});case"Patient/CloseDeleteDialog":return Object(x.a)({},e,{deleteDialogOpen:!1});case"Patient/DeleteRes":a=t.payload.item;return Object(x.a)({},e,{items:e.items.filter((function(e){return e._id!==a._id}))});default:return e}}))},Fn=function(e){var t=[];return t=Object(Z.a)(t),Object(ee.d)(e,ee.a.apply(void 0,Object(Z.a)(t)))}(Object(ee.c)(function(e){for(var t={},a=F(e),n=0;n<a.length;n++){var r=a[n].reducer;if("function"!==typeof r)throw new Error("Module "+n+" does not define reducer!");t[a[n].MODULE]=r}return t}(Tn))),Pn=function(e,t,a,n){arguments.length>4&&void 0!==arguments[4]&&arguments[4];return F(e).map((function(e){if(console.log("x",e),!e.component)throw new Error("Component for module "+e+" is not defined");var a={path:e.path,title:e.title,component:e.component,onEnter:e.onEnter?function(a){e.onEnter(a,t.dispatch)}:null};return e.children&&(a.routes=Object.keys(e.children).map((function(a){var n=e.children[a];if(!n.component)throw new Error("Component for module "+e+"/"+a+" is not defined");return{path:e.path+n.path,title:n.title,component:n.component,onEnter:n.onEnter?function(e){n.onEnter(e,t.dispatch)}:null}}))),a}))}(Tn,Fn,Y,U),Bn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _n(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(c.AppContainer,null,r.a.createElement(Q,{store:Fn,history:K,routes:Pn})),document.getElementById("root")),function(e){if(console.log("env","production"),"serviceWorker"in navigator){if(new URL("/lms-client",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/lms-client","/service-worker.js");Bn?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_n(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_n(t,e)}))}}()}},[[260,3,4]]]);
//# sourceMappingURL=main.8e576ee5.chunk.js.map